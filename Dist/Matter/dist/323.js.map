{"version":3,"sources":["webpack://matter/./node_modules/@fluentui/react-hooks/lib/useBoolean.js","webpack://matter/./node_modules/@fluentui/react-hooks/lib/useControllableValue.js","webpack://matter/./node_modules/@fluentui/react-hooks/lib/useId.js","webpack://matter/./node_modules/@fluentui/react-hooks/lib/useSetTimeout.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Announced/Announced.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Announced/Announced.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Announced/Announced.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Check/Check.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Check/Check.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Check/Check.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsColumn.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsColumn.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsColumn.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsHeader.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsHeader.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsHeader.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsHeader.types.js","webpack://matter/./node_modules/@fluentui/react/lib/utilities/decorators/withViewport.js","webpack://matter/./node_modules/@fluentui/react/lib/utilities/groupedList/GroupedListUtility.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsList.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsList.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsList.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsList.types.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsRow.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsRow.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsRow.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsRowCheck.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsRowCheck.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/DetailsList/DetailsRowFields.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/Dialog.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/Dialog.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/Dialog.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/DialogContent.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/DialogContent.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/DialogContent.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/DialogContent.types.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/DialogFooter.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/DialogFooter.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Dialog/DialogFooter.js","webpack://matter/./node_modules/@fluentui/react/lib/components/FocusTrapZone/FocusTrapZone.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupFooter.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupFooter.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupFooter.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupHeader.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupHeader.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupHeader.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupShowAll.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupShowAll.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupShowAll.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupSpacer.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupedList.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupedList.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupedList.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupedList.types.js","webpack://matter/./node_modules/@fluentui/react/lib/components/GroupedList/GroupedListSection.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Label/Label.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Label/Label.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Label/Label.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Link/useLink.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Link/Link.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Link/Link.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Link/Link.js","webpack://matter/./node_modules/@fluentui/react/lib/components/List/List.js","webpack://matter/./node_modules/@fluentui/react/lib/components/List/List.types.js","webpack://matter/./node_modules/@fluentui/react/lib/components/MarqueeSelection/MarqueeSelection.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/MarqueeSelection/MarqueeSelection.js","webpack://matter/./node_modules/@fluentui/react/lib/components/MarqueeSelection/MarqueeSelection.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/utilities/DraggableZone/DraggableZone.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/utilities/DraggableZone/DraggableZone.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Modal/Modal.base.js","webpack://matter/./node_modules/@fluentui/react-hooks/lib/useUnmount.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Modal/Modal.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Modal/Modal.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Overlay/Overlay.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Overlay/Overlay.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Overlay/Overlay.js","webpack://matter/./node_modules/@fluentui/react/lib/components/SearchBox/SearchBox.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/SearchBox/SearchBox.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/SearchBox/SearchBox.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Spinner/Spinner.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Spinner/Spinner.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Spinner/Spinner.js","webpack://matter/./node_modules/@fluentui/react/lib/components/Spinner/Spinner.types.js","webpack://matter/./node_modules/@fluentui/react/lib/components/TextField/TextField.base.js","webpack://matter/./node_modules/@fluentui/react/lib/components/TextField/TextField.styles.js","webpack://matter/./node_modules/@fluentui/react/lib/components/TextField/TextField.js","webpack://matter/./node_modules/@fluentui/react/lib/utilities/dragdrop/DragDropHelper.js","webpack://matter/./node_modules/@fluentui/react/lib/utilities/selection/SelectionZone.js","webpack://matter/./node_modules/@fluentui/utilities/lib/AutoScroll.js","webpack://matter/./node_modules/@fluentui/utilities/lib/DelayedRender.js","webpack://matter/./node_modules/@fluentui/utilities/lib/controlled.js","webpack://matter/./node_modules/@fluentui/utilities/lib/dom/getRect.js","webpack://matter/./node_modules/@fluentui/utilities/lib/ie11Detector.js","webpack://matter/./node_modules/@fluentui/utilities/lib/math.js","webpack://matter/./node_modules/@fluentui/utilities/lib/modalize.js","webpack://matter/./node_modules/@fluentui/utilities/lib/renderFunction/composeRenderFunction.js","webpack://matter/./node_modules/@fluentui/utilities/lib/selection/Selection.js","webpack://matter/./node_modules/@fluentui/utilities/lib/selection/Selection.types.js","webpack://matter/./node_modules/@fluentui/utilities/lib/warn/warnControlledUsage.js"],"names":["useBoolean","initialState","_a","value","setValue","setTrue","setFalse","toggle","currentValue","useControllableValue","controlledValue","defaultUncontrolledValue","onChange","isControlled","undefined","valueRef","onChangeRef","current","setValueOrCallOnChange","update","ev","newValue","useId","prefix","providedId","ref","useSetTimeout","timeoutIds","_i","Object","keys","length","id","clearTimeout","setTimeout","func","duration","getClassNames","AnnouncedBase","_super","apply","this","arguments","prototype","render","props","message","styles","_b","as","Root","className","classNames","role","root","screenReaderText","defaultProps","Announced","styled","CheckBase","checked","theme","useFastIcons","IconComponent","iconName","circle","check","displayName","Check","scope","CheckGlobalClassNames","checkHost","getStyles","_c","_d","_e","_f","height","checkBoxHeight","palette","semanticColors","fonts","isRTL","sharedCircleCheck","fontSize","position","left","top","width","textAlign","verticalAlign","medium","lineHeight","userSelect","selectors","content","right","bottom","borderRadius","opacity","background","bodyBackground","themePrimary","color","neutralSecondary","white","fontWeight","border","defaultOnRenderHeader","column","isIconOnly","accessibleLabel","name","DetailsColumnBase","_this","call","_root","_onRenderColumnHeaderTooltip","tooltipHostProps","hostClassName","children","_onColumnClick","onColumnClick","columnActionsMode","_onDragStart","item","itemIndex","selectedItems","event","_classNames","_updateHeaderDragInfo","classList","add","borderWhileDragging","_async","noBorderWhileDragging","_onDragEnd","remove","setDraggedItemIndex","updateDragInfo","_onColumnContextMenu","onColumnContextMenu","preventDefault","_onRootMouseDown","isDraggable","button","stopPropagation","_events","columnIndex","parentId","cellStyleProps","onRenderColumnHeaderTooltip","headerClassName","iconClassName","isActionable","isEmpty","isIconVisible","isSorted","isGrouped","isFiltered","isPadded","transitionDurationDrag","transitionDurationDrop","onRenderHeader","hasInnerButton","accNameDescription","key","_hasAccessibleLabel","isSortedDescending","draggable","style","calculatedWidth","cellLeftPadding","cellRightPadding","cellExtraRightPadding","gripperBarVerticalStyle","cellTooltip","setAriaDescribedBy","ariaLabel","cellTitle","onContextMenu","onClick","isMenuOpen","cellName","nearIcon","sortIcon","filterChevron","_renderAccessibleLabel","componentDidMount","dragDropHelper","_addDragDropHandling","isDropped","borderAfterDropping","noBorderAfterDropping","TRANSITION_DURATION_DROP","componentWillUnmount","_dragDropSubscription","dispose","componentDidUpdate","off","_getColumnDragDropOptions","selectionIndex","context","data","index","canDrag","canDrop","onDragStart","updateDropState","onDrop","onDragEnd","filterAriaLabel","sortAscendingAriaLabel","sortDescendingAriaLabel","groupAriaLabel","subscribe","on","GlobalClassNames","cellIsCheck","collapseButton","isCollapsed","isAllSelected","isSelectAllHidden","isResizingColumn","cellSizer","isResizing","dropHintCircleStyle","dropHintLineStyle","DetailsColumn","colors","iconForegroundColor","bodySubtext","headerForegroundColor","bodyText","headerBackgroundColor","dropdownChevronForegroundColor","resizerColor","neutralTertiaryAlt","nearIconStyle","paddingLeft","outline","borderAfterDragOrDrop","outlineColor","small","listHeaderBackgroundHovered","listHeaderBackgroundPressed","textOverflow","paddingRight","display","neutralTertiary","flexDirection","justifyContent","alignItems","boxSizing","overflow","padding","alignContent","maxHeight","flexWrap","flex","transition","classNamesFunction","NO_COLUMNS","DetailsHeaderBase","_rootElement","_rootComponent","_draggedColumnIndex","_dropHintDetails","_updateDroppingState","type","_resetDropHints","_onDragOver","_computeDropHintToBeShown","clientX","_onDrop","columnReorderProps","_getColumnReorderProps","targetIndex","_currentDropHintIndex","isValidDrop","_isValidCurrentDropHintIndex","_onDropIndexInfo","sourceIndex","onColumnDrop","dragDropDetails","draggedIndex","handleColumnReorder","_updateDragInfo","_isCheckboxColumnHidden","_getDropHintPositions","onColumnDragStart","onColumnDragEnd","columnDragEndLocation","_isEventOnHeader","dropLocation","prevRef","columns","prevX","prevMid","frozenColumnCountFromStart","frozenColumnCountFromEnd","i","dropHintElement","querySelectorAll","offsetLeft","newMid","originX","startX","endX","dropHintElementRef","isRtl","eventXRelativePosition","getBoundingClientRect","currentDropHintIndex","_liesBetween","currentIndex","lastValidColumn","indexToUpdate","_isBefore","_isAfter","startIndex","endIndex","middleIndex","Math","ceil","_updateDropHintElement","_renderColumnSizer","columnResizeDetails","state","isResizable","_stopPropagation","onBlur","_onSizerBlur","css","cellSizerStart","cellSizerEnd","cellIsResizing","onDoubleClick","_onSizerDoubleClick","bind","_onSelectAllClicked","selection","toggleAllSelected","columnIndexAttr","target","getAttribute","Number","setState","columnMinWidth","_onRootMouseMove","isSizing","_onRootKeyDown","onColumnResized","increment","which","KeyCodes","shiftKey","_onSizerMouseMove","buttons","onColumnIsSizingChanged","movement","_onSizerMouseUp","_onToggleCollapseAll","onToggleCollapseAll","newCollapsed","isAllCollapsed","initializeComponentRef","EventGroup","_id","getId","_dragDropHelper","DragDropHelper","getSelection","minimumPixelsForDrag","_onSelectionChanged","_subscriptionObject","_getHeaderDragDropOptions","prevProps","previousColumns","ariaLabelForToggleAllGroupsButton","ariaLabelForSelectAllCheckbox","selectAllVisibility","ariaLabelForSelectionColumn","indentWidth","selectionMode","onRenderDetailsCheckbox","groupNestingDepth","checkboxVisibility","showCheckbox","isCheckboxHidden","isCheckboxAlwaysVisible","FontIcon","Icon","FocusZone","componentRef","elementRef","onMouseMove","direction","checkTooltip","DetailsRowCheck","D","isHeader","selected","anySelected","canSelect","isVisible","collapseAllVisibility","cellIsGroupExpander","GroupSpacer","count","map","_isDraggable","_renderDropHint","_renderColumnDivider","Layer","sizingOverlay","onMouseUp","focus","columnReorderOptions","onDragOver","element","displayProperty","childNodes","clientRect","clientY","onRenderDivider","dropHintIndex","dropHintStyle","dropHintCaretStyle","onColumnAutoResized","rtl","a","b","DetailsHeader","tooltipHost","cell","gripperBarVertical","HEADER_HEIGHT","getCellStyles","margin","whiteSpace","cellSizerFadeInStyles","cellStyles","minWidth","paddingBottom","paddingTop","borderBottom","bodyDivider","cursor","cellWrapperPadded","backgroundColor","neutralLighter","neutralLight","cellIsActionable","cellIsEmpty","zIndex","boxShadow","marginLeft","transformOrigin","transform","visibility","SelectAllVisibility","withViewport","ComposedComponent","WithViewportComponent","_registerResizeObserver","win","getWindow","_viewportResizeObserver","ResizeObserver","_onAsyncResize","observe","_unregisterResizeObserver","disconnect","_updateViewport","withForceUpdate","viewport","viewportElement","scrollElement","scrollRect","getRect","_resizeAttempts","_composedComponentInstance","forceUpdate","Async","skipViewportMeasures","disableResizeObserver","debounce","leading","_isResizeObserverAvailable","previousProps","previousSkipViewportMeasures","newViewport","minHeight","_updateComposedComponentRef","BaseDecorator","MIN_COLUMN_WIDTH","DetailsListInner","ariaLabelForListHeader","compact","constrainMode","dragDropEvents","groups","groupProps","items","isPlaceholderData","isHeaderVisible","layoutMode","onItemInvoked","onItemContextMenu","onColumnHeaderClick","onColumnHeaderContextMenu","mode","selectionPreservedOnEmptyClick","selectionZoneProps","ariaLabelForGrid","rowElementEventMap","shouldApplyApplicationRole","getKey","listProps","usePageCache","onShouldVirtualize","getGroupHeight","onRenderCheckbox","adjustedColumns","isSomeGroupExpanded","version","rootRef","listRef","focusZoneRef","groupedListRef","headerRef","onGroupExpandStateChanged","onRowDidMount","onRowWillUnmount","disableSelectionZone","onToggleCollapse","onActiveRowChanged","eventsToRegister","onRenderMissingItem","onRenderItemColumn","getCellValueKey","getRowAriaLabel","getRowAriaDescribedBy","checkButtonAriaLabel","checkButtonGroupAriaLabel","checkboxCellClassName","useReducedRowRenderer","enableUpdateAnimations","enterModalSelectionOnTouch","onRenderDefaultRow","selectionZoneRef","defaultRole","rowId","level","groupsInLevel","getGroupNestingDepth","groupedDetailsListIndexMap","indexMap","rowCount","numGroupHeaders","groups_1","group","numOfGroupHeadersBeforeItem","totalRowCount","useGroupedDetailsListIndexMap","additionalListProps","renderedWindowsAhead","renderedWindowsBehind","isCollapsedGroupSelectVisible","headerProps","defaultOnRenderDetailsHeader","detailsHeaderProps","defaultOnRenderDetailsFooter","propsOnRenderDetailsHeader","onRenderDetailsHeader","composeRenderFunction","propsOnRenderDetailsFooter","onRenderDetailsFooter","detailsFooterProps","columnReorderOnDragEnd","finalDropLocation","total","remainingGroups","currentGroup","pop","push","GetGroupCount","colCount","isFixed","isHorizontalConstrained","onRenderDetailsGroupFooter","onRenderFooter","finalOnRenderDetailsGroupFooter","groupFooterProps","defaultRender","onRenderDetailsGroupHeader","finalOnRenderDetailsGroupHeader","groupHeaderProps","groupIndex","groupKey","ariaColSpan","ariaPosInSet","ariaSetSize","ariaRowCount","ariaRowIndex","finalGroupProps","selectAllButtonProps","sumColumnWidths","useConst","memoize","totalWidth","forEach","rowWidth","onRenderCell","nestingDepth","finalOnRenderRow","onRenderRow","rowProps","flatIndexOffset","onDidMount","onWillUnmount","onRenderListCell","isRightArrow","focusZoneProps","focusZone","shouldEnterInnerZone","onActiveElementChanged","shouldRaiseClicks","list","GroupedList","List","onHeaderKeyDown","getSelectedIndices","setIndexSelected","onContentKeyDown","altKey","onKeyDown","headerWrapper","contentWrapper","SelectionZone","enterModalOnTouch","DetailsListBase","_header","_groupedList","_list","_focusZone","_selectionZone","_onRenderRow","DetailsRow","_getDerivedStateFromProps","nextProps","previousState","setKey","_selection","isAllGroupsCollapsed","newViewportWidth","oldViewportWidth","shouldResetSelection","shouldForceUpdates","nextState","_initialFocusedIndex","initialFocusedIndex","focusedItemIndex","setItems","_adjustColumns","_onGroupExpandStateChanged","_onColumnIsSizingChanged","_onRowDidMount","row","itemKey","_getItemKey","_activeRows","_setFocusToRowIfPending","_onRowWillUnmount","_onToggleCollapse","collapsed","toggleCollapseAll","_onColumnResized","resizingColumn","newWidth","resizingColumnIndex","newCalculatedWidth","max","onColumnResize","_rememberCalculatedWidth","_onColumnAutoResized","totalCount","hasOwnProperty","measureCell","_onActiveRowChanged","el","onActiveItemChanged","_onBlur","_columnOverrides","lastWidth","_getAdjustedColumns","getDerivedStateFromProps","Selection","onSelectionChanged","scrollToIndex","measureItem","scrollToMode","focusIndex","forceIntoFirstElement","_setFocusToRow","getStartItemIndexInView","prevState","_notifyColumnsResized","elementContains","document","activeElement","onDidUpdate","_forceListUpdates","_getGroupNestingDepth","ignoreNextFocus","currentWidth","newProps","viewportWidth","newItems","newColumns","lastSelectionMode","buildColumns","_getFixedColumns","_getJustifiedColumnsAfterResize","_getJustifiedColumns","_getColumnOverride","flexMargin","remainingWidth","sumProportionalWidth","col","flexGrow","maxWidth","getPaddedWidth","rowCheckWidth","groupExpandWidth","widthFraction","newColumn","fullWidth","shrinkWidth","min","MAX_VALUE","fixedColumns","slice","fixedWidth","reduce","remainingColumns","firstIndex","availableWidth","lastIndex","overflowWidth","isCollapsible","isCollapsable","originalWidth","splice","isLast","overrides","spaceLeft","canResizeColumns","sortedColumnKey","groupedColumnKey","isMultiline","firstItem","propName","fieldName","isRowHeader","paddingOnly","listCell","DetailsList","listText","wordBreak","overflowX","overflowY","WebkitOverflowScrolling","ColumnActionsMode","ConstrainMode","ColumnDragEndLocation","DetailsListLayoutMode","CheckboxVisibility","DetailsRowBase","_cellMeasurer","selectionState","getSelectionState","isDropping","onDragEnter","_droppingClassNames","onDragLeave","columnMeasureInfo","_getRowDragDropOptions","_onDidMountCalled","onMeasureDone","shouldComponentUpdate","newSelectionState","isSelected","onRenderCheck","_onRenderCheck","rowFieldsAs","RowFields","cellsByColumn","_g","_h","_j","_k","_l","isSelectionModal","droppingClassName","ariaDescribedBy","canSelectItem","isContentUnselectable","ariaSelected","ariaPositionInSet","rowClassNames","cellAnimation","cellPadded","cellUnpadded","fields","_rowClassNames","rowFields","rowHeaderId","columnStartIndex","allowFocusRoot","checkCell","cellMeasurer","checkCover","eventMap","isIndexSelected","isModal","DetailsRowGlobalClassNames","cellCheck","listCellFirstChild","isCheckVisible","DEFAULT_CELL_STYLE_PROPS","DEFAULT_ROW_HEIGHTS","rowHeight","compactRowHeight","values","rowVerticalPadding","compactRowVerticalPadding","getDetailsRowStyles","_m","_o","neutralPrimary","neutralDark","neutralQuaternaryAlt","focusBorder","defaultHeaderText","defaultMetaText","defaultBackground","defaultHoverHeaderText","defaultHoverMetaText","defaultHoverBackground","selectedHeaderText","selectedMetaText","selectedBackground","selectedHoverHeaderText","selectedHoverMetaText","selectedHoverBackground","focusHeaderText","focusMetaText","focusBackground","focusHoverBackground","selectedStyles","inset","borderColor","highContrastStyle","borderTop","cannotSelectStyles","rootCompactStyles","cellCompactStyles","defaultCellStyles","flexShrink","marginTop","FastCheck","_defaultCheckboxRender","checkboxProps","_fastDefaultCheckboxRender","checkClassName","buttonProps","defaultCheckboxRender","detailsCheckboxProps","tabIndex","isDisabled","CHECK_CELL_WIDTH","DetailsRowFields","cellValueKeysRef","cellValueKeys","onRender","getValueKey","cellContentsRender","toString","getCellText","previousValueKey","cellValueKey","showAnimation","DefaultModalProps","isDarkOverlay","isBlocking","containerClassName","topOffsetFixed","DefaultDialogContentProps","topButtonsProps","DialogBase","_getSubTextId","ariaDescribedById","modalProps","dialogContentProps","subText","subtitleAriaId","_defaultSubTextId","_getTitleTextId","ariaLabelledById","title","titleAriaId","_defaultTitleTextId","dialogDraggableClassName","dragOptions","contentClassName","elementToFocusOnDismiss","firstFocusableSelector","forceFocusInsideTrap","hidden","ignoreExternalFocusing","isClickableOutsideFocusTrap","isOpen","onDismiss","onDismissed","onLayerDidMount","responsiveMode","mergedLayerProps","layerProps","dragHandleSelector","mergedModalProps","draggableHeaderClassName","titleProps","titleId","dialogDefaultMinWidth","dialogDefaultMaxWidth","main","subTextId","showCloseButton","Dialog","DialogFooterType","DialogContentBase","subTextContent","closeButtonAriaLabel","isLargeHeader","isClose","groupings","_groupChildren","header","topButton","uniqueId","iconProps","inner","innerContent","contents","footers","child","contentLgHeader","close","headerLg","DialogContent","effects","wordWrap","buttonText","xLarge","menuHeader","xxLarge","buttonTextHovered","roundedCorner2","DialogType","DialogFooterBase","actions","actionsRight","_renderChildrenAsActions","action","DialogFooter","marginRight","FocusTrapZone","firstBumper","lastBumper","mergedRootRef","doc","divProps","internalState","previouslyFocusedElementOutsideTrapZone","previouslyFocusedElementInTrapZone","disposeFocusHandler","disposeClickHandler","hasFocus","unmodalize","ariaLabelledBy","disabled","disableFirstFocus","currentDisabledValue","focusPreviouslyFocusedInnerElement","onFocus","onFocusCapture","onBlurCapture","enableAriaHiddenSiblings","bumperProps","pointerEvents","focusSelector","firstFocusableChild","querySelector","firstChild","onBumperFocus","isFirstBumper","currentBumper","nextFocusable","onRootBlurCapture","relatedTarget","onRootFocusCapture","currentTarget","returnFocusToInitiator","focusStack","filter","body","forceFocusInTrap","focusedElement","forceClickInTrap","clickedElement","updateEventHandlers","window","parentRoot","newForceFocusInsideTrap","newDisabled","useUnmount","previouslyFocusedElement","useComponentRef","unmountFunction","unmountRef","GroupFooter","groupLevel","footerText","dropIcon","expand","iconTag","beziers","GroupHeaderBase","_toggleCollapse","isGroupLoading","newLoadingVisible","isLoadingVisible","_onKeyUp","onGroupHeaderKeyUp","defaultPrevented","shouldOpen","_onToggleClick","_onToggleSelectGroupClick","onToggleSelectGroup","_onHeaderClick","onGroupHeaderClick","_onRenderTitle","headerCount","hasMoreData","loadingText","onRenderTitle","onRenderGroupHeaderCheckbox","expandButtonProps","expandButtonIcon","canSelectGroup","isSelectionCheckVisible","currentlySelected","onKeyUp","groupHeaderContainer","expandIsCollapsed","Spinner","label","GroupHeader","finalRowHeight","checkExpandResetStyles","listBackground","listItemBackgroundHovered","actionLinkHovered","transitionDelay","listItemBackgroundChecked","listItemBackgroundCheckedHovered","neutralQuaternary","mediumPlus","link","GroupShowAll","showAllLinkText","onToggleSummarize","memoizedOnClick","useCallback","Link","SPACER_WIDTH","ROW_HEIGHT","COMPACT_ROW_HEIGHT","GroupedListBase","_renderGroup","dividerProps","_onToggleSelectGroup","_onToggleSummarize","showAllProps","footerProps","showEmptyGroups","finalListProps","_getGroupKey","getGroupItemLimit","onRenderGroupHeader","onRenderGroupShowAll","onRenderShowAll","onRenderGroupFooter","groupedListClassNames","_getDefaultGroupItemLimit","_getGroupItemLimit","_getGroupHeight","_getPageHeight","pageGroup","_updateIsSomeGroupExpanded","toggleRangeSelected","_isInnerZoneKeystroke","isShowingAll","_getPageSpecification","_isSomeGroupExpanded","_computeIsSomeGroupExpanded","listVersion","_setGroupsCollapsedState","rootListProps","getItemCountForPage","_returnOne","getPageHeight","getPageSpecification","allCollapsed","String","some","newIsSomeGroupExpanded","groupIsDropping","CollapseAllVisibility","GroupedListSection","_subGroupRefs","_droppingClassName","_onRenderGroupHeader","_onRenderGroupShowAll","_onRenderGroupFooter","_renderSubGroup","subGroup","subGroupIndex","_getGroupDragDropOptions","isGroup","newIsDropping","isRangeSelected","_onSelectionChange","renderCount","Infinity","isShowAllVisible","hasNestedGroups","ariaControlsProps","groupedListId","groupShowAllProps","canDragGroups","_getDroppingClassName","_onRenderGroup","forceListUpdate","subGroupCount","pageRefs","_onRenderGroupCell","cacheSize","LabelBase","RootType","required","Label","labelFontWeight","labelColor","labelDisabledColor","disabledBodyText","labelRequiredStarColor","errorText","overflowWrap","adjustPropsForRootType","href","restProps","underline","LinkBase","forwardedRef","mergedRootRefs","useMergedRefs","useFocusRects","isButton","isUnderlined","rootType","slots","slotProps","useLink","linkColor","linkInteractedColor","linkHovered","linkDisabledColor","disabledText","focusBorderColor","textDecoration","forcedColorAdjust","MsHighContrastAdjust","EMPTY_RECT","_measurePageRect","_measureSurfaceRect","_measureScrollRect","_surface","_pageRefs","_resetRequiredWindows","_requiredRect","_measureVersion","_invalidatePageCache","_updatePages","_onRenderRoot","surfaceElement","_onRenderSurface","surfaceRef","pageElements","_onRenderPage","pageProps","page","cellRole","cells","ignoreScrollingState","isScrolling","pages","_estimatedPageHeight","_totalEstimates","_requiredWindowsAhead","_requiredWindowsBehind","_onAsyncScroll","maxWait","_onAsyncIdle","_onScrollingDone","_cachedPageHeights","_focusedIndex","_pageCache","defineProperty","get","enumerable","configurable","_getRenderCount","allowedRect","_allowedRect","scrollTop","itemsPerPage","pageSpecification","pageHeight","itemCount","_scrollElement","scrollWindow","itemPositionWithinPage","itemIndexInPage","scrollBottom","pages_1","isSpacer","_scrollTop","floor","totalRowHeight","_onFocus","_onScroll","finalProps","finalState","_updatePageMeasurements","_materializedRect","_hasCompletedFirstRender","onPagesUpdated","newState","oldPages","newPages","oldPage","newPage","_updateRenderRects","getTotalListHeight","_surfaceRect","onRenderSurface","onRenderRoot","pages_2","_renderPage","finalOnRenderSurface","_shouldVirtualize","cachedPage","pageElement","pageStyle","_getPageStyle","onRenderPage","newRef","getPageStyle","indexString","innerRect","outerRect","requiredWindowsAhead","requiredWindowsBehind","windowsAhead","windowsBehind","newListState","_buildPages","oldListPages","_notifyPageChanges","onPageAdded","onPageRemoved","renderedIndexes","oldPages_1","newPages_1","_onPageAdded","_onPageRemoved","heightChanged","_measurePage","hasChangedHeight","cachedHeight","measureVersion","newClientRect","clientWidth","clientHeight","round","materializedRect","pageTop","currentSpacer","focusedIndex","shouldVirtualize","isFirstRender","_loop_1","this_1","pageData","targetRect","newRect","pageBottom","isPageRendered","isPageInAllowedRange","isPageInRequiredRange","itemsInPage","_createPage","_visibleRect","SPACER_KEY_PREFIX","visibleRect","_getItemCountForPage","visibileRect","pageKey","surfaceRect","scrollHeight","_scrollHeight","abs","visibleTop","innerHeight","_expandRect","containsFocus","rect","pagesBefore","pagesAfter","ScrollToMode","auto","center","MarqueeSelectionBase","_onMouseDown","isEnabled","onShouldStartSelection","_isMouseEventOnScrollbar","_isInSelectionToggle","_isTouch","_isDragStartInSelection","_scrollableSurface","_selectedIndicies","_preservedIndicies","_onAsyncMouseMove","_scrollableParent","_onMouseUp","_autoScroll","AutoScroll","_scrollLeft","scrollLeft","_rootRect","_onMouseMove","_onTouchStart","_onPointerDown","pointerType","dragRect","hitTarget","isDraggingConstrainedToRoot","rootProps","dragMask","box","boxFill","targetElement","targetScrollbarWidth","offsetWidth","_getRootRect","requestAnimationFrame","_lastMouseEvent","rootRect","currentPoint","_dragOrigin","setAllSelected","constrainedPoint","_evaluateSelection","_itemRectCache","_isPointInRectangle","rectangle","point","getSelectedCount","allElements","itemRect","parentElement","previousSelectedIndices","_allSelectedIndices","needToUpdate","setChangeEvents","rootTagName","MarqueeSelection","isDragging","touchAction","eventMapping","start","move","stop","DraggableZone","_currentEventType","onMouseDown","_onDragStop","onTouchStart","_onTouchEnd","onTouchEnd","handleSelector","_matchesSelector","preventDragSelector","_touchId","_getTouchId","_getControlPosition","dragData","_createDragDataFromPosition","onStart","lastPosition","_onDrag","updatedData","_createUpdatedDragData","updatedPosition","onDragChange","baseDragData","onStop","x","y","statePosition","touchObj","_getActiveTouch","eventToGetOffset","targetTouches","_findTouchInTouchList","changedTouches","touch","identifier","selector","matchesSelectorFn","matches","webkitMatchesSelector","msMatchesSelector","touchList","delta","ZERO","DEFAULT_PROPS","ModalBase","propsWithoutDefaults","callback","getPropsWithDefaults","allowTouchBodyScroll","scrollableContentClassName","overlay","isModeless","focusTrapZone","focusTrapZoneElm","mergedRef","modalResponsiveMode","useResponsiveMode","focusTrapZoneId","isModalOpen","setIsModalOpen","setIsVisible","coordinates","setCoordinates","modalRectangleTop","setModalRectangleTop","isModalMenuOpen","toggleModalMenuOpen","setModalMenuClose","onModalCloseTimer","scrollableContent","lastSetCoordinates","events","keepInBounds","layerClassName","hasBeenOpened","windowInnerHeight","isDefaultDragHandle","eventBubblingEnabled","insertFirst","layer","allowScrollOnModal","elt","registerInitialModalPosition","dialogMain","modalRectangle","minPosition","maxPosition","getClampedAxis","axis","handleModalClose","isInKeyboardMoveMode","disposeOnKeyUp","handleDragStart","handleDrag","prevValue","handleDragStop","handleKeyUp","ctrlKey","keyCode","parseFloat","modalContent","disposeOnKeyDown","keyboardMoveIconContainer","keyboardMoveIconProps","keyboardMoveIcon","menu","text","moveMenuItemText","handleKeyDown","handledEvent","delta_1","getMoveDelta","closeMenuItemText","alignTargetEdge","coverTarget","directionalHint","DirectionalHint","directionalHintFixed","shouldFocusOnMount","Popup","shouldRestoreFocus","Overlay","isDarkThemed","Modal","animationDuration","globalClassNames","elevation64","xLargePlus","OverlayBase","_allowTouchBodyScroll","isDark","rootDark","isNone","whiteTranslucent40","blackTranslucent40","COMPONENT_NAME","iconButtonStyles","icon","iconButtonProps","defaultClearButtonProps","SearchBoxBase","defaultValue","setHasFocus","uncastValue","rootElementRef","inputElementRef","underlined","labelText","placeholder","clearButtonProps","disableAnimation","customOnClear","onClear","customOnBlur","customOnEscape","onEscape","customOnSearch","onSearch","customOnKeyDown","customOnClearClick","hasInput","nativeProps","onClearClick","onInputChange","iconContainer","selectionStart","selectionEnd","field","onInput","clearButton","SearchBox","placeholderStyles","inputPlaceholderText","inputIconAlt","inputIconAltHovered","inputBorderDisabled","inputBackgroundHovered","inputBackgroundDisabled","inputText","inputBackground","inputBorder","inputBorderHovered","inputIconHovered","inputFocusBorderAlt","borderWidth","inputIcon","inputIconDisabled","flexBasis","fontFamily","SpinnerBase","size","ariaLive","labelPosition","statusMessage","styleSize","spinAnimation","themeLight","borderTopColor","animationName","animationIterationCount","animationTimingFunction","SpinnerSize","SpinnerType","__browserNeedsRevealButton","TextFieldBase","_textElement","isFocused","validateOnFocusIn","_validate","validateOnFocusOut","_onRenderLabel","labelStyles","subComponentStyles","htmlFor","_labelId","_onRenderDescription","description","_onRevealButtonClick","isRevealingPassword","_onInputChange","previousValue","_getValue","_lastChangeValue","_isControlled","uncontrolledValue","_fallbackId","_descriptionId","_warnControlledUsage","errorMessage","_delayedValidate","deferredValidationTime","_lastValidation","_adjustInputHeight","validateOnLoad","getSnapshotBeforeUpdate","snapshot","end","multiline","setSelectionRange","_shouldValidateAllChanges","borderless","inputClassName","resizable","suffix","autoAdjustHeight","canRevealPassword","revealPasswordAriaLabel","onRenderPrefix","_onRenderPrefix","onRenderSuffix","_onRenderSuffix","onRenderLabel","onRenderDescription","_errorMessage","hasRevealButton","navigator","isEdge","test","userAgent","_browserNeedsRevealButton","focused","hasLabel","hasErrorMessage","hasIcon","wrapper","fieldGroup","_renderTextArea","_renderInput","revealButton","revealSpan","revealIcon","_isDescriptionAvailable","_renderErrorMessage","blur","select","setSelectionStart","setSelectionEnd","componentId","componentName","oldProps","valueProp","defaultValueProp","onChangeProp","readOnlyProp","_hasWarnedNullValue","textAreaProps","readOnly","inputProps","_latestValidateValue","onGetErrorMessage","result","currentValidation_1","then","_notifyAfterValidate","onNotifyValidationResult","textField","unresizable","active","getLabelStyles","TextField","fieldPrefixSuffix","disabledBackground","disabledPlaceholderStyles","borderBottomColor","resize","xSmall","primaryButtonBackgroundHovered","buttonBackgroundHovered","params","_dragEnterCounts","_activeTargets","_lastId","_initialized","dragDropOptions","_onDocumentMouseUp","isDroppable","activeTarget","handlers","updateDropState_1","dragDropTarget","options","_isDroppable","eventMap_1","event_1","handler","eventName","isHandled","_isDragging","dataTransfer","setData","handlers_1","unsubscribe","_dragData","dropTarget","documentElement","_isChild","_onMouseLeave","eventTarget","dragTarget","childElement","dragContext","SELECTION_INDEX_ATTRIBUTE_NAME","SELECTION_TOGGLE_ATTRIBUTE_NAME","SELECTION_INVOKE_ATTRIBUTE_NAME","SELECTALL_TOGGLE_ALL_ATTRIBUTE_NAME","_handleNextFocus","_onMouseDownCapture","_hasAttribute","isToggleModifierPressed","_isCtrlPressed","_isMetaPressed","_getSelectionMode","_shouldHandleFocus","isToggle","itemRoot","_findItemRoot","_getItemIndex","setModal","_setIsTouch","isSelectedOnFocus","_onItemSurfaceClick","_updateModifiers","_isSelectionDisabled","_shouldAutoSelect","_isShiftPressed","_onInvokeMouseDown","disableAutoSelectOnInputElements","tagName","_onTouchStartCapture","_onClick","enableTouchInvocationTarget","isSelectionDisabled","_onToggleAllClick","_onInvokeClick","_onContextMenu","getItems","nativeEvent","_onDoubleClick","_isInputElement","_onKeyDownCapture","_onKeyDown","isSelectAllKey","isClearSelectionKey","_findScrollParentAndTryClearOnEmptyClick","onKeyDownCapture","onMouseDownCapture","toggleIndexSelected","_isTabPressed","selectToIndex","_clearAndSelectIndex","scrollParent","_tryClearOnEmptyClick","Node","contains","_isNonHandledClick","metaKey","indexValue","attributeName","handleFocus","_shouldHandleFocusTimeoutId","isTouch","_isTouchTimeoutId","SCROLL_GUTTER","_incrementScroll","_scrollRect","_onTouchMove","_stopScroll","_computeScrollVelocity","touches","clientDirection","scrollClient","scrollRectTop","scrollRectLeft","scrollClientBottom","scrollClientRight","_isVerticalScroll","_scrollVelocity","_startScroll","_timeoutId","DelayedRender","isRendered","delay","innerWidth","isIE11","indexOf","getDistanceBetweenPoints","point1","point2","left1","top1","left2","top2","sqrt","pow","fitContentToBounds","scale","contentSize","boundsSize","maxScale","contentAspectRatio","boundsAspectRatio","finalScale","calculatePrecision","exec","precisionRound","precision","base","exp","modalize","affectedNodes","targetDocument","sibling","toLowerCase","node","setAttribute","memoizer","outer","innerMemoizer","innerProps","outerProps","_getKey","defaultGetKey","_changeEventSuppressionCount","_exemptedCount","_anchoredIndex","_unselectableCount","_canSelectItem","_isModal","suppressChange","_hasChanged","_change","shouldClear","newKeyToIndexMap","newUnselectableIndices","hasSelectionChanged","_setAllSelected","newExemptedIndicies","newExemptedCount","indexProperty","_exemptedIndices","exemptKey","_items","newIndex","_isAllSelected","_keyToIndexMap","_unselectableIndices","_selectedItems","_updateCount","_selectedIndices","fromIndex","selectableCount","isKeySelected","setKeySelected","shouldAnchor","isExempt","selectToKey","clearSelection","anchorIndex","toggleKeySelected","preserveModalState","SelectionMode","SelectionDirection","SELECTION_CHANGE","resetControlledWarnings","warnControlledUsage"],"mappings":"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","file":"323.js","sourcesContent":["import * as React from 'react';\nimport { useConst } from './useConst';\n/**\n * Hook to store a value and generate callbacks for setting the value to true or false.\n * The identity of the callbacks will always stay the same.\n *\n * @param initialState - Initial value\n * @returns Array with the current value and an object containing the updater callbacks.\n */\nexport function useBoolean(initialState) {\n    var _a = React.useState(initialState), value = _a[0], setValue = _a[1];\n    var setTrue = useConst(function () { return function () {\n        setValue(true);\n    }; });\n    var setFalse = useConst(function () { return function () {\n        setValue(false);\n    }; });\n    var toggle = useConst(function () { return function () {\n        setValue(function (currentValue) { return !currentValue; });\n    }; });\n    return [value, { setTrue: setTrue, setFalse: setFalse, toggle: toggle }];\n}\n//# sourceMappingURL=useBoolean.js.map","import * as React from 'react';\nimport { useConst } from './useConst';\nexport function useControllableValue(controlledValue, defaultUncontrolledValue, onChange) {\n    var _a = React.useState(defaultUncontrolledValue), value = _a[0], setValue = _a[1];\n    var isControlled = useConst(controlledValue !== undefined);\n    var currentValue = isControlled ? controlledValue : value;\n    // Duplicate the current value and onChange in refs so they're accessible from\n    // setValueOrCallOnChange without creating a new callback every time\n    var valueRef = React.useRef(currentValue);\n    var onChangeRef = React.useRef(onChange);\n    React.useEffect(function () {\n        valueRef.current = currentValue;\n        onChangeRef.current = onChange;\n    });\n    // To match the behavior of the setter returned by React.useState, this callback's identity\n    // should never change. This means it MUST NOT directly reference variables that can change.\n    var setValueOrCallOnChange = useConst(function () { return function (update, ev) {\n        // Assuming here that TValue is not a function, because a controllable value will typically\n        // be something a user can enter as input\n        var newValue = typeof update === 'function' ? update(valueRef.current) : update;\n        if (onChangeRef.current) {\n            onChangeRef.current(ev, newValue);\n        }\n        if (!isControlled) {\n            setValue(newValue);\n        }\n    }; });\n    return [currentValue, setValueOrCallOnChange];\n}\n//# sourceMappingURL=useControllableValue.js.map","import * as React from 'react';\nimport { getId } from '@fluentui/utilities/lib/getId';\n/**\n * Hook to generate a unique ID in the global scope (spanning across duplicate copies of the same library).\n *\n * @param prefix - Optional prefix for the ID\n * @param providedId - Optional id provided by a parent component. Defaults to the provided value if present,\n *  without conditioning the hook call\n * @returns The ID\n */\nexport function useId(prefix, providedId) {\n    // getId should only be called once since it updates the global constant for the next ID value.\n    // (While an extra update isn't likely to cause problems in practice, it's better to avoid it.)\n    var ref = React.useRef(providedId);\n    if (!ref.current) {\n        ref.current = getId(prefix);\n    }\n    return ref.current;\n}\n//# sourceMappingURL=useId.js.map","import * as React from 'react';\nimport { useConst } from './useConst';\n/**\n *  Returns a wrapper function for `setTimeout` which automatically handles disposal.\n */\nexport var useSetTimeout = function () {\n    var timeoutIds = useConst({});\n    // Cleanup function.\n    React.useEffect(function () { return function () {\n        for (var _i = 0, _a = Object.keys(timeoutIds); _i < _a.length; _i++) {\n            var id = _a[_i];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            clearTimeout(id);\n        }\n    }; }, \n    // useConst ensures this will never change, but react-hooks/exhaustive-deps doesn't know that\n    [timeoutIds]);\n    // Return wrapper which will auto cleanup.\n    return useConst({\n        setTimeout: function (func, duration) {\n            var id = setTimeout(func, duration);\n            timeoutIds[id] = 1;\n            return id;\n        },\n        clearTimeout: function (id) {\n            delete timeoutIds[id];\n            clearTimeout(id);\n        },\n    });\n};\n//# sourceMappingURL=useSetTimeout.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { DelayedRender, classNamesFunction, getNativeProps, divProperties } from '../../Utilities';\nvar getClassNames = classNamesFunction();\n/**\n * {@docCategory Announced}\n */\nvar AnnouncedBase = /** @class */ (function (_super) {\n    __extends(AnnouncedBase, _super);\n    function AnnouncedBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AnnouncedBase.prototype.render = function () {\n        var _a = this.props, message = _a.message, styles = _a.styles, _b = _a.as, Root = _b === void 0 ? 'div' : _b, className = _a.className;\n        var classNames = getClassNames(styles, { className: className });\n        return (React.createElement(Root, __assign({ role: \"status\", className: classNames.root }, getNativeProps(this.props, divProperties, ['className'])),\n            React.createElement(DelayedRender, null,\n                React.createElement(\"div\", { className: classNames.screenReaderText }, message))));\n    };\n    AnnouncedBase.defaultProps = {\n        'aria-live': 'polite',\n    };\n    return AnnouncedBase;\n}(React.Component));\nexport { AnnouncedBase };\n//# sourceMappingURL=Announced.base.js.map","import { styled } from '../../Utilities';\nimport { AnnouncedBase } from './Announced.base';\nimport { getStyles } from './Announced.styles';\nexport var Announced = styled(AnnouncedBase, getStyles);\n//# sourceMappingURL=Announced.js.map","import { hiddenContentStyle } from '../../Styling';\nexport var getStyles = function (props) {\n    return {\n        root: props.className,\n        screenReaderText: hiddenContentStyle,\n    };\n};\n//# sourceMappingURL=Announced.styles.js.map","import * as React from 'react';\nimport { Icon, FontIcon } from '../../Icon';\nimport { classNamesFunction } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nexport var CheckBase = React.forwardRef(function (props, ref) {\n    var _a = props.checked, checked = _a === void 0 ? false : _a, className = props.className, theme = props.theme, styles = props.styles, _b = props.useFastIcons, useFastIcons = _b === void 0 ? true : _b;\n    var classNames = getClassNames(styles, { theme: theme, className: className, checked: checked });\n    var IconComponent = useFastIcons ? FontIcon : Icon;\n    return (React.createElement(\"div\", { className: classNames.root, ref: ref },\n        React.createElement(IconComponent, { iconName: \"CircleRing\", className: classNames.circle }),\n        React.createElement(IconComponent, { iconName: \"StatusCircleCheckmark\", className: classNames.check })));\n});\nCheckBase.displayName = 'CheckBase';\n//# sourceMappingURL=Check.base.js.map","import { styled } from '../../Utilities';\nimport { CheckBase } from './Check.base';\nimport { getStyles } from './Check.styles';\nexport var Check = styled(CheckBase, getStyles, undefined, {\n    scope: 'Check',\n}, true);\n//# sourceMappingURL=Check.js.map","import { __assign } from \"tslib\";\nimport { HighContrastSelector, getGlobalClassNames, IconFontSizes, getHighContrastNoAdjustStyle, } from '../../Styling';\nimport { getRTL } from '../../Utilities';\nexport var CheckGlobalClassNames = {\n    root: 'ms-Check',\n    circle: 'ms-Check-circle',\n    check: 'ms-Check-check',\n    /** Must be manually applied to the parent element of the check. */\n    checkHost: 'ms-Check-checkHost',\n};\nexport var getStyles = function (props) {\n    var _a, _b, _c, _d, _e;\n    // eslint-disable-next-line deprecation/deprecation\n    var _f = props.height, height = _f === void 0 ? props.checkBoxHeight || '18px' : _f, checked = props.checked, className = props.className, theme = props.theme;\n    var palette = theme.palette, semanticColors = theme.semanticColors, fonts = theme.fonts;\n    var isRTL = getRTL(theme);\n    var classNames = getGlobalClassNames(CheckGlobalClassNames, theme);\n    var sharedCircleCheck = {\n        fontSize: height,\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        width: height,\n        height: height,\n        textAlign: 'center',\n        verticalAlign: 'middle',\n    };\n    return {\n        root: [\n            classNames.root,\n            fonts.medium,\n            {\n                // lineHeight currently needs to be a string to output without 'px'\n                lineHeight: '1',\n                width: height,\n                height: height,\n                verticalAlign: 'top',\n                position: 'relative',\n                userSelect: 'none',\n                selectors: (_a = {\n                        ':before': {\n                            content: '\"\"',\n                            position: 'absolute',\n                            top: '1px',\n                            right: '1px',\n                            bottom: '1px',\n                            left: '1px',\n                            borderRadius: '50%',\n                            opacity: 1,\n                            background: semanticColors.bodyBackground,\n                        }\n                    },\n                    _a[\".\" + classNames.checkHost + \":hover &, .\" + classNames.checkHost + \":focus &, &:hover, &:focus\"] = {\n                        opacity: 1,\n                    },\n                    _a),\n            },\n            checked && [\n                'is-checked',\n                {\n                    selectors: {\n                        ':before': {\n                            background: palette.themePrimary,\n                            opacity: 1,\n                            selectors: (_b = {},\n                                _b[HighContrastSelector] = {\n                                    background: 'Window',\n                                },\n                                _b),\n                        },\n                    },\n                },\n            ],\n            className,\n        ],\n        circle: [\n            classNames.circle,\n            sharedCircleCheck,\n            {\n                color: palette.neutralSecondary,\n                selectors: (_c = {},\n                    _c[HighContrastSelector] = {\n                        color: 'WindowText',\n                    },\n                    _c),\n            },\n            checked && {\n                color: palette.white,\n            },\n        ],\n        check: [\n            classNames.check,\n            sharedCircleCheck,\n            {\n                opacity: 0,\n                color: palette.neutralSecondary,\n                fontSize: IconFontSizes.medium,\n                left: isRTL ? '-0.5px' : '.5px',\n                selectors: (_d = {\n                        ':hover': {\n                            opacity: 1,\n                        }\n                    },\n                    _d[HighContrastSelector] = __assign({}, getHighContrastNoAdjustStyle()),\n                    _d),\n            },\n            checked && {\n                opacity: 1,\n                color: palette.white,\n                fontWeight: 900,\n                selectors: (_e = {},\n                    _e[HighContrastSelector] = {\n                        border: 'none',\n                        color: 'WindowText',\n                    },\n                    _e),\n            },\n        ],\n        checkHost: classNames.checkHost,\n    };\n};\n//# sourceMappingURL=Check.styles.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Icon, FontIcon } from '../../Icon';\nimport { initializeComponentRef, EventGroup, Async, classNamesFunction, composeRenderFunction, } from '../../Utilities';\nimport { ColumnActionsMode } from './DetailsList.types';\nimport { DEFAULT_CELL_STYLE_PROPS } from './DetailsRow.styles';\nvar MOUSEDOWN_PRIMARY_BUTTON = 0; // for mouse down event we are using ev.button property, 0 means left button\nvar getClassNames = classNamesFunction();\nvar TRANSITION_DURATION_DRAG = 200; // ms\nvar TRANSITION_DURATION_DROP = 1500; // ms\nvar CLASSNAME_ADD_INTERVAL = 20; // ms\nvar defaultOnRenderHeader = function (classNames) { return function (props) {\n    if (!props) {\n        return null;\n    }\n    if (props.column.isIconOnly) {\n        return React.createElement(\"span\", { className: classNames.accessibleLabel }, props.column.name);\n    }\n    return React.createElement(React.Fragment, null, props.column.name);\n}; };\n/**\n * Component for rendering columns in a `DetailsList`.\n *\n * {@docCategory DetailsList}\n */\nvar DetailsColumnBase = /** @class */ (function (_super) {\n    __extends(DetailsColumnBase, _super);\n    function DetailsColumnBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._root = React.createRef();\n        _this._onRenderColumnHeaderTooltip = function (tooltipHostProps) {\n            return React.createElement(\"span\", { className: tooltipHostProps.hostClassName }, tooltipHostProps.children);\n        };\n        _this._onColumnClick = function (ev) {\n            var _a = _this.props, onColumnClick = _a.onColumnClick, column = _a.column;\n            if (column.columnActionsMode === ColumnActionsMode.disabled) {\n                return;\n            }\n            if (column.onColumnClick) {\n                column.onColumnClick(ev, column);\n            }\n            if (onColumnClick) {\n                onColumnClick(ev, column);\n            }\n        };\n        _this._onDragStart = function (item, itemIndex, selectedItems, event) {\n            var classNames = _this._classNames;\n            if (itemIndex) {\n                _this._updateHeaderDragInfo(itemIndex);\n                _this._root.current.classList.add(classNames.borderWhileDragging);\n                _this._async.setTimeout(function () {\n                    if (_this._root.current) {\n                        _this._root.current.classList.add(classNames.noBorderWhileDragging);\n                    }\n                }, CLASSNAME_ADD_INTERVAL);\n            }\n        };\n        _this._onDragEnd = function (item, event) {\n            var classNames = _this._classNames;\n            if (event) {\n                _this._updateHeaderDragInfo(-1, event);\n            }\n            _this._root.current.classList.remove(classNames.borderWhileDragging);\n            _this._root.current.classList.remove(classNames.noBorderWhileDragging);\n        };\n        _this._updateHeaderDragInfo = function (itemIndex, event) {\n            /* eslint-disable deprecation/deprecation */\n            if (_this.props.setDraggedItemIndex) {\n                _this.props.setDraggedItemIndex(itemIndex);\n            }\n            /* eslint-enable deprecation/deprecation */\n            if (_this.props.updateDragInfo) {\n                _this.props.updateDragInfo({ itemIndex: itemIndex }, event);\n            }\n        };\n        _this._onColumnContextMenu = function (ev) {\n            var _a = _this.props, onColumnContextMenu = _a.onColumnContextMenu, column = _a.column;\n            if (column.onColumnContextMenu) {\n                column.onColumnContextMenu(column, ev);\n                ev.preventDefault();\n            }\n            if (onColumnContextMenu) {\n                onColumnContextMenu(column, ev);\n                ev.preventDefault();\n            }\n        };\n        _this._onRootMouseDown = function (ev) {\n            var isDraggable = _this.props.isDraggable;\n            // Ignore anything except the primary button.\n            if (isDraggable && ev.button === MOUSEDOWN_PRIMARY_BUTTON) {\n                ev.stopPropagation();\n            }\n        };\n        initializeComponentRef(_this);\n        _this._async = new Async(_this);\n        _this._events = new EventGroup(_this);\n        return _this;\n    }\n    DetailsColumnBase.prototype.render = function () {\n        var _a = this.props, column = _a.column, columnIndex = _a.columnIndex, parentId = _a.parentId, isDraggable = _a.isDraggable, styles = _a.styles, theme = _a.theme, _b = _a.cellStyleProps, cellStyleProps = _b === void 0 ? DEFAULT_CELL_STYLE_PROPS : _b, _c = _a.useFastIcons, useFastIcons = _c === void 0 ? true : _c;\n        var _d = this.props.onRenderColumnHeaderTooltip, onRenderColumnHeaderTooltip = _d === void 0 ? this._onRenderColumnHeaderTooltip : _d;\n        this._classNames = getClassNames(styles, {\n            theme: theme,\n            headerClassName: column.headerClassName,\n            iconClassName: column.iconClassName,\n            isActionable: column.columnActionsMode !== ColumnActionsMode.disabled,\n            isEmpty: !column.name,\n            isIconVisible: column.isSorted || column.isGrouped || column.isFiltered,\n            isPadded: column.isPadded,\n            isIconOnly: column.isIconOnly,\n            cellStyleProps: cellStyleProps,\n            transitionDurationDrag: TRANSITION_DURATION_DRAG,\n            transitionDurationDrop: TRANSITION_DURATION_DROP,\n        });\n        var classNames = this._classNames;\n        var IconComponent = useFastIcons ? FontIcon : Icon;\n        var onRenderHeader = column.onRenderHeader\n            ? composeRenderFunction(column.onRenderHeader, defaultOnRenderHeader(this._classNames))\n            : defaultOnRenderHeader(this._classNames);\n        var hasInnerButton = column.columnActionsMode !== ColumnActionsMode.disabled &&\n            (column.onColumnClick !== undefined || this.props.onColumnClick !== undefined);\n        var accNameDescription = {\n            'aria-label': column.isIconOnly ? column.name : undefined,\n            'aria-labelledby': column.isIconOnly ? undefined : parentId + \"-\" + column.key + \"-name\",\n            'aria-describedby': !this.props.onRenderColumnHeaderTooltip && this._hasAccessibleLabel()\n                ? parentId + \"-\" + column.key + \"-tooltip\"\n                : undefined,\n        };\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", __assign({ key: column.key, ref: this._root, role: 'columnheader' }, (!hasInnerButton && accNameDescription), { \"aria-sort\": column.isSorted ? (column.isSortedDescending ? 'descending' : 'ascending') : 'none', \"aria-colindex\": columnIndex, className: classNames.root, \"data-is-draggable\": isDraggable, draggable: isDraggable, style: {\n                    width: column.calculatedWidth +\n                        cellStyleProps.cellLeftPadding +\n                        cellStyleProps.cellRightPadding +\n                        (column.isPadded ? cellStyleProps.cellExtraRightPadding : 0),\n                }, \"data-automationid\": 'ColumnsHeaderColumn', \"data-item-key\": column.key }),\n                isDraggable && (React.createElement(IconComponent, { iconName: \"GripperBarVertical\", className: classNames.gripperBarVerticalStyle })),\n                onRenderColumnHeaderTooltip({\n                    hostClassName: classNames.cellTooltip,\n                    id: parentId + \"-\" + column.key + \"-tooltip\",\n                    setAriaDescribedBy: false,\n                    column: column,\n                    content: column.columnActionsMode !== ColumnActionsMode.disabled ? column.ariaLabel : '',\n                    children: (React.createElement(\"span\", __assign({ id: parentId + \"-\" + column.key, className: classNames.cellTitle, \"data-is-focusable\": column.columnActionsMode !== ColumnActionsMode.disabled, role: hasInnerButton ? 'button' : undefined }, (hasInnerButton && accNameDescription), { onContextMenu: this._onColumnContextMenu, onClick: this._onColumnClick, \"aria-haspopup\": column.columnActionsMode === ColumnActionsMode.hasDropdown, \"aria-expanded\": column.columnActionsMode === ColumnActionsMode.hasDropdown ? !!column.isMenuOpen : undefined }),\n                        React.createElement(\"span\", { id: parentId + \"-\" + column.key + \"-name\", className: classNames.cellName },\n                            (column.iconName || column.iconClassName) && (React.createElement(IconComponent, { className: classNames.iconClassName, iconName: column.iconName })),\n                            onRenderHeader(this.props)),\n                        column.isFiltered && React.createElement(IconComponent, { className: classNames.nearIcon, iconName: \"Filter\" }),\n                        column.isSorted && (React.createElement(IconComponent, { className: classNames.sortIcon, iconName: column.isSortedDescending ? 'SortDown' : 'SortUp' })),\n                        column.isGrouped && React.createElement(IconComponent, { className: classNames.nearIcon, iconName: \"GroupedDescending\" }),\n                        column.columnActionsMode === ColumnActionsMode.hasDropdown && !column.isIconOnly && (React.createElement(IconComponent, { \"aria-hidden\": true, className: classNames.filterChevron, iconName: \"ChevronDown\" })))),\n                }, this._onRenderColumnHeaderTooltip)),\n            !this.props.onRenderColumnHeaderTooltip ? this._renderAccessibleLabel() : null));\n    };\n    DetailsColumnBase.prototype.componentDidMount = function () {\n        var _this = this;\n        if (this.props.dragDropHelper && this.props.isDraggable) {\n            this._addDragDropHandling();\n        }\n        var classNames = this._classNames;\n        if (this.props.isDropped) {\n            if (this._root.current) {\n                this._root.current.classList.add(classNames.borderAfterDropping);\n                this._async.setTimeout(function () {\n                    if (_this._root.current) {\n                        _this._root.current.classList.add(classNames.noBorderAfterDropping);\n                    }\n                }, CLASSNAME_ADD_INTERVAL);\n            }\n            this._async.setTimeout(function () {\n                if (_this._root.current) {\n                    _this._root.current.classList.remove(classNames.borderAfterDropping);\n                    _this._root.current.classList.remove(classNames.noBorderAfterDropping);\n                }\n            }, TRANSITION_DURATION_DROP + CLASSNAME_ADD_INTERVAL);\n        }\n    };\n    DetailsColumnBase.prototype.componentWillUnmount = function () {\n        if (this._dragDropSubscription) {\n            this._dragDropSubscription.dispose();\n            delete this._dragDropSubscription;\n        }\n        this._async.dispose();\n        this._events.dispose();\n    };\n    DetailsColumnBase.prototype.componentDidUpdate = function () {\n        if (!this._dragDropSubscription && this.props.dragDropHelper && this.props.isDraggable) {\n            this._addDragDropHandling();\n        }\n        if (this._dragDropSubscription && !this.props.isDraggable) {\n            this._dragDropSubscription.dispose();\n            this._events.off(this._root.current, 'mousedown');\n            delete this._dragDropSubscription;\n        }\n    };\n    DetailsColumnBase.prototype._getColumnDragDropOptions = function () {\n        var _this = this;\n        var columnIndex = this.props.columnIndex;\n        var options = {\n            selectionIndex: columnIndex,\n            context: { data: columnIndex, index: columnIndex },\n            canDrag: function () { return _this.props.isDraggable; },\n            canDrop: function () { return false; },\n            onDragStart: this._onDragStart,\n            updateDropState: function () { return undefined; },\n            onDrop: function () { return undefined; },\n            onDragEnd: this._onDragEnd,\n        };\n        return options;\n    };\n    DetailsColumnBase.prototype._hasAccessibleLabel = function () {\n        var column = this.props.column;\n        return !!(column.ariaLabel ||\n            column.filterAriaLabel ||\n            column.sortAscendingAriaLabel ||\n            column.sortDescendingAriaLabel ||\n            column.groupAriaLabel);\n    };\n    DetailsColumnBase.prototype._renderAccessibleLabel = function () {\n        var _a = this.props, column = _a.column, parentId = _a.parentId;\n        var classNames = this._classNames;\n        return this._hasAccessibleLabel() && !this.props.onRenderColumnHeaderTooltip ? (React.createElement(\"label\", { key: column.key + \"_label\", id: parentId + \"-\" + column.key + \"-tooltip\", className: classNames.accessibleLabel },\n            column.ariaLabel,\n            (column.isFiltered && column.filterAriaLabel) || null,\n            (column.isSorted &&\n                (column.isSortedDescending ? column.sortDescendingAriaLabel : column.sortAscendingAriaLabel)) ||\n                null,\n            (column.isGrouped && column.groupAriaLabel) || null)) : null;\n    };\n    DetailsColumnBase.prototype._addDragDropHandling = function () {\n        this._dragDropSubscription = this.props.dragDropHelper.subscribe(this._root.current, this._events, this._getColumnDragDropOptions());\n        // We need to use native on this to prevent MarqueeSelection from handling the event before us.\n        this._events.on(this._root.current, 'mousedown', this._onRootMouseDown);\n    };\n    return DetailsColumnBase;\n}(React.Component));\nexport { DetailsColumnBase };\n//# sourceMappingURL=DetailsColumn.base.js.map","import { __assign } from \"tslib\";\nimport { getFocusStyle, getGlobalClassNames, hiddenContentStyle, FontWeights } from '../../Styling';\nimport { DEFAULT_CELL_STYLE_PROPS } from './DetailsRow.styles';\nimport { getCellStyles } from './DetailsHeader.styles';\nvar GlobalClassNames = {\n    isActionable: 'is-actionable',\n    cellIsCheck: 'ms-DetailsHeader-cellIsCheck',\n    collapseButton: 'ms-DetailsHeader-collapseButton',\n    isCollapsed: 'is-collapsed',\n    isAllSelected: 'is-allSelected',\n    isSelectAllHidden: 'is-selectAllHidden',\n    isResizingColumn: 'is-resizingColumn',\n    isEmpty: 'is-empty',\n    isIconVisible: 'is-icon-visible',\n    cellSizer: 'ms-DetailsHeader-cellSizer',\n    isResizing: 'is-resizing',\n    dropHintCircleStyle: 'ms-DetailsHeader-dropHintCircleStyle',\n    dropHintLineStyle: 'ms-DetailsHeader-dropHintLineStyle',\n    cellTitle: 'ms-DetailsHeader-cellTitle',\n    cellName: 'ms-DetailsHeader-cellName',\n    filterChevron: 'ms-DetailsHeader-filterChevron',\n    gripperBarVerticalStyle: 'ms-DetailsColumn-gripperBar',\n    nearIcon: 'ms-DetailsColumn-nearIcon',\n};\nexport var getStyles = function (props) {\n    var _a;\n    var theme = props.theme, headerClassName = props.headerClassName, iconClassName = props.iconClassName, isActionable = props.isActionable, isEmpty = props.isEmpty, isIconVisible = props.isIconVisible, isPadded = props.isPadded, isIconOnly = props.isIconOnly, _b = props.cellStyleProps, cellStyleProps = _b === void 0 ? DEFAULT_CELL_STYLE_PROPS : _b, transitionDurationDrag = props.transitionDurationDrag, transitionDurationDrop = props.transitionDurationDrop;\n    var semanticColors = theme.semanticColors, palette = theme.palette, fonts = theme.fonts;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    var colors = {\n        iconForegroundColor: semanticColors.bodySubtext,\n        headerForegroundColor: semanticColors.bodyText,\n        headerBackgroundColor: semanticColors.bodyBackground,\n        dropdownChevronForegroundColor: palette.neutralSecondary,\n        resizerColor: palette.neutralTertiaryAlt,\n    };\n    var nearIconStyle = {\n        color: colors.iconForegroundColor,\n        opacity: 1,\n        paddingLeft: 8,\n    };\n    var borderWhileDragging = {\n        outline: \"1px solid \" + palette.themePrimary,\n    };\n    var borderAfterDragOrDrop = {\n        outlineColor: 'transparent',\n    };\n    return {\n        root: [\n            getCellStyles(props),\n            fonts.small,\n            isActionable && [\n                classNames.isActionable,\n                {\n                    selectors: {\n                        ':hover': {\n                            color: semanticColors.bodyText,\n                            background: semanticColors.listHeaderBackgroundHovered,\n                        },\n                        ':active': {\n                            background: semanticColors.listHeaderBackgroundPressed,\n                        },\n                    },\n                },\n            ],\n            isEmpty && [\n                classNames.isEmpty,\n                {\n                    textOverflow: 'clip',\n                },\n            ],\n            isIconVisible && classNames.isIconVisible,\n            isPadded && {\n                paddingRight: cellStyleProps.cellExtraRightPadding + cellStyleProps.cellRightPadding,\n            },\n            {\n                selectors: {\n                    ':hover i[data-icon-name=\"GripperBarVertical\"]': {\n                        display: 'block',\n                    },\n                },\n            },\n            headerClassName,\n        ],\n        gripperBarVerticalStyle: {\n            display: 'none',\n            position: 'absolute',\n            textAlign: 'left',\n            color: palette.neutralTertiary,\n            left: 1,\n        },\n        nearIcon: [classNames.nearIcon, nearIconStyle],\n        sortIcon: [\n            nearIconStyle,\n            {\n                paddingLeft: 4,\n                position: 'relative',\n                top: 1,\n            },\n        ],\n        iconClassName: [\n            {\n                color: colors.iconForegroundColor,\n                opacity: 1,\n            },\n            iconClassName,\n        ],\n        filterChevron: [\n            classNames.filterChevron,\n            {\n                color: colors.dropdownChevronForegroundColor,\n                paddingLeft: 6,\n                verticalAlign: 'middle',\n                fontSize: fonts.small.fontSize,\n            },\n        ],\n        cellTitle: [\n            classNames.cellTitle,\n            getFocusStyle(theme),\n            __assign({ display: 'flex', flexDirection: 'row', justifyContent: 'flex-start', alignItems: 'stretch', boxSizing: 'border-box', overflow: 'hidden', padding: \"0 \" + cellStyleProps.cellRightPadding + \"px 0 \" + cellStyleProps.cellLeftPadding + \"px\" }, (isIconOnly\n                ? {\n                    alignContent: 'flex-end',\n                    maxHeight: '100%',\n                    flexWrap: 'wrap-reverse',\n                }\n                : {})),\n        ],\n        cellName: [\n            classNames.cellName,\n            {\n                flex: '0 1 auto',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                fontWeight: FontWeights.semibold,\n                fontSize: fonts.medium.fontSize,\n            },\n            isIconOnly && {\n                selectors: (_a = {},\n                    _a[\".\" + classNames.nearIcon] = {\n                        paddingLeft: 0,\n                    },\n                    _a),\n            },\n        ],\n        cellTooltip: {\n            display: 'block',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0,\n        },\n        accessibleLabel: hiddenContentStyle,\n        borderWhileDragging: borderWhileDragging,\n        noBorderWhileDragging: [borderAfterDragOrDrop, { transition: \"outline \" + transitionDurationDrag + \"ms ease\" }],\n        borderAfterDropping: borderWhileDragging,\n        noBorderAfterDropping: [borderAfterDragOrDrop, { transition: \"outline  \" + transitionDurationDrop + \"ms ease\" }],\n    };\n};\n//# sourceMappingURL=DetailsColumn.styles.js.map","import { styled } from '../../Utilities';\nimport { DetailsColumnBase } from './DetailsColumn.base';\nimport { getStyles } from './DetailsColumn.styles';\nexport var DetailsColumn = styled(DetailsColumnBase, getStyles, undefined, { scope: 'DetailsColumn' });\n//# sourceMappingURL=DetailsColumn.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, EventGroup, css, getRTL, getId, KeyCodes, classNamesFunction, } from '../../Utilities';\nimport { ColumnDragEndLocation, CheckboxVisibility, } from './DetailsList.types';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { Icon, FontIcon } from '../../Icon';\nimport { Layer } from '../../Layer';\nimport { GroupSpacer } from '../GroupedList/GroupSpacer';\nimport { CollapseAllVisibility } from '../../GroupedList';\nimport { DetailsRowCheck } from './DetailsRowCheck';\nimport { SelectionMode, SELECTION_CHANGE } from '../../Selection';\nimport { DragDropHelper } from '../../DragDrop';\nimport { DetailsColumn } from '../../components/DetailsList/DetailsColumn';\nimport { SelectAllVisibility, } from './DetailsHeader.types';\nvar getClassNames = classNamesFunction();\nvar MOUSEDOWN_PRIMARY_BUTTON = 0; // for mouse down event we are using ev.button property, 0 means left button\nvar MOUSEMOVE_PRIMARY_BUTTON = 1; // for mouse move event we are using ev.buttons property, 1 means left button\nvar NO_COLUMNS = [];\nvar DetailsHeaderBase = /** @class */ (function (_super) {\n    __extends(DetailsHeaderBase, _super);\n    function DetailsHeaderBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._rootElement = React.createRef();\n        _this._rootComponent = React.createRef();\n        _this._draggedColumnIndex = -1;\n        _this._dropHintDetails = {};\n        _this._updateDroppingState = function (newValue, event) {\n            if (_this._draggedColumnIndex >= 0 && event.type !== 'drop' && !newValue) {\n                _this._resetDropHints();\n            }\n        };\n        _this._onDragOver = function (item, event) {\n            if (_this._draggedColumnIndex >= 0) {\n                event.stopPropagation();\n                _this._computeDropHintToBeShown(event.clientX);\n            }\n        };\n        _this._onDrop = function (item, event) {\n            // Safe to assume this is defined since we're handling a drop event\n            var columnReorderProps = _this._getColumnReorderProps();\n            // Target index will not get changed if draggeditem is after target item.\n            if (_this._draggedColumnIndex >= 0 && event) {\n                var targetIndex = _this._draggedColumnIndex > _this._currentDropHintIndex\n                    ? _this._currentDropHintIndex\n                    : _this._currentDropHintIndex - 1;\n                var isValidDrop = _this._isValidCurrentDropHintIndex();\n                event.stopPropagation();\n                if (isValidDrop) {\n                    _this._onDropIndexInfo.sourceIndex = _this._draggedColumnIndex;\n                    _this._onDropIndexInfo.targetIndex = targetIndex;\n                    if (columnReorderProps.onColumnDrop) {\n                        var dragDropDetails = {\n                            draggedIndex: _this._draggedColumnIndex,\n                            targetIndex: targetIndex,\n                        };\n                        columnReorderProps.onColumnDrop(dragDropDetails);\n                        /* eslint-disable deprecation/deprecation */\n                    }\n                    else if (columnReorderProps.handleColumnReorder) {\n                        columnReorderProps.handleColumnReorder(_this._draggedColumnIndex, targetIndex);\n                        /* eslint-enable deprecation/deprecation */\n                    }\n                }\n            }\n            _this._resetDropHints();\n            _this._dropHintDetails = {};\n            _this._draggedColumnIndex = -1;\n        };\n        _this._updateDragInfo = function (props, event) {\n            // Safe to assume this is defined since we're handling a drag event\n            var columnReorderProps = _this._getColumnReorderProps();\n            var itemIndex = props.itemIndex;\n            if (itemIndex >= 0) {\n                // Column index is set based on the checkbox\n                _this._draggedColumnIndex = _this._isCheckboxColumnHidden() ? itemIndex - 1 : itemIndex - 2;\n                _this._getDropHintPositions();\n                if (columnReorderProps.onColumnDragStart) {\n                    columnReorderProps.onColumnDragStart(true);\n                }\n            }\n            else if (event && _this._draggedColumnIndex >= 0) {\n                _this._resetDropHints();\n                _this._draggedColumnIndex = -1;\n                _this._dropHintDetails = {};\n                if (columnReorderProps.onColumnDragEnd) {\n                    var columnDragEndLocation = _this._isEventOnHeader(event);\n                    columnReorderProps.onColumnDragEnd({ dropLocation: columnDragEndLocation }, event);\n                }\n            }\n        };\n        _this._getDropHintPositions = function () {\n            var _a = _this.props.columns, columns = _a === void 0 ? NO_COLUMNS : _a;\n            // Safe to assume this is defined since we're handling a drag/drop event\n            var columnReorderProps = _this._getColumnReorderProps();\n            var prevX = 0;\n            var prevMid = 0;\n            var prevRef;\n            var frozenColumnCountFromStart = columnReorderProps.frozenColumnCountFromStart || 0;\n            var frozenColumnCountFromEnd = columnReorderProps.frozenColumnCountFromEnd || 0;\n            for (var i = frozenColumnCountFromStart; i < columns.length - frozenColumnCountFromEnd + 1; i++) {\n                if (_this._rootElement.current) {\n                    var dropHintElement = _this._rootElement.current.querySelectorAll('#columnDropHint_' + i)[0];\n                    if (dropHintElement) {\n                        if (i === frozenColumnCountFromStart) {\n                            prevX = dropHintElement.offsetLeft;\n                            prevMid = dropHintElement.offsetLeft;\n                            prevRef = dropHintElement;\n                        }\n                        else {\n                            var newMid = (dropHintElement.offsetLeft + prevX) / 2;\n                            _this._dropHintDetails[i - 1] = {\n                                originX: prevX,\n                                startX: prevMid,\n                                endX: newMid,\n                                dropHintElementRef: prevRef,\n                            };\n                            prevMid = newMid;\n                            prevRef = dropHintElement;\n                            prevX = dropHintElement.offsetLeft;\n                            if (i === columns.length - frozenColumnCountFromEnd) {\n                                _this._dropHintDetails[i] = {\n                                    originX: prevX,\n                                    startX: prevMid,\n                                    endX: dropHintElement.offsetLeft,\n                                    dropHintElementRef: prevRef,\n                                };\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        /**\n         * Based on the given cursor position, finds the nearest drop hint and updates the state to make it visible\n         */\n        _this._computeDropHintToBeShown = function (clientX) {\n            var isRtl = getRTL(_this.props.theme);\n            if (_this._rootElement.current) {\n                var clientRect = _this._rootElement.current.getBoundingClientRect();\n                var headerOriginX = clientRect.left;\n                var eventXRelativePosition = clientX - headerOriginX;\n                var currentDropHintIndex = _this._currentDropHintIndex;\n                if (_this._isValidCurrentDropHintIndex()) {\n                    if (_liesBetween(isRtl, eventXRelativePosition, _this._dropHintDetails[currentDropHintIndex].startX, _this._dropHintDetails[currentDropHintIndex].endX)) {\n                        return;\n                    }\n                }\n                var _a = _this.props.columns, columns = _a === void 0 ? NO_COLUMNS : _a;\n                // Safe to assume this is defined since we're handling a drag/drop event\n                var columnReorderProps = _this._getColumnReorderProps();\n                var frozenColumnCountFromStart = columnReorderProps.frozenColumnCountFromStart || 0;\n                var frozenColumnCountFromEnd = columnReorderProps.frozenColumnCountFromEnd || 0;\n                var currentIndex = frozenColumnCountFromStart;\n                var lastValidColumn = columns.length - frozenColumnCountFromEnd;\n                var indexToUpdate = -1;\n                if (_isBefore(isRtl, eventXRelativePosition, _this._dropHintDetails[currentIndex].endX)) {\n                    indexToUpdate = currentIndex;\n                }\n                else if (_isAfter(isRtl, eventXRelativePosition, _this._dropHintDetails[lastValidColumn].startX)) {\n                    indexToUpdate = lastValidColumn;\n                }\n                else if (_this._isValidCurrentDropHintIndex()) {\n                    if (_this._dropHintDetails[currentDropHintIndex + 1] &&\n                        _liesBetween(isRtl, eventXRelativePosition, _this._dropHintDetails[currentDropHintIndex + 1].startX, _this._dropHintDetails[currentDropHintIndex + 1].endX)) {\n                        indexToUpdate = currentDropHintIndex + 1;\n                    }\n                    else if (_this._dropHintDetails[currentDropHintIndex - 1] &&\n                        _liesBetween(isRtl, eventXRelativePosition, _this._dropHintDetails[currentDropHintIndex - 1].startX, _this._dropHintDetails[currentDropHintIndex - 1].endX)) {\n                        indexToUpdate = currentDropHintIndex - 1;\n                    }\n                }\n                if (indexToUpdate === -1) {\n                    var startIndex = frozenColumnCountFromStart;\n                    var endIndex = lastValidColumn;\n                    while (startIndex < endIndex) {\n                        var middleIndex = Math.ceil((endIndex + startIndex) / 2);\n                        if (_liesBetween(isRtl, eventXRelativePosition, _this._dropHintDetails[middleIndex].startX, _this._dropHintDetails[middleIndex].endX)) {\n                            indexToUpdate = middleIndex;\n                            break;\n                        }\n                        else if (_isBefore(isRtl, eventXRelativePosition, _this._dropHintDetails[middleIndex].originX)) {\n                            endIndex = middleIndex;\n                        }\n                        else if (_isAfter(isRtl, eventXRelativePosition, _this._dropHintDetails[middleIndex].originX)) {\n                            startIndex = middleIndex;\n                        }\n                    }\n                }\n                if (indexToUpdate === _this._draggedColumnIndex || indexToUpdate === _this._draggedColumnIndex + 1) {\n                    if (_this._isValidCurrentDropHintIndex()) {\n                        _this._resetDropHints();\n                    }\n                }\n                else if (currentDropHintIndex !== indexToUpdate && indexToUpdate >= 0) {\n                    _this._resetDropHints();\n                    _this._updateDropHintElement(_this._dropHintDetails[indexToUpdate].dropHintElementRef, 'inline-block');\n                    _this._currentDropHintIndex = indexToUpdate;\n                }\n            }\n        };\n        _this._renderColumnSizer = function (_a) {\n            var _b;\n            var columnIndex = _a.columnIndex;\n            var _c = _this.props.columns, columns = _c === void 0 ? NO_COLUMNS : _c;\n            var column = columns[columnIndex];\n            var columnResizeDetails = _this.state.columnResizeDetails;\n            var classNames = _this._classNames;\n            return column.isResizable ? (React.createElement(\"div\", { key: column.key + \"_sizer\", \"aria-hidden\": true, role: \"button\", \"data-is-focusable\": false, onClick: _stopPropagation, \"data-sizer-index\": columnIndex, onBlur: _this._onSizerBlur, className: css(classNames.cellSizer, columnIndex < columns.length - 1 ? classNames.cellSizerStart : classNames.cellSizerEnd, (_b = {},\n                    _b[classNames.cellIsResizing] = columnResizeDetails && columnResizeDetails.columnIndex === columnIndex,\n                    _b)), onDoubleClick: _this._onSizerDoubleClick.bind(_this, columnIndex) })) : null;\n        };\n        _this._onRenderColumnHeaderTooltip = function (tooltipHostProps) {\n            return React.createElement(\"span\", { className: tooltipHostProps.hostClassName }, tooltipHostProps.children);\n        };\n        /**\n         * Called when the select all toggle is clicked.\n         */\n        _this._onSelectAllClicked = function () {\n            var selection = _this.props.selection;\n            if (selection) {\n                selection.toggleAllSelected();\n            }\n        };\n        _this._onRootMouseDown = function (ev) {\n            var columnIndexAttr = ev.target.getAttribute('data-sizer-index');\n            var columnIndex = Number(columnIndexAttr);\n            var _a = _this.props.columns, columns = _a === void 0 ? NO_COLUMNS : _a;\n            if (columnIndexAttr === null || ev.button !== MOUSEDOWN_PRIMARY_BUTTON) {\n                // Ignore anything except the primary button.\n                return;\n            }\n            _this.setState({\n                columnResizeDetails: {\n                    columnIndex: columnIndex,\n                    columnMinWidth: columns[columnIndex].calculatedWidth,\n                    originX: ev.clientX,\n                },\n            });\n            ev.preventDefault();\n            ev.stopPropagation();\n        };\n        _this._onRootMouseMove = function (ev) {\n            var _a = _this.state, columnResizeDetails = _a.columnResizeDetails, isSizing = _a.isSizing;\n            if (columnResizeDetails && !isSizing && ev.clientX !== columnResizeDetails.originX) {\n                _this.setState({ isSizing: true });\n            }\n        };\n        _this._onRootKeyDown = function (ev) {\n            var _a = _this.state, columnResizeDetails = _a.columnResizeDetails, isSizing = _a.isSizing;\n            var _b = _this.props, _c = _b.columns, columns = _c === void 0 ? NO_COLUMNS : _c, onColumnResized = _b.onColumnResized;\n            var columnIndexAttr = ev.target.getAttribute('data-sizer-index');\n            if (!columnIndexAttr || isSizing) {\n                return;\n            }\n            var columnIndex = Number(columnIndexAttr);\n            if (!columnResizeDetails) {\n                // eslint-disable-next-line deprecation/deprecation\n                if (ev.which === KeyCodes.enter) {\n                    _this.setState({\n                        columnResizeDetails: {\n                            columnIndex: columnIndex,\n                            columnMinWidth: columns[columnIndex].calculatedWidth,\n                        },\n                    });\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                }\n            }\n            else {\n                var increment = void 0;\n                // eslint-disable-next-line deprecation/deprecation\n                if (ev.which === KeyCodes.enter) {\n                    _this.setState({\n                        columnResizeDetails: undefined,\n                    });\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                    // eslint-disable-next-line deprecation/deprecation\n                }\n                else if (ev.which === KeyCodes.left) {\n                    increment = getRTL(_this.props.theme) ? 1 : -1;\n                    // eslint-disable-next-line deprecation/deprecation\n                }\n                else if (ev.which === KeyCodes.right) {\n                    increment = getRTL(_this.props.theme) ? -1 : 1;\n                }\n                if (increment) {\n                    if (!ev.shiftKey) {\n                        increment *= 10;\n                    }\n                    _this.setState({\n                        columnResizeDetails: __assign(__assign({}, columnResizeDetails), { columnMinWidth: columnResizeDetails.columnMinWidth + increment }),\n                    });\n                    if (onColumnResized) {\n                        onColumnResized(columns[columnIndex], columnResizeDetails.columnMinWidth + increment, columnIndex);\n                    }\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                }\n            }\n        };\n        /**\n         * mouse move event handler in the header\n         * it will set isSizing state to true when user clicked on the sizer and move the mouse.\n         *\n         * @param ev - mouse move event\n         */\n        _this._onSizerMouseMove = function (ev) {\n            var \n            // use buttons property here since ev.button in some edge case is not upding well during the move.\n            // but firefox doesn't support it, so we set the default value when it is not defined.\n            buttons = ev.buttons;\n            var _a = _this.props, onColumnIsSizingChanged = _a.onColumnIsSizingChanged, onColumnResized = _a.onColumnResized, _b = _a.columns, columns = _b === void 0 ? NO_COLUMNS : _b;\n            var columnResizeDetails = _this.state.columnResizeDetails;\n            if (buttons !== undefined && buttons !== MOUSEMOVE_PRIMARY_BUTTON) {\n                // cancel mouse down event and return early when the primary button is not pressed\n                _this._onSizerMouseUp(ev);\n                return;\n            }\n            if (ev.clientX !== columnResizeDetails.originX) {\n                if (onColumnIsSizingChanged) {\n                    onColumnIsSizingChanged(columns[columnResizeDetails.columnIndex], true);\n                }\n            }\n            if (onColumnResized) {\n                var movement = ev.clientX - columnResizeDetails.originX;\n                if (getRTL(_this.props.theme)) {\n                    movement = -movement;\n                }\n                onColumnResized(columns[columnResizeDetails.columnIndex], columnResizeDetails.columnMinWidth + movement, columnResizeDetails.columnIndex);\n            }\n        };\n        _this._onSizerBlur = function (ev) {\n            var columnResizeDetails = _this.state.columnResizeDetails;\n            if (columnResizeDetails) {\n                _this.setState({\n                    columnResizeDetails: undefined,\n                    isSizing: false,\n                });\n            }\n        };\n        /**\n         * mouse up event handler in the header\n         * clear the resize related state.\n         * This is to ensure we can catch double click event\n         *\n         * @param ev - mouse up event\n         */\n        _this._onSizerMouseUp = function (ev) {\n            var _a = _this.props, _b = _a.columns, columns = _b === void 0 ? NO_COLUMNS : _b, onColumnIsSizingChanged = _a.onColumnIsSizingChanged;\n            var columnResizeDetails = _this.state.columnResizeDetails;\n            _this.setState({\n                columnResizeDetails: undefined,\n                isSizing: false,\n            });\n            if (onColumnIsSizingChanged) {\n                onColumnIsSizingChanged(columns[columnResizeDetails.columnIndex], false);\n            }\n        };\n        _this._onToggleCollapseAll = function () {\n            var onToggleCollapseAll = _this.props.onToggleCollapseAll;\n            var newCollapsed = !_this.state.isAllCollapsed;\n            _this.setState({\n                isAllCollapsed: newCollapsed,\n            });\n            if (onToggleCollapseAll) {\n                onToggleCollapseAll(newCollapsed);\n            }\n        };\n        initializeComponentRef(_this);\n        _this._events = new EventGroup(_this);\n        _this.state = {\n            columnResizeDetails: undefined,\n            isAllCollapsed: _this.props.isAllCollapsed,\n            isAllSelected: !!_this.props.selection && _this.props.selection.isAllSelected(),\n        };\n        _this._onDropIndexInfo = {\n            sourceIndex: -1,\n            targetIndex: -1,\n        };\n        _this._id = getId('header');\n        _this._currentDropHintIndex = -1;\n        // The drag drop handler won't do any work until subscribe() is called,\n        // so always set it up for convenience\n        _this._dragDropHelper = new DragDropHelper({\n            selection: {\n                getSelection: function () {\n                    return;\n                },\n            },\n            minimumPixelsForDrag: _this.props.minimumPixelsForDrag,\n        });\n        return _this;\n    }\n    DetailsHeaderBase.prototype.componentDidMount = function () {\n        var selection = this.props.selection;\n        this._events.on(selection, SELECTION_CHANGE, this._onSelectionChanged);\n        // this._rootElement.current will be null in tests using react-test-renderer\n        if (this._rootElement.current) {\n            // We need to use native on this to prevent MarqueeSelection from handling the event before us.\n            this._events.on(this._rootElement.current, 'mousedown', this._onRootMouseDown);\n            this._events.on(this._rootElement.current, 'keydown', this._onRootKeyDown);\n            if (this._getColumnReorderProps()) {\n                this._subscriptionObject = this._dragDropHelper.subscribe(this._rootElement.current, this._events, this._getHeaderDragDropOptions());\n            }\n        }\n    };\n    DetailsHeaderBase.prototype.componentDidUpdate = function (prevProps) {\n        if (this._getColumnReorderProps()) {\n            if (!this._subscriptionObject && this._rootElement.current) {\n                this._subscriptionObject = this._dragDropHelper.subscribe(this._rootElement.current, this._events, this._getHeaderDragDropOptions());\n            }\n        }\n        else if (this._subscriptionObject) {\n            this._subscriptionObject.dispose();\n            delete this._subscriptionObject;\n        }\n        if (this.props !== prevProps && this._onDropIndexInfo.sourceIndex >= 0 && this._onDropIndexInfo.targetIndex >= 0) {\n            var _a = prevProps.columns, previousColumns = _a === void 0 ? NO_COLUMNS : _a;\n            var _b = this.props.columns, columns = _b === void 0 ? NO_COLUMNS : _b;\n            if (previousColumns[this._onDropIndexInfo.sourceIndex].key === columns[this._onDropIndexInfo.targetIndex].key) {\n                this._onDropIndexInfo = {\n                    sourceIndex: -1,\n                    targetIndex: -1,\n                };\n            }\n        }\n        if (this.props.isAllCollapsed !== prevProps.isAllCollapsed) {\n            this.setState({ isAllCollapsed: this.props.isAllCollapsed });\n        }\n    };\n    DetailsHeaderBase.prototype.componentWillUnmount = function () {\n        if (this._subscriptionObject) {\n            this._subscriptionObject.dispose();\n            delete this._subscriptionObject;\n        }\n        this._dragDropHelper.dispose();\n        this._events.dispose();\n    };\n    DetailsHeaderBase.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, _b = _a.columns, columns = _b === void 0 ? NO_COLUMNS : _b, ariaLabel = _a.ariaLabel, ariaLabelForToggleAllGroupsButton = _a.ariaLabelForToggleAllGroupsButton, ariaLabelForSelectAllCheckbox = _a.ariaLabelForSelectAllCheckbox, selectAllVisibility = _a.selectAllVisibility, ariaLabelForSelectionColumn = _a.ariaLabelForSelectionColumn, indentWidth = _a.indentWidth, onColumnClick = _a.onColumnClick, onColumnContextMenu = _a.onColumnContextMenu, _c = _a.onRenderColumnHeaderTooltip, onRenderColumnHeaderTooltip = _c === void 0 ? this._onRenderColumnHeaderTooltip : _c, styles = _a.styles, selectionMode = _a.selectionMode, theme = _a.theme, onRenderDetailsCheckbox = _a.onRenderDetailsCheckbox, groupNestingDepth = _a.groupNestingDepth, useFastIcons = _a.useFastIcons, checkboxVisibility = _a.checkboxVisibility, className = _a.className;\n        var _d = this.state, isAllSelected = _d.isAllSelected, columnResizeDetails = _d.columnResizeDetails, isSizing = _d.isSizing, isAllCollapsed = _d.isAllCollapsed;\n        var showCheckbox = selectAllVisibility !== SelectAllVisibility.none;\n        var isCheckboxHidden = selectAllVisibility === SelectAllVisibility.hidden;\n        var isCheckboxAlwaysVisible = checkboxVisibility === CheckboxVisibility.always;\n        var columnReorderProps = this._getColumnReorderProps();\n        var frozenColumnCountFromStart = columnReorderProps && columnReorderProps.frozenColumnCountFromStart\n            ? columnReorderProps.frozenColumnCountFromStart\n            : 0;\n        var frozenColumnCountFromEnd = columnReorderProps && columnReorderProps.frozenColumnCountFromEnd\n            ? columnReorderProps.frozenColumnCountFromEnd\n            : 0;\n        this._classNames = getClassNames(styles, {\n            theme: theme,\n            isAllSelected: isAllSelected,\n            isSelectAllHidden: selectAllVisibility === SelectAllVisibility.hidden,\n            isResizingColumn: !!columnResizeDetails && isSizing,\n            isSizing: isSizing,\n            isAllCollapsed: isAllCollapsed,\n            isCheckboxHidden: isCheckboxHidden,\n            className: className,\n        });\n        var classNames = this._classNames;\n        var IconComponent = useFastIcons ? FontIcon : Icon;\n        var isRTL = getRTL(theme);\n        return (React.createElement(FocusZone, { role: \"row\", \"aria-label\": ariaLabel, className: classNames.root, componentRef: this._rootComponent, elementRef: this._rootElement, onMouseMove: this._onRootMouseMove, \"data-automationid\": \"DetailsHeader\", direction: FocusZoneDirection.horizontal },\n            showCheckbox\n                ? [\n                    React.createElement(\"div\", { key: \"__checkbox\", className: classNames.cellIsCheck, \"aria-labelledby\": this._id + \"-check\", onClick: !isCheckboxHidden ? this._onSelectAllClicked : undefined, \"aria-colindex\": 1, role: 'columnheader' }, onRenderColumnHeaderTooltip({\n                        hostClassName: classNames.checkTooltip,\n                        id: this._id + \"-checkTooltip\",\n                        setAriaDescribedBy: false,\n                        content: ariaLabelForSelectAllCheckbox,\n                        children: (React.createElement(DetailsRowCheck, { id: this._id + \"-check\", \"aria-label\": selectionMode === SelectionMode.multiple\n                                ? ariaLabelForSelectAllCheckbox\n                                : ariaLabelForSelectionColumn, \"aria-describedby\": !isCheckboxHidden\n                                ? ariaLabelForSelectAllCheckbox && !this.props.onRenderColumnHeaderTooltip\n                                    ? this._id + \"-checkTooltip\"\n                                    : undefined\n                                : ariaLabelForSelectionColumn && !this.props.onRenderColumnHeaderTooltip\n                                    ? this._id + \"-checkTooltip\"\n                                    : undefined, \"data-is-focusable\": !isCheckboxHidden || undefined, isHeader: true, selected: isAllSelected, anySelected: false, canSelect: !isCheckboxHidden, className: classNames.check, onRenderDetailsCheckbox: onRenderDetailsCheckbox, useFastIcons: useFastIcons, isVisible: isCheckboxAlwaysVisible })),\n                    }, this._onRenderColumnHeaderTooltip)),\n                    !this.props.onRenderColumnHeaderTooltip ? (ariaLabelForSelectAllCheckbox && !isCheckboxHidden ? (React.createElement(\"label\", { key: \"__checkboxLabel\", id: this._id + \"-checkTooltip\", className: classNames.accessibleLabel, \"aria-hidden\": true }, ariaLabelForSelectAllCheckbox)) : ariaLabelForSelectionColumn && isCheckboxHidden ? (React.createElement(\"label\", { key: \"__checkboxLabel\", id: this._id + \"-checkTooltip\", className: classNames.accessibleLabel, \"aria-hidden\": true }, ariaLabelForSelectionColumn)) : null) : null,\n                ]\n                : null,\n            groupNestingDepth > 0 && this.props.collapseAllVisibility === CollapseAllVisibility.visible ? (React.createElement(\"div\", { className: classNames.cellIsGroupExpander, onClick: this._onToggleCollapseAll, \"data-is-focusable\": true, \"aria-label\": ariaLabelForToggleAllGroupsButton, \"aria-expanded\": !isAllCollapsed, role: \"columnheader\" },\n                React.createElement(IconComponent, { className: classNames.collapseButton, iconName: isRTL ? 'ChevronLeftMed' : 'ChevronRightMed' }))) : null,\n            React.createElement(GroupSpacer, { indentWidth: indentWidth, role: \"gridcell\", count: groupNestingDepth - 1 }),\n            columns.map(function (column, columnIndex) {\n                var _isDraggable = columnReorderProps\n                    ? columnIndex >= frozenColumnCountFromStart && columnIndex < columns.length - frozenColumnCountFromEnd\n                    : false;\n                return [\n                    columnReorderProps &&\n                        (_isDraggable || columnIndex === columns.length - frozenColumnCountFromEnd) &&\n                        _this._renderDropHint(columnIndex),\n                    React.createElement(DetailsColumn, { column: column, styles: column.styles, key: column.key, columnIndex: (showCheckbox ? 2 : 1) + columnIndex, parentId: _this._id, isDraggable: _isDraggable, updateDragInfo: _this._updateDragInfo, dragDropHelper: _this._dragDropHelper, onColumnClick: onColumnClick, onColumnContextMenu: onColumnContextMenu, \n                        // Do not render tooltips by default, but allow for override via props.\n                        onRenderColumnHeaderTooltip: _this.props.onRenderColumnHeaderTooltip, isDropped: _this._onDropIndexInfo.targetIndex === columnIndex, cellStyleProps: _this.props.cellStyleProps, useFastIcons: useFastIcons }),\n                    _this._renderColumnDivider(columnIndex),\n                ];\n            }),\n            columnReorderProps && frozenColumnCountFromEnd === 0 && this._renderDropHint(columns.length),\n            isSizing && (React.createElement(Layer, null,\n                React.createElement(\"div\", { className: classNames.sizingOverlay, onMouseMove: this._onSizerMouseMove, onMouseUp: this._onSizerMouseUp })))));\n    };\n    /** Set focus to the active thing in the focus area. */\n    DetailsHeaderBase.prototype.focus = function () {\n        var _a;\n        return !!((_a = this._rootComponent.current) === null || _a === void 0 ? void 0 : _a.focus());\n    };\n    /**\n     * Gets column reorder props from this.props. If the calling code is part of setting up or\n     * handling drag/drop events, it's safe to assume that this method's return value is defined\n     * (because drag/drop handling will only be set up if reorder props are given).\n     */\n    DetailsHeaderBase.prototype._getColumnReorderProps = function () {\n        var _a = this.props, columnReorderOptions = _a.columnReorderOptions, columnReorderProps = _a.columnReorderProps;\n        return columnReorderProps || (columnReorderOptions && __assign(__assign({}, columnReorderOptions), { onColumnDragEnd: undefined }));\n    };\n    DetailsHeaderBase.prototype._getHeaderDragDropOptions = function () {\n        var options = {\n            selectionIndex: 1,\n            context: { data: this, index: 0 },\n            canDrag: function () { return false; },\n            canDrop: function () { return true; },\n            onDragStart: function () { return undefined; },\n            updateDropState: this._updateDroppingState,\n            onDrop: this._onDrop,\n            onDragEnd: function () { return undefined; },\n            onDragOver: this._onDragOver,\n        };\n        return options;\n    };\n    DetailsHeaderBase.prototype._isValidCurrentDropHintIndex = function () {\n        return this._currentDropHintIndex >= 0;\n    };\n    /**\n     * @returns whether or not the \"Select All\" checkbox column is hidden.\n     */\n    DetailsHeaderBase.prototype._isCheckboxColumnHidden = function () {\n        var _a = this.props, selectionMode = _a.selectionMode, checkboxVisibility = _a.checkboxVisibility;\n        return selectionMode === SelectionMode.none || checkboxVisibility === CheckboxVisibility.hidden;\n    };\n    DetailsHeaderBase.prototype._resetDropHints = function () {\n        if (this._currentDropHintIndex >= 0) {\n            this._updateDropHintElement(this._dropHintDetails[this._currentDropHintIndex].dropHintElementRef, 'none');\n            this._currentDropHintIndex = -1;\n        }\n    };\n    DetailsHeaderBase.prototype._updateDropHintElement = function (element, displayProperty) {\n        element.childNodes[1].style.display = displayProperty;\n        element.childNodes[0].style.display = displayProperty;\n    };\n    DetailsHeaderBase.prototype._isEventOnHeader = function (event) {\n        if (this._rootElement.current) {\n            var clientRect = this._rootElement.current.getBoundingClientRect();\n            if (event.clientX > clientRect.left &&\n                event.clientX < clientRect.right &&\n                event.clientY > clientRect.top &&\n                event.clientY < clientRect.bottom) {\n                return ColumnDragEndLocation.header;\n            }\n        }\n    };\n    DetailsHeaderBase.prototype._renderColumnDivider = function (columnIndex) {\n        var _a = this.props.columns, columns = _a === void 0 ? NO_COLUMNS : _a;\n        var column = columns[columnIndex];\n        var onRenderDivider = column.onRenderDivider;\n        return onRenderDivider\n            ? onRenderDivider({ column: column, columnIndex: columnIndex }, this._renderColumnSizer)\n            : this._renderColumnSizer({ column: column, columnIndex: columnIndex });\n    };\n    DetailsHeaderBase.prototype._renderDropHint = function (dropHintIndex) {\n        var classNames = this._classNames;\n        var IconComponent = this.props.useFastIcons ? FontIcon : Icon;\n        return (React.createElement(\"div\", { key: 'dropHintKey', className: classNames.dropHintStyle, id: \"columnDropHint_\" + dropHintIndex },\n            React.createElement(\"div\", { role: \"presentation\", key: \"dropHintCircleKey\", className: classNames.dropHintCaretStyle, \"data-is-focusable\": false, \"data-sizer-index\": dropHintIndex, \"aria-hidden\": true },\n                React.createElement(IconComponent, { iconName: 'CircleShapeSolid' })),\n            React.createElement(\"div\", { key: \"dropHintLineKey\", \"aria-hidden\": true, \"data-is-focusable\": false, \"data-sizer-index\": dropHintIndex, className: classNames.dropHintLineStyle })));\n    };\n    /**\n     * double click on the column sizer will auto ajust column width\n     * to fit the longest content among current rendered rows.\n     *\n     * @param columnIndex - index of the column user double clicked\n     * @param ev - mouse double click event\n     */\n    DetailsHeaderBase.prototype._onSizerDoubleClick = function (columnIndex, ev) {\n        var _a = this.props, onColumnAutoResized = _a.onColumnAutoResized, _b = _a.columns, columns = _b === void 0 ? NO_COLUMNS : _b;\n        if (onColumnAutoResized) {\n            onColumnAutoResized(columns[columnIndex], columnIndex);\n        }\n    };\n    DetailsHeaderBase.prototype._onSelectionChanged = function () {\n        var isAllSelected = !!this.props.selection && this.props.selection.isAllSelected();\n        if (this.state.isAllSelected !== isAllSelected) {\n            this.setState({\n                isAllSelected: isAllSelected,\n            });\n        }\n    };\n    DetailsHeaderBase.defaultProps = {\n        selectAllVisibility: SelectAllVisibility.visible,\n        collapseAllVisibility: CollapseAllVisibility.visible,\n        useFastIcons: true,\n    };\n    return DetailsHeaderBase;\n}(React.Component));\nexport { DetailsHeaderBase };\nfunction _liesBetween(rtl, target, left, right) {\n    return rtl ? target <= left && target >= right : target >= left && target <= right;\n}\nfunction _isBefore(rtl, a, b) {\n    return rtl ? a >= b : a <= b;\n}\nfunction _isAfter(rtl, a, b) {\n    return rtl ? a <= b : a >= b;\n}\nfunction _stopPropagation(ev) {\n    ev.stopPropagation();\n}\n//# sourceMappingURL=DetailsHeader.base.js.map","import { styled } from '../../Utilities';\nimport { DetailsHeaderBase } from './DetailsHeader.base';\nimport { getStyles } from './DetailsHeader.styles';\nexport var DetailsHeader = styled(DetailsHeaderBase, getStyles, undefined, { scope: 'DetailsHeader' });\n//# sourceMappingURL=DetailsHeader.js.map","import { __assign } from \"tslib\";\nimport { getFocusStyle, focusClear, getGlobalClassNames, HighContrastSelector, hiddenContentStyle, getHighContrastNoAdjustStyle, } from '../../Styling';\nimport { getRTL, IsFocusVisibleClassName } from '../../Utilities';\nimport { DEFAULT_CELL_STYLE_PROPS } from './DetailsRow.styles';\n// For every group level there is a GroupSpacer added. Importing this const to have the source value in one place.\nimport { SPACER_WIDTH as GROUP_EXPANDER_WIDTH } from '../GroupedList/GroupSpacer';\nvar GlobalClassNames = {\n    tooltipHost: 'ms-TooltipHost',\n    root: 'ms-DetailsHeader',\n    cell: 'ms-DetailsHeader-cell',\n    cellIsCheck: 'ms-DetailsHeader-cellIsCheck',\n    collapseButton: 'ms-DetailsHeader-collapseButton',\n    isCollapsed: 'is-collapsed',\n    isAllSelected: 'is-allSelected',\n    isSelectAllHidden: 'is-selectAllHidden',\n    isResizingColumn: 'is-resizingColumn',\n    cellSizer: 'ms-DetailsHeader-cellSizer',\n    isResizing: 'is-resizing',\n    dropHintCircleStyle: 'ms-DetailsHeader-dropHintCircleStyle',\n    dropHintCaretStyle: 'ms-DetailsHeader-dropHintCaretStyle',\n    dropHintLineStyle: 'ms-DetailsHeader-dropHintLineStyle',\n    cellTitle: 'ms-DetailsHeader-cellTitle',\n    cellName: 'ms-DetailsHeader-cellName',\n    filterChevron: 'ms-DetailsHeader-filterChevron',\n    gripperBarVertical: 'ms-DetailsColumn-gripperBarVertical',\n    checkTooltip: 'ms-DetailsHeader-checkTooltip',\n    check: 'ms-DetailsHeader-check',\n};\nexport var HEADER_HEIGHT = 42;\nexport var getCellStyles = function (props) {\n    var theme = props.theme, _a = props.cellStyleProps, cellStyleProps = _a === void 0 ? DEFAULT_CELL_STYLE_PROPS : _a;\n    var semanticColors = theme.semanticColors;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return [\n        classNames.cell,\n        getFocusStyle(theme),\n        {\n            color: semanticColors.bodyText,\n            position: 'relative',\n            display: 'inline-block',\n            boxSizing: 'border-box',\n            padding: \"0 \" + cellStyleProps.cellRightPadding + \"px 0 \" + cellStyleProps.cellLeftPadding + \"px\",\n            lineHeight: 'inherit',\n            margin: '0',\n            height: HEADER_HEIGHT,\n            verticalAlign: 'top',\n            whiteSpace: 'nowrap',\n            textOverflow: 'ellipsis',\n            textAlign: 'left',\n        },\n    ];\n};\nexport var getStyles = function (props) {\n    var _a, _b, _c, _d;\n    var theme = props.theme, className = props.className, isAllSelected = props.isAllSelected, isResizingColumn = props.isResizingColumn, isSizing = props.isSizing, isAllCollapsed = props.isAllCollapsed, _e = props.cellStyleProps, cellStyleProps = _e === void 0 ? DEFAULT_CELL_STYLE_PROPS : _e;\n    var semanticColors = theme.semanticColors, palette = theme.palette, fonts = theme.fonts;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    var colors = {\n        iconForegroundColor: semanticColors.bodySubtext,\n        headerForegroundColor: semanticColors.bodyText,\n        headerBackgroundColor: semanticColors.bodyBackground,\n        resizerColor: palette.neutralTertiaryAlt,\n    };\n    var cellSizerFadeInStyles = {\n        opacity: 1,\n        transition: 'opacity 0.3s linear',\n    };\n    var cellStyles = getCellStyles(props);\n    return {\n        root: [\n            classNames.root,\n            fonts.small,\n            {\n                display: 'inline-block',\n                background: colors.headerBackgroundColor,\n                position: 'relative',\n                minWidth: '100%',\n                verticalAlign: 'top',\n                height: HEADER_HEIGHT,\n                lineHeight: HEADER_HEIGHT,\n                whiteSpace: 'nowrap',\n                boxSizing: 'content-box',\n                paddingBottom: '1px',\n                paddingTop: '16px',\n                borderBottom: \"1px solid \" + semanticColors.bodyDivider,\n                cursor: 'default',\n                userSelect: 'none',\n                selectors: (_a = {},\n                    _a[\"&:hover .\" + classNames.check] = {\n                        opacity: 1,\n                    },\n                    _a[\"& .\" + classNames.tooltipHost + \" .\" + classNames.checkTooltip] = {\n                        display: 'block',\n                    },\n                    _a),\n            },\n            isAllSelected && classNames.isAllSelected,\n            isResizingColumn && classNames.isResizingColumn,\n            className,\n        ],\n        check: [\n            classNames.check,\n            {\n                height: HEADER_HEIGHT,\n            },\n            {\n                selectors: (_b = {},\n                    _b[\".\" + IsFocusVisibleClassName + \" &:focus\"] = {\n                        opacity: 1,\n                    },\n                    _b),\n            },\n        ],\n        cellWrapperPadded: {\n            paddingRight: cellStyleProps.cellExtraRightPadding + cellStyleProps.cellRightPadding,\n        },\n        cellIsCheck: [\n            cellStyles,\n            classNames.cellIsCheck,\n            {\n                position: 'relative',\n                padding: 0,\n                margin: 0,\n                display: 'inline-flex',\n                alignItems: 'center',\n                border: 'none',\n            },\n            isAllSelected && {\n                opacity: 1,\n            },\n        ],\n        cellIsGroupExpander: [\n            cellStyles,\n            {\n                display: 'inline-flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: fonts.small.fontSize,\n                padding: 0,\n                border: 'none',\n                width: GROUP_EXPANDER_WIDTH,\n                color: palette.neutralSecondary,\n                selectors: {\n                    ':hover': {\n                        backgroundColor: palette.neutralLighter,\n                    },\n                    ':active': {\n                        backgroundColor: palette.neutralLight,\n                    },\n                },\n            },\n        ],\n        cellIsActionable: {\n            selectors: {\n                ':hover': {\n                    color: semanticColors.bodyText,\n                    background: semanticColors.listHeaderBackgroundHovered,\n                },\n                ':active': {\n                    background: semanticColors.listHeaderBackgroundPressed,\n                },\n            },\n        },\n        cellIsEmpty: {\n            textOverflow: 'clip',\n        },\n        cellSizer: [\n            classNames.cellSizer,\n            focusClear(),\n            {\n                display: 'inline-block',\n                position: 'relative',\n                cursor: 'ew-resize',\n                bottom: 0,\n                top: 0,\n                overflow: 'hidden',\n                height: 'inherit',\n                background: 'transparent',\n                zIndex: 1,\n                width: 16,\n                selectors: (_c = {\n                        ':after': {\n                            content: '\"\"',\n                            position: 'absolute',\n                            top: 0,\n                            bottom: 0,\n                            width: 1,\n                            background: colors.resizerColor,\n                            opacity: 0,\n                            left: '50%',\n                        },\n                        ':focus:after': cellSizerFadeInStyles,\n                        ':hover:after': cellSizerFadeInStyles\n                    },\n                    _c[\"&.\" + classNames.isResizing + \":after\"] = [\n                        cellSizerFadeInStyles,\n                        {\n                            boxShadow: '0 0 5px 0 rgba(0, 0, 0, 0.4)',\n                        },\n                    ],\n                    _c),\n            },\n        ],\n        cellIsResizing: classNames.isResizing,\n        cellSizerStart: {\n            margin: '0 -8px',\n        },\n        cellSizerEnd: {\n            margin: 0,\n            marginLeft: -16,\n        },\n        collapseButton: [\n            classNames.collapseButton,\n            {\n                transformOrigin: '50% 50%',\n                transition: 'transform .1s linear',\n            },\n            isAllCollapsed\n                ? [\n                    classNames.isCollapsed,\n                    {\n                        transform: 'rotate(0deg)',\n                    },\n                ]\n                : {\n                    transform: getRTL(theme) ? 'rotate(-90deg)' : 'rotate(90deg)',\n                },\n        ],\n        checkTooltip: classNames.checkTooltip,\n        sizingOverlay: isSizing && {\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0,\n            cursor: 'ew-resize',\n            background: 'rgba(255, 255, 255, 0)',\n            selectors: (_d = {},\n                _d[HighContrastSelector] = __assign({ background: 'transparent' }, getHighContrastNoAdjustStyle()),\n                _d),\n        },\n        accessibleLabel: hiddenContentStyle,\n        dropHintCircleStyle: [\n            classNames.dropHintCircleStyle,\n            {\n                display: 'inline-block',\n                visibility: 'hidden',\n                position: 'absolute',\n                bottom: 0,\n                height: 9,\n                width: 9,\n                borderRadius: '50%',\n                marginLeft: -5,\n                top: 34,\n                overflow: 'visible',\n                zIndex: 10,\n                border: \"1px solid \" + palette.themePrimary,\n                background: palette.white,\n            },\n        ],\n        dropHintCaretStyle: [\n            classNames.dropHintCaretStyle,\n            {\n                display: 'none',\n                position: 'absolute',\n                top: -28,\n                left: -6.5,\n                fontSize: fonts.medium.fontSize,\n                color: palette.themePrimary,\n                overflow: 'visible',\n                zIndex: 10,\n            },\n        ],\n        dropHintLineStyle: [\n            classNames.dropHintLineStyle,\n            {\n                display: 'none',\n                position: 'absolute',\n                bottom: 0,\n                top: 0,\n                overflow: 'hidden',\n                height: 42,\n                width: 1,\n                background: palette.themePrimary,\n                zIndex: 10,\n            },\n        ],\n        dropHintStyle: {\n            display: 'inline-block',\n            position: 'absolute',\n        },\n    };\n};\n//# sourceMappingURL=DetailsHeader.styles.js.map","/**\n * {@docCategory DetailsList}\n */\nexport var SelectAllVisibility;\n(function (SelectAllVisibility) {\n    SelectAllVisibility[SelectAllVisibility[\"none\"] = 0] = \"none\";\n    SelectAllVisibility[SelectAllVisibility[\"hidden\"] = 1] = \"hidden\";\n    SelectAllVisibility[SelectAllVisibility[\"visible\"] = 2] = \"visible\";\n})(SelectAllVisibility || (SelectAllVisibility = {}));\n//# sourceMappingURL=DetailsHeader.types.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { BaseDecorator } from './BaseDecorator';\nimport { findScrollableParent, getRect, getWindow, Async, EventGroup } from '../../Utilities';\nvar RESIZE_DELAY = 500;\nvar MAX_RESIZE_ATTEMPTS = 3;\n/**\n * A decorator to update decorated component on viewport or window resize events.\n *\n * @param ComposedComponent decorated React component reference.\n */\nexport function withViewport(ComposedComponent) {\n    return /** @class */ (function (_super) {\n        __extends(WithViewportComponent, _super);\n        function WithViewportComponent(props) {\n            var _this = _super.call(this, props) || this;\n            _this._root = React.createRef();\n            _this._registerResizeObserver = function () {\n                var win = getWindow(_this._root.current);\n                _this._viewportResizeObserver = new win.ResizeObserver(_this._onAsyncResize);\n                _this._viewportResizeObserver.observe(_this._root.current);\n            };\n            _this._unregisterResizeObserver = function () {\n                if (_this._viewportResizeObserver) {\n                    _this._viewportResizeObserver.disconnect();\n                    delete _this._viewportResizeObserver;\n                }\n            };\n            /* Note: using lambda here because decorators don't seem to work in decorators. */\n            _this._updateViewport = function (withForceUpdate) {\n                var viewport = _this.state.viewport;\n                var viewportElement = _this._root.current;\n                var scrollElement = findScrollableParent(viewportElement);\n                var scrollRect = getRect(scrollElement);\n                var clientRect = getRect(viewportElement);\n                var updateComponent = function () {\n                    if (withForceUpdate && _this._composedComponentInstance) {\n                        _this._composedComponentInstance.forceUpdate();\n                    }\n                };\n                var isSizeChanged = (clientRect && clientRect.width) !== viewport.width || (scrollRect && scrollRect.height) !== viewport.height;\n                if (isSizeChanged && _this._resizeAttempts < MAX_RESIZE_ATTEMPTS && clientRect && scrollRect) {\n                    _this._resizeAttempts++;\n                    _this.setState({\n                        viewport: {\n                            width: clientRect.width,\n                            height: scrollRect.height,\n                        },\n                    }, function () {\n                        _this._updateViewport(withForceUpdate);\n                    });\n                }\n                else {\n                    _this._resizeAttempts = 0;\n                    updateComponent();\n                }\n            };\n            _this._async = new Async(_this);\n            _this._events = new EventGroup(_this);\n            _this._resizeAttempts = 0;\n            _this.state = {\n                viewport: {\n                    width: 0,\n                    height: 0,\n                },\n            };\n            return _this;\n        }\n        WithViewportComponent.prototype.componentDidMount = function () {\n            var _a = this.props, skipViewportMeasures = _a.skipViewportMeasures, disableResizeObserver = _a.disableResizeObserver;\n            var win = getWindow(this._root.current);\n            this._onAsyncResize = this._async.debounce(this._onAsyncResize, RESIZE_DELAY, {\n                leading: false,\n            });\n            if (!skipViewportMeasures) {\n                if (!disableResizeObserver && this._isResizeObserverAvailable()) {\n                    this._registerResizeObserver();\n                }\n                else {\n                    this._events.on(win, 'resize', this._onAsyncResize);\n                }\n                this._updateViewport();\n            }\n        };\n        WithViewportComponent.prototype.componentDidUpdate = function (previousProps) {\n            var previousSkipViewportMeasures = previousProps.skipViewportMeasures;\n            var _a = this.props, skipViewportMeasures = _a.skipViewportMeasures, disableResizeObserver = _a.disableResizeObserver;\n            var win = getWindow(this._root.current);\n            if (skipViewportMeasures !== previousSkipViewportMeasures) {\n                if (!skipViewportMeasures) {\n                    if (!disableResizeObserver && this._isResizeObserverAvailable()) {\n                        if (!this._viewportResizeObserver) {\n                            this._registerResizeObserver();\n                        }\n                    }\n                    else {\n                        this._events.on(win, 'resize', this._onAsyncResize);\n                    }\n                    this._updateViewport();\n                }\n                else {\n                    this._unregisterResizeObserver();\n                    this._events.off(win, 'resize', this._onAsyncResize);\n                }\n            }\n        };\n        WithViewportComponent.prototype.componentWillUnmount = function () {\n            this._events.dispose();\n            this._async.dispose();\n            this._unregisterResizeObserver();\n        };\n        WithViewportComponent.prototype.render = function () {\n            var viewport = this.state.viewport;\n            var newViewport = viewport.width > 0 && viewport.height > 0 ? viewport : undefined;\n            return (React.createElement(\"div\", { className: \"ms-Viewport\", ref: this._root, style: { minWidth: 1, minHeight: 1 } },\n                React.createElement(ComposedComponent, __assign({ ref: this._updateComposedComponentRef, viewport: newViewport }, this.props))));\n        };\n        WithViewportComponent.prototype.forceUpdate = function () {\n            this._updateViewport(true);\n        };\n        WithViewportComponent.prototype._onAsyncResize = function () {\n            this._updateViewport();\n        };\n        WithViewportComponent.prototype._isResizeObserverAvailable = function () {\n            var win = getWindow(this._root.current);\n            return win && win.ResizeObserver;\n        };\n        return WithViewportComponent;\n    }(BaseDecorator));\n}\n//# sourceMappingURL=withViewport.js.map","import { __spreadArrays } from \"tslib\";\n/**\n * Takes an array of groups and returns a count of the groups and all descendant groups.\n * @param groups - The array of groups to count.\n */\nexport var GetGroupCount = function (groups) {\n    var total = 0;\n    if (groups) {\n        var remainingGroups = __spreadArrays(groups);\n        var currentGroup = void 0;\n        while (remainingGroups && remainingGroups.length > 0) {\n            ++total;\n            currentGroup = remainingGroups.pop();\n            if (currentGroup && currentGroup.children) {\n                remainingGroups.push.apply(remainingGroups, currentGroup.children);\n            }\n        }\n    }\n    return total;\n};\n//# sourceMappingURL=GroupedListUtility.js.map","import { __assign, __decorate, __extends, __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, FocusRects, Async, KeyCodes, elementContains, getRTLSafeKeyCode, classNamesFunction, memoizeFunction, } from '../../Utilities';\nimport { CheckboxVisibility, ColumnActionsMode, ConstrainMode, DetailsListLayoutMode, ColumnDragEndLocation, } from '../DetailsList/DetailsList.types';\nimport { DetailsHeader } from '../DetailsList/DetailsHeader';\nimport { SelectAllVisibility, } from '../DetailsList/DetailsHeader.types';\nimport { DetailsRow } from '../DetailsList/DetailsRow';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { Selection, SelectionMode, SelectionZone } from '../../Selection';\nimport { DragDropHelper } from '../../DragDrop';\nimport { GroupedList } from '../../GroupedList';\nimport { List } from '../../List';\nimport { withViewport } from '../../utilities/decorators/withViewport';\nimport { GetGroupCount } from '../../utilities/groupedList/GroupedListUtility';\nimport { DEFAULT_CELL_STYLE_PROPS } from './DetailsRow.styles';\nimport { CHECK_CELL_WIDTH as CHECKBOX_WIDTH } from './DetailsRowCheck.styles';\n// For every group level there is a GroupSpacer added. Importing this const to have the source value in one place.\nimport { SPACER_WIDTH as GROUP_EXPAND_WIDTH } from '../GroupedList/GroupSpacer';\nimport { composeRenderFunction, getId } from '@fluentui/utilities';\nimport { useConst } from '@fluentui/react-hooks';\nvar getClassNames = classNamesFunction();\nvar MIN_COLUMN_WIDTH = 100; // this is the global min width\nvar DEFAULT_RENDERED_WINDOWS_AHEAD = 2;\nvar DEFAULT_RENDERED_WINDOWS_BEHIND = 2;\n/**\n * Hooks-based implementation of DetailsList.\n * Since many existing consumers of DetailsList expect `ref` to return a `DetailsList`,\n * this inner component handles rendering while the outer maintains compatibility.\n */\nvar DetailsListInner = function (props) {\n    var selection = props.selection;\n    var ariaLabelForListHeader = props.ariaLabelForListHeader, ariaLabelForSelectAllCheckbox = props.ariaLabelForSelectAllCheckbox, ariaLabelForSelectionColumn = props.ariaLabelForSelectionColumn, className = props.className, checkboxVisibility = props.checkboxVisibility, compact = props.compact, constrainMode = props.constrainMode, dragDropEvents = props.dragDropEvents, groups = props.groups, groupProps = props.groupProps, indentWidth = props.indentWidth, items = props.items, isPlaceholderData = props.isPlaceholderData, isHeaderVisible = props.isHeaderVisible, layoutMode = props.layoutMode, onItemInvoked = props.onItemInvoked, onItemContextMenu = props.onItemContextMenu, onColumnHeaderClick = props.onColumnHeaderClick, onColumnHeaderContextMenu = props.onColumnHeaderContextMenu, _a = props.selectionMode, selectionMode = _a === void 0 ? selection.mode : _a, selectionPreservedOnEmptyClick = props.selectionPreservedOnEmptyClick, selectionZoneProps = props.selectionZoneProps, ariaLabel = props.ariaLabel, ariaLabelForGrid = props.ariaLabelForGrid, rowElementEventMap = props.rowElementEventMap, _b = props.shouldApplyApplicationRole, shouldApplyApplicationRole = _b === void 0 ? false : _b, getKey = props.getKey, listProps = props.listProps, usePageCache = props.usePageCache, onShouldVirtualize = props.onShouldVirtualize, viewport = props.viewport, minimumPixelsForDrag = props.minimumPixelsForDrag, getGroupHeight = props.getGroupHeight, styles = props.styles, theme = props.theme, _c = props.cellStyleProps, cellStyleProps = _c === void 0 ? DEFAULT_CELL_STYLE_PROPS : _c, onRenderCheckbox = props.onRenderCheckbox, useFastIcons = props.useFastIcons, dragDropHelper = props.dragDropHelper, adjustedColumns = props.adjustedColumns, isCollapsed = props.isCollapsed, isSizing = props.isSizing, isSomeGroupExpanded = props.isSomeGroupExpanded, version = props.version, rootRef = props.rootRef, listRef = props.listRef, focusZoneRef = props.focusZoneRef, columnReorderOptions = props.columnReorderOptions, groupedListRef = props.groupedListRef, headerRef = props.headerRef, onGroupExpandStateChanged = props.onGroupExpandStateChanged, onColumnIsSizingChanged = props.onColumnIsSizingChanged, onRowDidMount = props.onRowDidMount, onRowWillUnmount = props.onRowWillUnmount, disableSelectionZone = props.disableSelectionZone, onColumnResized = props.onColumnResized, onColumnAutoResized = props.onColumnAutoResized, onToggleCollapse = props.onToggleCollapse, onActiveRowChanged = props.onActiveRowChanged, onBlur = props.onBlur, eventsToRegister = props.rowElementEventMap, onRenderMissingItem = props.onRenderMissingItem, onRenderItemColumn = props.onRenderItemColumn, getCellValueKey = props.getCellValueKey, getRowAriaLabel = props.getRowAriaLabel, getRowAriaDescribedBy = props.getRowAriaDescribedBy, checkButtonAriaLabel = props.checkButtonAriaLabel, checkButtonGroupAriaLabel = props.checkButtonGroupAriaLabel, checkboxCellClassName = props.checkboxCellClassName, useReducedRowRenderer = props.useReducedRowRenderer, enableUpdateAnimations = props.enableUpdateAnimations, enterModalSelectionOnTouch = props.enterModalSelectionOnTouch, onRenderDefaultRow = props.onRenderDefaultRow, selectionZoneRef = props.selectionZoneRef;\n    var defaultRole = 'grid';\n    var role = props.role ? props.role : defaultRole;\n    var rowId = getId('row');\n    var groupNestingDepth = getGroupNestingDepth(groups);\n    var groupedDetailsListIndexMap = useGroupedDetailsListIndexMap(groups);\n    var additionalListProps = React.useMemo(function () {\n        return __assign({ renderedWindowsAhead: isSizing ? 0 : DEFAULT_RENDERED_WINDOWS_AHEAD, renderedWindowsBehind: isSizing ? 0 : DEFAULT_RENDERED_WINDOWS_BEHIND, getKey: getKey,\n            version: version }, listProps);\n    }, [isSizing, getKey, version, listProps]);\n    var selectAllVisibility = SelectAllVisibility.none; // for SelectionMode.none\n    if (selectionMode === SelectionMode.single) {\n        selectAllVisibility = SelectAllVisibility.hidden;\n    }\n    if (selectionMode === SelectionMode.multiple) {\n        // if isCollapsedGroupSelectVisible is false, disable select all when the list has all collapsed groups\n        var isCollapsedGroupSelectVisible = groupProps && groupProps.headerProps && groupProps.headerProps.isCollapsedGroupSelectVisible;\n        if (isCollapsedGroupSelectVisible === undefined) {\n            isCollapsedGroupSelectVisible = true;\n        }\n        var isSelectAllVisible = isCollapsedGroupSelectVisible || !groups || isSomeGroupExpanded;\n        selectAllVisibility = isSelectAllVisible ? SelectAllVisibility.visible : SelectAllVisibility.hidden;\n    }\n    if (checkboxVisibility === CheckboxVisibility.hidden) {\n        selectAllVisibility = SelectAllVisibility.none;\n    }\n    var defaultOnRenderDetailsHeader = React.useCallback(function (detailsHeaderProps) {\n        return React.createElement(DetailsHeader, __assign({}, detailsHeaderProps));\n    }, []);\n    var defaultOnRenderDetailsFooter = React.useCallback(function () {\n        return null;\n    }, []);\n    var propsOnRenderDetailsHeader = props.onRenderDetailsHeader;\n    var onRenderDetailsHeader = React.useMemo(function () {\n        return propsOnRenderDetailsHeader\n            ? composeRenderFunction(propsOnRenderDetailsHeader, defaultOnRenderDetailsHeader)\n            : defaultOnRenderDetailsHeader;\n    }, [propsOnRenderDetailsHeader, defaultOnRenderDetailsHeader]);\n    var propsOnRenderDetailsFooter = props.onRenderDetailsFooter;\n    var onRenderDetailsFooter = React.useMemo(function () {\n        return propsOnRenderDetailsFooter\n            ? composeRenderFunction(propsOnRenderDetailsFooter, defaultOnRenderDetailsFooter)\n            : defaultOnRenderDetailsFooter;\n    }, [propsOnRenderDetailsFooter, defaultOnRenderDetailsFooter]);\n    var detailsFooterProps = React.useMemo(function () {\n        return {\n            columns: adjustedColumns,\n            groupNestingDepth: groupNestingDepth,\n            selection: selection,\n            selectionMode: selectionMode,\n            viewport: viewport,\n            checkboxVisibility: checkboxVisibility,\n            indentWidth: indentWidth,\n            cellStyleProps: cellStyleProps,\n        };\n    }, [\n        adjustedColumns,\n        groupNestingDepth,\n        selection,\n        selectionMode,\n        viewport,\n        checkboxVisibility,\n        indentWidth,\n        cellStyleProps,\n    ]);\n    var columnReorderOnDragEnd = columnReorderOptions && columnReorderOptions.onDragEnd;\n    var onColumnDragEnd = React.useCallback(function (_a, event) {\n        var dropLocation = _a.dropLocation;\n        var finalDropLocation = ColumnDragEndLocation.outside;\n        if (columnReorderOnDragEnd) {\n            if (dropLocation && dropLocation !== ColumnDragEndLocation.header) {\n                finalDropLocation = dropLocation;\n            }\n            else if (rootRef.current) {\n                var clientRect = rootRef.current.getBoundingClientRect();\n                if (event.clientX > clientRect.left &&\n                    event.clientX < clientRect.right &&\n                    event.clientY > clientRect.top &&\n                    event.clientY < clientRect.bottom) {\n                    finalDropLocation = ColumnDragEndLocation.surface;\n                }\n            }\n            columnReorderOnDragEnd(finalDropLocation);\n        }\n    }, [columnReorderOnDragEnd, rootRef]);\n    var columnReorderProps = React.useMemo(function () {\n        if (columnReorderOptions) {\n            return __assign(__assign({}, columnReorderOptions), { onColumnDragEnd: onColumnDragEnd });\n        }\n    }, [columnReorderOptions, onColumnDragEnd]);\n    var rowCount = (isHeaderVisible ? 1 : 0) + GetGroupCount(groups) + (items ? items.length : 0);\n    var colCount = (selectAllVisibility !== SelectAllVisibility.none ? 1 : 0) +\n        (adjustedColumns ? adjustedColumns.length : 0) +\n        (groups ? 1 : 0);\n    var classNames = React.useMemo(function () {\n        return getClassNames(styles, {\n            theme: theme,\n            compact: compact,\n            isFixed: layoutMode === DetailsListLayoutMode.fixedColumns,\n            isHorizontalConstrained: constrainMode === ConstrainMode.horizontalConstrained,\n            className: className,\n        });\n    }, [styles, theme, compact, layoutMode, constrainMode, className]);\n    var onRenderDetailsGroupFooter = groupProps && groupProps.onRenderFooter;\n    var finalOnRenderDetailsGroupFooter = React.useMemo(function () {\n        return onRenderDetailsGroupFooter\n            ? function (groupFooterProps, defaultRender) {\n                return onRenderDetailsGroupFooter(__assign(__assign({}, groupFooterProps), { columns: adjustedColumns, groupNestingDepth: groupNestingDepth,\n                    indentWidth: indentWidth,\n                    selection: selection,\n                    selectionMode: selectionMode,\n                    viewport: viewport,\n                    checkboxVisibility: checkboxVisibility,\n                    cellStyleProps: cellStyleProps }), defaultRender);\n            }\n            : undefined;\n    }, [\n        onRenderDetailsGroupFooter,\n        adjustedColumns,\n        groupNestingDepth,\n        indentWidth,\n        selection,\n        selectionMode,\n        viewport,\n        checkboxVisibility,\n        cellStyleProps,\n    ]);\n    var onRenderDetailsGroupHeader = groupProps && groupProps.onRenderHeader;\n    var finalOnRenderDetailsGroupHeader = React.useMemo(function () {\n        return onRenderDetailsGroupHeader\n            ? function (groupHeaderProps, defaultRender) {\n                var _a, _b;\n                var groupIndex = groupHeaderProps.groupIndex;\n                var groupKey = groupIndex !== undefined ? (_b = (_a = groupHeaderProps.groups) === null || _a === void 0 ? void 0 : _a[groupIndex]) === null || _b === void 0 ? void 0 : _b.key : undefined;\n                var totalRowCount = groupKey !== undefined && groupedDetailsListIndexMap[groupKey]\n                    ? groupedDetailsListIndexMap[groupKey].totalRowCount\n                    : 0;\n                return onRenderDetailsGroupHeader(__assign(__assign({}, groupHeaderProps), { columns: adjustedColumns, groupNestingDepth: groupNestingDepth,\n                    indentWidth: indentWidth,\n                    selection: selection,\n                    selectionMode: selectionMode,\n                    viewport: viewport,\n                    checkboxVisibility: checkboxVisibility,\n                    cellStyleProps: cellStyleProps, ariaColSpan: adjustedColumns.length, ariaPosInSet: undefined, ariaSetSize: undefined, ariaRowCount: undefined, ariaRowIndex: groupIndex !== undefined ? totalRowCount + (isHeaderVisible ? 1 : 0) : undefined }), defaultRender);\n            }\n            : function (groupHeaderProps, defaultRender) {\n                var _a, _b;\n                var groupIndex = groupHeaderProps.groupIndex;\n                var groupKey = groupIndex !== undefined ? (_b = (_a = groupHeaderProps.groups) === null || _a === void 0 ? void 0 : _a[groupIndex]) === null || _b === void 0 ? void 0 : _b.key : undefined;\n                var totalRowCount = groupKey !== undefined && groupedDetailsListIndexMap[groupKey]\n                    ? groupedDetailsListIndexMap[groupKey].totalRowCount\n                    : 0;\n                return defaultRender(__assign(__assign({}, groupHeaderProps), { ariaColSpan: adjustedColumns.length, ariaPosInSet: undefined, ariaSetSize: undefined, ariaRowCount: undefined, ariaRowIndex: groupIndex !== undefined ? totalRowCount + (isHeaderVisible ? 1 : 0) : undefined }));\n            };\n    }, [\n        onRenderDetailsGroupHeader,\n        adjustedColumns,\n        groupNestingDepth,\n        indentWidth,\n        isHeaderVisible,\n        selection,\n        selectionMode,\n        viewport,\n        checkboxVisibility,\n        cellStyleProps,\n        groupedDetailsListIndexMap,\n    ]);\n    var finalGroupProps = React.useMemo(function () {\n        return __assign(__assign({}, groupProps), { role: role === defaultRole ? 'rowgroup' : 'presentation', onRenderFooter: finalOnRenderDetailsGroupFooter, onRenderHeader: finalOnRenderDetailsGroupHeader, \n            // pass through custom group header checkbox label\n            headerProps: {\n                selectAllButtonProps: {\n                    'aria-label': checkButtonGroupAriaLabel,\n                },\n            } });\n    }, [groupProps, finalOnRenderDetailsGroupFooter, finalOnRenderDetailsGroupHeader, checkButtonGroupAriaLabel, role]);\n    var sumColumnWidths = useConst(function () {\n        return memoizeFunction(function (columns) {\n            var totalWidth = 0;\n            columns.forEach(function (column) { return (totalWidth += column.calculatedWidth || column.minWidth); });\n            return totalWidth;\n        });\n    });\n    var collapseAllVisibility = groupProps && groupProps.collapseAllVisibility;\n    var rowWidth = React.useMemo(function () {\n        return sumColumnWidths(adjustedColumns);\n    }, [adjustedColumns, sumColumnWidths]);\n    var onRenderCell = React.useCallback(function (nestingDepth, item, index, group) {\n        var finalOnRenderRow = props.onRenderRow\n            ? composeRenderFunction(props.onRenderRow, onRenderDefaultRow)\n            : onRenderDefaultRow;\n        var groupKey = group ? group.key : undefined;\n        var numOfGroupHeadersBeforeItem = groupKey && groupedDetailsListIndexMap[groupKey]\n            ? groupedDetailsListIndexMap[groupKey].numOfGroupHeadersBeforeItem\n            : 0;\n        var rowRole = role === defaultRole ? undefined : 'presentation';\n        var rowProps = {\n            item: item,\n            itemIndex: index,\n            flatIndexOffset: (isHeaderVisible ? 2 : 1) + numOfGroupHeadersBeforeItem,\n            compact: compact,\n            columns: adjustedColumns,\n            groupNestingDepth: nestingDepth,\n            id: rowId + \"-\" + index,\n            selectionMode: selectionMode,\n            selection: selection,\n            onDidMount: onRowDidMount,\n            onWillUnmount: onRowWillUnmount,\n            onRenderItemColumn: onRenderItemColumn,\n            getCellValueKey: getCellValueKey,\n            eventsToRegister: eventsToRegister,\n            dragDropEvents: dragDropEvents,\n            dragDropHelper: dragDropHelper,\n            viewport: viewport,\n            checkboxVisibility: checkboxVisibility,\n            collapseAllVisibility: collapseAllVisibility,\n            getRowAriaLabel: getRowAriaLabel,\n            getRowAriaDescribedBy: getRowAriaDescribedBy,\n            checkButtonAriaLabel: checkButtonAriaLabel,\n            checkboxCellClassName: checkboxCellClassName,\n            useReducedRowRenderer: useReducedRowRenderer,\n            indentWidth: indentWidth,\n            cellStyleProps: cellStyleProps,\n            onRenderDetailsCheckbox: onRenderCheckbox,\n            enableUpdateAnimations: enableUpdateAnimations,\n            rowWidth: rowWidth,\n            useFastIcons: useFastIcons,\n            role: rowRole,\n        };\n        if (!item) {\n            if (onRenderMissingItem) {\n                return onRenderMissingItem(index, rowProps);\n            }\n            return null;\n        }\n        return finalOnRenderRow(rowProps);\n    }, [\n        compact,\n        adjustedColumns,\n        selectionMode,\n        selection,\n        rowId,\n        onRowDidMount,\n        onRowWillUnmount,\n        onRenderItemColumn,\n        getCellValueKey,\n        eventsToRegister,\n        dragDropEvents,\n        dragDropHelper,\n        viewport,\n        checkboxVisibility,\n        collapseAllVisibility,\n        getRowAriaLabel,\n        getRowAriaDescribedBy,\n        isHeaderVisible,\n        checkButtonAriaLabel,\n        checkboxCellClassName,\n        useReducedRowRenderer,\n        indentWidth,\n        cellStyleProps,\n        onRenderCheckbox,\n        enableUpdateAnimations,\n        useFastIcons,\n        onRenderDefaultRow,\n        onRenderMissingItem,\n        props.onRenderRow,\n        rowWidth,\n        role,\n        groupedDetailsListIndexMap,\n    ]);\n    var onRenderListCell = React.useCallback(function (nestingDepth) {\n        return function (item, itemIndex) {\n            return onRenderCell(nestingDepth, item, itemIndex);\n        };\n    }, [onRenderCell]);\n    var isRightArrow = React.useCallback(function (event) {\n        // eslint-disable-next-line deprecation/deprecation\n        return event.which === getRTLSafeKeyCode(KeyCodes.right, theme);\n    }, [theme]);\n    var focusZoneProps = {\n        componentRef: focusZoneRef,\n        className: classNames.focusZone,\n        direction: FocusZoneDirection.vertical,\n        shouldEnterInnerZone: isRightArrow,\n        onActiveElementChanged: onActiveRowChanged,\n        shouldRaiseClicks: false,\n        onBlur: onBlur,\n    };\n    var list = groups ? (React.createElement(GroupedList, { focusZoneProps: focusZoneProps, componentRef: groupedListRef, groups: groups, groupProps: finalGroupProps, items: items, onRenderCell: onRenderCell, role: \"presentation\", selection: selection, selectionMode: checkboxVisibility !== CheckboxVisibility.hidden ? selectionMode : SelectionMode.none, dragDropEvents: dragDropEvents, dragDropHelper: dragDropHelper, eventsToRegister: rowElementEventMap, listProps: additionalListProps, onGroupExpandStateChanged: onGroupExpandStateChanged, usePageCache: usePageCache, onShouldVirtualize: onShouldVirtualize, getGroupHeight: getGroupHeight, compact: compact })) : (React.createElement(FocusZone, __assign({}, focusZoneProps),\n        React.createElement(List, __assign({ ref: listRef, role: \"presentation\", items: items, onRenderCell: onRenderListCell(0), usePageCache: usePageCache, onShouldVirtualize: onShouldVirtualize }, additionalListProps))));\n    var onHeaderKeyDown = React.useCallback(function (ev) {\n        // eslint-disable-next-line deprecation/deprecation\n        if (ev.which === KeyCodes.down) {\n            if (focusZoneRef.current && focusZoneRef.current.focus()) {\n                // select the first item in list after down arrow key event\n                // only if nothing was selected; otherwise start with the already-selected item\n                if (selection.getSelectedIndices().length === 0) {\n                    selection.setIndexSelected(0, true, false);\n                }\n                ev.preventDefault();\n                ev.stopPropagation();\n            }\n        }\n    }, [selection, focusZoneRef]);\n    var onContentKeyDown = React.useCallback(function (ev) {\n        // eslint-disable-next-line deprecation/deprecation\n        if (ev.which === KeyCodes.up && !ev.altKey) {\n            if (headerRef.current && headerRef.current.focus()) {\n                ev.preventDefault();\n                ev.stopPropagation();\n            }\n        }\n    }, [headerRef]);\n    return (\n    // If shouldApplyApplicationRole is true, role application will be applied to make arrow keys work\n    // with JAWS.\n    React.createElement(\"div\", __assign({ ref: rootRef, className: classNames.root, \"data-automationid\": \"DetailsList\", \"data-is-scrollable\": \"false\", \"aria-label\": ariaLabel }, (shouldApplyApplicationRole ? { role: 'application' } : {})),\n        React.createElement(FocusRects, null),\n        React.createElement(\"div\", { role: role, \"aria-label\": ariaLabelForGrid, \"aria-rowcount\": isPlaceholderData ? -1 : rowCount, \"aria-colcount\": colCount, \"aria-readonly\": \"true\", \"aria-busy\": isPlaceholderData },\n            React.createElement(\"div\", { onKeyDown: onHeaderKeyDown, role: \"presentation\", className: classNames.headerWrapper }, isHeaderVisible &&\n                onRenderDetailsHeader({\n                    componentRef: headerRef,\n                    selectionMode: selectionMode,\n                    layoutMode: layoutMode,\n                    selection: selection,\n                    columns: adjustedColumns,\n                    onColumnClick: onColumnHeaderClick,\n                    onColumnContextMenu: onColumnHeaderContextMenu,\n                    onColumnResized: onColumnResized,\n                    onColumnIsSizingChanged: onColumnIsSizingChanged,\n                    onColumnAutoResized: onColumnAutoResized,\n                    groupNestingDepth: groupNestingDepth,\n                    isAllCollapsed: isCollapsed,\n                    onToggleCollapseAll: onToggleCollapse,\n                    ariaLabel: ariaLabelForListHeader,\n                    ariaLabelForSelectAllCheckbox: ariaLabelForSelectAllCheckbox,\n                    ariaLabelForSelectionColumn: ariaLabelForSelectionColumn,\n                    selectAllVisibility: selectAllVisibility,\n                    collapseAllVisibility: groupProps && groupProps.collapseAllVisibility,\n                    viewport: viewport,\n                    columnReorderProps: columnReorderProps,\n                    minimumPixelsForDrag: minimumPixelsForDrag,\n                    cellStyleProps: cellStyleProps,\n                    checkboxVisibility: checkboxVisibility,\n                    indentWidth: indentWidth,\n                    onRenderDetailsCheckbox: onRenderCheckbox,\n                    rowWidth: sumColumnWidths(adjustedColumns),\n                    useFastIcons: useFastIcons,\n                }, onRenderDetailsHeader)),\n            React.createElement(\"div\", { onKeyDown: onContentKeyDown, role: \"presentation\", className: classNames.contentWrapper }, !disableSelectionZone ? (React.createElement(SelectionZone, __assign({ ref: selectionZoneRef, selection: selection, selectionPreservedOnEmptyClick: selectionPreservedOnEmptyClick, selectionMode: selectionMode, onItemInvoked: onItemInvoked, onItemContextMenu: onItemContextMenu, enterModalOnTouch: enterModalSelectionOnTouch }, (selectionZoneProps || {})), list)) : (list)),\n            onRenderDetailsFooter(__assign({}, detailsFooterProps)))));\n};\nvar DetailsListBase = /** @class */ (function (_super) {\n    __extends(DetailsListBase, _super);\n    function DetailsListBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._root = React.createRef();\n        _this._header = React.createRef();\n        _this._groupedList = React.createRef();\n        _this._list = React.createRef();\n        _this._focusZone = React.createRef();\n        _this._selectionZone = React.createRef();\n        _this._onRenderRow = function (props, defaultRender) {\n            return React.createElement(DetailsRow, __assign({}, props));\n        };\n        _this._getDerivedStateFromProps = function (nextProps, previousState) {\n            var _a = _this.props, checkboxVisibility = _a.checkboxVisibility, items = _a.items, setKey = _a.setKey, _b = _a.selectionMode, selectionMode = _b === void 0 ? _this._selection.mode : _b, columns = _a.columns, viewport = _a.viewport, compact = _a.compact, dragDropEvents = _a.dragDropEvents;\n            var _c = (_this.props.groupProps || {}).isAllGroupsCollapsed, isAllGroupsCollapsed = _c === void 0 ? undefined : _c;\n            var newViewportWidth = (nextProps.viewport && nextProps.viewport.width) || 0;\n            var oldViewportWidth = (viewport && viewport.width) || 0;\n            var shouldResetSelection = nextProps.setKey !== setKey || nextProps.setKey === undefined;\n            var shouldForceUpdates = false;\n            if (nextProps.layoutMode !== _this.props.layoutMode) {\n                shouldForceUpdates = true;\n            }\n            var nextState = previousState;\n            if (shouldResetSelection) {\n                _this._initialFocusedIndex = nextProps.initialFocusedIndex;\n                // reset focusedItemIndex when setKey changes\n                nextState = __assign(__assign({}, nextState), { focusedItemIndex: _this._initialFocusedIndex !== undefined ? _this._initialFocusedIndex : -1 });\n            }\n            if (!_this.props.disableSelectionZone && nextProps.items !== items) {\n                _this._selection.setItems(nextProps.items, shouldResetSelection);\n            }\n            if (nextProps.checkboxVisibility !== checkboxVisibility ||\n                nextProps.columns !== columns ||\n                newViewportWidth !== oldViewportWidth ||\n                nextProps.compact !== compact) {\n                shouldForceUpdates = true;\n            }\n            nextState = __assign(__assign({}, nextState), _this._adjustColumns(nextProps, nextState, true));\n            if (nextProps.selectionMode !== selectionMode) {\n                shouldForceUpdates = true;\n            }\n            if (isAllGroupsCollapsed === undefined &&\n                nextProps.groupProps &&\n                nextProps.groupProps.isAllGroupsCollapsed !== undefined) {\n                nextState = __assign(__assign({}, nextState), { isCollapsed: nextProps.groupProps.isAllGroupsCollapsed, isSomeGroupExpanded: !nextProps.groupProps.isAllGroupsCollapsed });\n            }\n            if (nextProps.dragDropEvents !== dragDropEvents) {\n                _this._dragDropHelper && _this._dragDropHelper.dispose();\n                _this._dragDropHelper = nextProps.dragDropEvents\n                    ? new DragDropHelper({\n                        selection: _this._selection,\n                        minimumPixelsForDrag: nextProps.minimumPixelsForDrag,\n                    })\n                    : undefined;\n                shouldForceUpdates = true;\n            }\n            if (shouldForceUpdates) {\n                nextState = __assign(__assign({}, nextState), { version: {} });\n            }\n            return nextState;\n        };\n        _this._onGroupExpandStateChanged = function (isSomeGroupExpanded) {\n            _this.setState({ isSomeGroupExpanded: isSomeGroupExpanded });\n        };\n        _this._onColumnIsSizingChanged = function (column, isSizing) {\n            _this.setState({ isSizing: isSizing });\n        };\n        _this._onRowDidMount = function (row) {\n            var _a = row.props, item = _a.item, itemIndex = _a.itemIndex;\n            var itemKey = _this._getItemKey(item, itemIndex);\n            _this._activeRows[itemKey] = row; // this is used for column auto resize\n            _this._setFocusToRowIfPending(row);\n            var onRowDidMount = _this.props.onRowDidMount;\n            if (onRowDidMount) {\n                onRowDidMount(item, itemIndex);\n            }\n        };\n        _this._onRowWillUnmount = function (row) {\n            var onRowWillUnmount = _this.props.onRowWillUnmount;\n            var _a = row.props, item = _a.item, itemIndex = _a.itemIndex;\n            var itemKey = _this._getItemKey(item, itemIndex);\n            delete _this._activeRows[itemKey];\n            if (onRowWillUnmount) {\n                onRowWillUnmount(item, itemIndex);\n            }\n        };\n        _this._onToggleCollapse = function (collapsed) {\n            _this.setState({\n                isCollapsed: collapsed,\n            });\n            if (_this._groupedList.current) {\n                _this._groupedList.current.toggleCollapseAll(collapsed);\n            }\n        };\n        _this._onColumnResized = function (resizingColumn, newWidth, resizingColumnIndex) {\n            var newCalculatedWidth = Math.max(resizingColumn.minWidth || MIN_COLUMN_WIDTH, newWidth);\n            if (_this.props.onColumnResize) {\n                _this.props.onColumnResize(resizingColumn, newCalculatedWidth, resizingColumnIndex);\n            }\n            _this._rememberCalculatedWidth(resizingColumn, newCalculatedWidth);\n            _this.setState(__assign(__assign({}, _this._adjustColumns(_this.props, _this.state, true, resizingColumnIndex)), { version: {} }));\n        };\n        /**\n         * Callback function when double clicked on the details header column resizer\n         * which will measure the column cells of all the active rows and resize the\n         * column to the max cell width.\n         *\n         * @param column - double clicked column definition\n         * @param columnIndex - double clicked column index\n         * TODO: min width 100 should be changed to const value and should be consistent with the\n         * value used on _onSizerMove method in DetailsHeader\n         */\n        _this._onColumnAutoResized = function (column, columnIndex) {\n            var max = 0;\n            var count = 0;\n            var totalCount = Object.keys(_this._activeRows).length;\n            for (var key in _this._activeRows) {\n                if (_this._activeRows.hasOwnProperty(key)) {\n                    var currentRow = _this._activeRows[key];\n                    currentRow.measureCell(columnIndex, function (width) {\n                        max = Math.max(max, width);\n                        count++;\n                        if (count === totalCount) {\n                            _this._onColumnResized(column, max, columnIndex);\n                        }\n                    });\n                }\n            }\n        };\n        /**\n         * Call back function when an element in FocusZone becomes active. It will translate it into item\n         * and call onActiveItemChanged callback if specified.\n         *\n         * @param row - element that became active in Focus Zone\n         * @param focus - event from Focus Zone\n         */\n        _this._onActiveRowChanged = function (el, ev) {\n            var _a = _this.props, items = _a.items, onActiveItemChanged = _a.onActiveItemChanged;\n            if (!el) {\n                return;\n            }\n            // Check and assign index only if the event was raised from any DetailsRow element\n            if (el.getAttribute('data-item-index')) {\n                var index = Number(el.getAttribute('data-item-index'));\n                if (index >= 0) {\n                    if (onActiveItemChanged) {\n                        onActiveItemChanged(items[index], index, ev);\n                    }\n                    _this.setState({\n                        focusedItemIndex: index,\n                    });\n                }\n            }\n        };\n        _this._onBlur = function (event) {\n            _this.setState({\n                focusedItemIndex: -1,\n            });\n        };\n        initializeComponentRef(_this);\n        _this._async = new Async(_this);\n        _this._activeRows = {};\n        _this._columnOverrides = {};\n        _this.state = {\n            focusedItemIndex: -1,\n            lastWidth: 0,\n            adjustedColumns: _this._getAdjustedColumns(props, undefined),\n            isSizing: false,\n            isCollapsed: props.groupProps && props.groupProps.isAllGroupsCollapsed,\n            isSomeGroupExpanded: props.groupProps && !props.groupProps.isAllGroupsCollapsed,\n            version: {},\n            getDerivedStateFromProps: _this._getDerivedStateFromProps,\n        };\n        _this._selection =\n            props.selection ||\n                new Selection({\n                    onSelectionChanged: undefined,\n                    getKey: props.getKey,\n                    selectionMode: props.selectionMode,\n                });\n        if (!_this.props.disableSelectionZone) {\n            _this._selection.setItems(props.items, false);\n        }\n        _this._dragDropHelper = props.dragDropEvents\n            ? new DragDropHelper({\n                selection: _this._selection,\n                minimumPixelsForDrag: props.minimumPixelsForDrag,\n            })\n            : undefined;\n        _this._initialFocusedIndex = props.initialFocusedIndex;\n        return _this;\n    }\n    DetailsListBase.getDerivedStateFromProps = function (nextProps, previousState) {\n        return previousState.getDerivedStateFromProps(nextProps, previousState);\n    };\n    DetailsListBase.prototype.scrollToIndex = function (index, measureItem, scrollToMode) {\n        this._list.current && this._list.current.scrollToIndex(index, measureItem, scrollToMode);\n        this._groupedList.current && this._groupedList.current.scrollToIndex(index, measureItem, scrollToMode);\n    };\n    DetailsListBase.prototype.focusIndex = function (index, forceIntoFirstElement, measureItem, scrollToMode) {\n        if (forceIntoFirstElement === void 0) { forceIntoFirstElement = false; }\n        var item = this.props.items[index];\n        if (item) {\n            this.scrollToIndex(index, measureItem, scrollToMode);\n            var itemKey = this._getItemKey(item, index);\n            var row = this._activeRows[itemKey];\n            if (row) {\n                this._setFocusToRow(row, forceIntoFirstElement);\n            }\n        }\n    };\n    DetailsListBase.prototype.getStartItemIndexInView = function () {\n        if (this._list && this._list.current) {\n            return this._list.current.getStartItemIndexInView();\n        }\n        else if (this._groupedList && this._groupedList.current) {\n            return this._groupedList.current.getStartItemIndexInView();\n        }\n        return 0;\n    };\n    DetailsListBase.prototype.componentWillUnmount = function () {\n        if (this._dragDropHelper) {\n            // TODO If the DragDropHelper was passed via props, this will dispose it, which is incorrect behavior.\n            this._dragDropHelper.dispose();\n        }\n        this._async.dispose();\n    };\n    DetailsListBase.prototype.componentDidUpdate = function (prevProps, prevState) {\n        this._notifyColumnsResized();\n        if (this._initialFocusedIndex !== undefined) {\n            var item = this.props.items[this._initialFocusedIndex];\n            if (item) {\n                var itemKey = this._getItemKey(item, this._initialFocusedIndex);\n                var row = this._activeRows[itemKey];\n                if (row) {\n                    this._setFocusToRowIfPending(row);\n                }\n            }\n        }\n        if (this.props.items !== prevProps.items &&\n            this.props.items.length > 0 &&\n            this.state.focusedItemIndex !== -1 &&\n            !elementContains(this._root.current, document.activeElement, false)) {\n            // Item set has changed and previously-focused item is gone.\n            // Set focus to item at index of previously-focused item if it is in range,\n            // else set focus to the last item.\n            var index = this.state.focusedItemIndex < this.props.items.length\n                ? this.state.focusedItemIndex\n                : this.props.items.length - 1;\n            var item = this.props.items[index];\n            var itemKey = this._getItemKey(item, this.state.focusedItemIndex);\n            var row = this._activeRows[itemKey];\n            if (row) {\n                this._setFocusToRow(row);\n            }\n            else {\n                this._initialFocusedIndex = index;\n            }\n        }\n        if (this.props.onDidUpdate) {\n            this.props.onDidUpdate(this);\n        }\n    };\n    DetailsListBase.prototype.render = function () {\n        return (React.createElement(DetailsListInner, __assign({}, this.props, this.state, { selection: this._selection, dragDropHelper: this._dragDropHelper, rootRef: this._root, listRef: this._list, groupedListRef: this._groupedList, focusZoneRef: this._focusZone, headerRef: this._header, selectionZoneRef: this._selectionZone, onGroupExpandStateChanged: this._onGroupExpandStateChanged, onColumnIsSizingChanged: this._onColumnIsSizingChanged, onRowDidMount: this._onRowDidMount, onRowWillUnmount: this._onRowWillUnmount, onColumnResized: this._onColumnResized, onColumnAutoResized: this._onColumnAutoResized, onToggleCollapse: this._onToggleCollapse, onActiveRowChanged: this._onActiveRowChanged, onBlur: this._onBlur, onRenderDefaultRow: this._onRenderRow })));\n    };\n    DetailsListBase.prototype.forceUpdate = function () {\n        _super.prototype.forceUpdate.call(this);\n        this._forceListUpdates();\n    };\n    DetailsListBase.prototype._getGroupNestingDepth = function () {\n        var groups = this.props.groups;\n        var level = 0;\n        var groupsInLevel = groups;\n        while (groupsInLevel && groupsInLevel.length > 0) {\n            level++;\n            groupsInLevel = groupsInLevel[0].children;\n        }\n        return level;\n    };\n    DetailsListBase.prototype._setFocusToRowIfPending = function (row) {\n        var itemIndex = row.props.itemIndex;\n        if (this._initialFocusedIndex !== undefined && itemIndex === this._initialFocusedIndex) {\n            this._setFocusToRow(row);\n            delete this._initialFocusedIndex;\n        }\n    };\n    DetailsListBase.prototype._setFocusToRow = function (row, forceIntoFirstElement) {\n        if (forceIntoFirstElement === void 0) { forceIntoFirstElement = false; }\n        if (this._selectionZone.current) {\n            this._selectionZone.current.ignoreNextFocus();\n        }\n        this._async.setTimeout(function () {\n            row.focus(forceIntoFirstElement);\n        }, 0);\n    };\n    DetailsListBase.prototype._forceListUpdates = function () {\n        if (this._groupedList.current) {\n            this._groupedList.current.forceUpdate();\n        }\n        if (this._list.current) {\n            this._list.current.forceUpdate();\n        }\n    };\n    DetailsListBase.prototype._notifyColumnsResized = function () {\n        this.state.adjustedColumns.forEach(function (column) {\n            if (column.onColumnResize) {\n                column.onColumnResize(column.currentWidth);\n            }\n        });\n    };\n    DetailsListBase.prototype._adjustColumns = function (newProps, previousState, forceUpdate, resizingColumnIndex) {\n        var adjustedColumns = this._getAdjustedColumns(newProps, previousState, forceUpdate, resizingColumnIndex);\n        var viewport = this.props.viewport;\n        var viewportWidth = viewport && viewport.width ? viewport.width : 0;\n        return __assign(__assign({}, previousState), { adjustedColumns: adjustedColumns, lastWidth: viewportWidth });\n    };\n    /** Returns adjusted columns, given the viewport size and layout mode. */\n    DetailsListBase.prototype._getAdjustedColumns = function (newProps, previousState, forceUpdate, resizingColumnIndex) {\n        var _this = this;\n        var newItems = newProps.items, layoutMode = newProps.layoutMode, selectionMode = newProps.selectionMode, viewport = newProps.viewport;\n        var viewportWidth = viewport && viewport.width ? viewport.width : 0;\n        var newColumns = newProps.columns;\n        var columns = this.props ? this.props.columns : [];\n        var lastWidth = previousState ? previousState.lastWidth : -1;\n        var lastSelectionMode = previousState ? previousState.lastSelectionMode : undefined;\n        if (!forceUpdate &&\n            lastWidth === viewportWidth &&\n            lastSelectionMode === selectionMode &&\n            (!columns || newColumns === columns)) {\n            return newColumns || [];\n        }\n        newColumns = newColumns || buildColumns(newItems, true);\n        var adjustedColumns;\n        if (layoutMode === DetailsListLayoutMode.fixedColumns) {\n            adjustedColumns = this._getFixedColumns(newColumns, viewportWidth, newProps);\n            // Preserve adjusted column calculated widths.\n            adjustedColumns.forEach(function (column) {\n                _this._rememberCalculatedWidth(column, column.calculatedWidth);\n            });\n        }\n        else {\n            if (resizingColumnIndex !== undefined) {\n                adjustedColumns = this._getJustifiedColumnsAfterResize(newColumns, viewportWidth, newProps, resizingColumnIndex);\n            }\n            else {\n                adjustedColumns = this._getJustifiedColumns(newColumns, viewportWidth, newProps, 0);\n            }\n            adjustedColumns.forEach(function (column) {\n                _this._getColumnOverride(column.key).currentWidth = column.calculatedWidth;\n            });\n        }\n        return adjustedColumns;\n    };\n    /** Builds a set of columns based on the given columns mixed with the current overrides. */\n    DetailsListBase.prototype._getFixedColumns = function (newColumns, viewportWidth, props) {\n        var _this = this;\n        var _a = this.props, _b = _a.selectionMode, selectionMode = _b === void 0 ? this._selection.mode : _b, checkboxVisibility = _a.checkboxVisibility, flexMargin = _a.flexMargin, skipViewportMeasures = _a.skipViewportMeasures;\n        var remainingWidth = viewportWidth - (flexMargin || 0);\n        var sumProportionalWidth = 0;\n        newColumns.forEach(function (col) {\n            if (skipViewportMeasures || !col.flexGrow) {\n                remainingWidth -= col.maxWidth || col.minWidth || MIN_COLUMN_WIDTH;\n            }\n            else {\n                remainingWidth -= col.minWidth || MIN_COLUMN_WIDTH;\n                sumProportionalWidth += col.flexGrow;\n            }\n            remainingWidth -= getPaddedWidth(col, props, true);\n        });\n        var rowCheckWidth = selectionMode !== SelectionMode.none && checkboxVisibility !== CheckboxVisibility.hidden ? CHECKBOX_WIDTH : 0;\n        var groupExpandWidth = this._getGroupNestingDepth() * GROUP_EXPAND_WIDTH;\n        remainingWidth -= rowCheckWidth + groupExpandWidth;\n        var widthFraction = remainingWidth / sumProportionalWidth;\n        // Shrinks proportional columns to their max width and adds the remaining width to distribute to other columns.\n        if (!skipViewportMeasures) {\n            newColumns.forEach(function (column) {\n                var newColumn = __assign(__assign({}, column), _this._columnOverrides[column.key]);\n                if (newColumn.flexGrow && newColumn.maxWidth) {\n                    var fullWidth = newColumn.flexGrow * widthFraction + newColumn.minWidth;\n                    var shrinkWidth = fullWidth - newColumn.maxWidth;\n                    if (shrinkWidth > 0) {\n                        remainingWidth += shrinkWidth;\n                        sumProportionalWidth -= (shrinkWidth / (fullWidth - newColumn.minWidth)) * newColumn.flexGrow;\n                    }\n                }\n            });\n        }\n        widthFraction = remainingWidth > 0 ? remainingWidth / sumProportionalWidth : 0;\n        return newColumns.map(function (column) {\n            var newColumn = __assign(__assign({}, column), _this._columnOverrides[column.key]);\n            // Delay computation until viewport width is available.\n            if (!skipViewportMeasures && newColumn.flexGrow && remainingWidth <= 0) {\n                return newColumn;\n            }\n            if (!newColumn.calculatedWidth) {\n                if (!skipViewportMeasures && newColumn.flexGrow) {\n                    // Assigns the proportion of the remaining extra width after all columns have met minimum widths.\n                    newColumn.calculatedWidth = newColumn.minWidth + newColumn.flexGrow * widthFraction;\n                    newColumn.calculatedWidth = Math.min(newColumn.calculatedWidth, newColumn.maxWidth || Number.MAX_VALUE);\n                }\n                else {\n                    newColumn.calculatedWidth = newColumn.maxWidth || newColumn.minWidth || MIN_COLUMN_WIDTH;\n                }\n            }\n            return newColumn;\n        });\n    };\n    DetailsListBase.prototype._getJustifiedColumnsAfterResize = function (newColumns, viewportWidth, props, resizingColumnIndex) {\n        var _this = this;\n        var fixedColumns = newColumns.slice(0, resizingColumnIndex);\n        fixedColumns.forEach(function (column) { return (column.calculatedWidth = _this._getColumnOverride(column.key).currentWidth); });\n        var fixedWidth = fixedColumns.reduce(function (total, column, i) { return total + getPaddedWidth(column, props); }, 0);\n        var remainingColumns = newColumns.slice(resizingColumnIndex);\n        var remainingWidth = viewportWidth - fixedWidth;\n        return __spreadArrays(fixedColumns, this._getJustifiedColumns(remainingColumns, remainingWidth, props, resizingColumnIndex));\n    };\n    /** Builds a set of columns to fix within the viewport width. */\n    DetailsListBase.prototype._getJustifiedColumns = function (newColumns, viewportWidth, props, firstIndex) {\n        var _this = this;\n        var _a = props.selectionMode, selectionMode = _a === void 0 ? this._selection.mode : _a, checkboxVisibility = props.checkboxVisibility;\n        var rowCheckWidth = selectionMode !== SelectionMode.none && checkboxVisibility !== CheckboxVisibility.hidden ? CHECKBOX_WIDTH : 0;\n        var groupExpandWidth = this._getGroupNestingDepth() * GROUP_EXPAND_WIDTH;\n        var totalWidth = 0; // offset because we have one less inner padding.\n        var availableWidth = viewportWidth - (rowCheckWidth + groupExpandWidth);\n        var adjustedColumns = newColumns.map(function (column, i) {\n            var newColumn = __assign(__assign(__assign({}, column), { calculatedWidth: column.minWidth || MIN_COLUMN_WIDTH }), _this._columnOverrides[column.key]);\n            totalWidth += getPaddedWidth(newColumn, props);\n            return newColumn;\n        });\n        var lastIndex = adjustedColumns.length - 1;\n        // Shrink or remove collapsable columns.\n        while (lastIndex > 0 && totalWidth > availableWidth) {\n            var column = adjustedColumns[lastIndex];\n            var minWidth = column.minWidth || MIN_COLUMN_WIDTH;\n            var overflowWidth = totalWidth - availableWidth;\n            // eslint-disable-next-line deprecation/deprecation\n            if (column.calculatedWidth - minWidth >= overflowWidth || !(column.isCollapsible || column.isCollapsable)) {\n                var originalWidth = column.calculatedWidth;\n                column.calculatedWidth = Math.max(column.calculatedWidth - overflowWidth, minWidth);\n                totalWidth -= originalWidth - column.calculatedWidth;\n            }\n            else {\n                totalWidth -= getPaddedWidth(column, props);\n                adjustedColumns.splice(lastIndex, 1);\n            }\n            lastIndex--;\n        }\n        // Then expand columns starting at the beginning, until we've filled the width.\n        for (var i = 0; i < adjustedColumns.length && totalWidth < availableWidth; i++) {\n            var column = adjustedColumns[i];\n            var isLast = i === adjustedColumns.length - 1;\n            var overrides = this._columnOverrides[column.key];\n            if (overrides && overrides.calculatedWidth && !isLast) {\n                continue;\n            }\n            var spaceLeft = availableWidth - totalWidth;\n            var increment = void 0;\n            if (isLast) {\n                increment = spaceLeft;\n            }\n            else {\n                var maxWidth = column.maxWidth;\n                var minWidth = column.minWidth || maxWidth || MIN_COLUMN_WIDTH;\n                increment = maxWidth ? Math.min(spaceLeft, maxWidth - minWidth) : spaceLeft;\n            }\n            column.calculatedWidth = column.calculatedWidth + increment;\n            totalWidth += increment;\n        }\n        return adjustedColumns;\n    };\n    DetailsListBase.prototype._rememberCalculatedWidth = function (column, newCalculatedWidth) {\n        var overrides = this._getColumnOverride(column.key);\n        overrides.calculatedWidth = newCalculatedWidth;\n        overrides.currentWidth = newCalculatedWidth;\n    };\n    DetailsListBase.prototype._getColumnOverride = function (key) {\n        return (this._columnOverrides[key] = this._columnOverrides[key] || {});\n    };\n    DetailsListBase.prototype._getItemKey = function (item, itemIndex) {\n        var getKey = this.props.getKey;\n        var itemKey = undefined;\n        if (item) {\n            itemKey = item.key;\n        }\n        if (getKey) {\n            itemKey = getKey(item, itemIndex);\n        }\n        if (!itemKey) {\n            itemKey = itemIndex;\n        }\n        return itemKey;\n    };\n    DetailsListBase.defaultProps = {\n        layoutMode: DetailsListLayoutMode.justified,\n        selectionMode: SelectionMode.multiple,\n        constrainMode: ConstrainMode.horizontalConstrained,\n        checkboxVisibility: CheckboxVisibility.onHover,\n        isHeaderVisible: true,\n        compact: false,\n        useFastIcons: true,\n    };\n    DetailsListBase = __decorate([\n        withViewport\n    ], DetailsListBase);\n    return DetailsListBase;\n}(React.Component));\nexport { DetailsListBase };\nexport function buildColumns(items, canResizeColumns, onColumnClick, sortedColumnKey, isSortedDescending, groupedColumnKey, isMultiline) {\n    var columns = [];\n    if (items && items.length) {\n        var firstItem = items[0];\n        for (var propName in firstItem) {\n            if (firstItem.hasOwnProperty(propName)) {\n                columns.push({\n                    key: propName,\n                    name: propName,\n                    fieldName: propName,\n                    minWidth: MIN_COLUMN_WIDTH,\n                    maxWidth: 300,\n                    isCollapsable: !!columns.length,\n                    isCollapsible: !!columns.length,\n                    isMultiline: isMultiline === undefined ? false : isMultiline,\n                    isSorted: sortedColumnKey === propName,\n                    isSortedDescending: !!isSortedDescending,\n                    isRowHeader: false,\n                    columnActionsMode: ColumnActionsMode.clickable,\n                    isResizable: canResizeColumns,\n                    onColumnClick: onColumnClick,\n                    isGrouped: groupedColumnKey === propName,\n                });\n            }\n        }\n    }\n    return columns;\n}\nfunction getPaddedWidth(column, props, paddingOnly) {\n    var _a = props.cellStyleProps, cellStyleProps = _a === void 0 ? DEFAULT_CELL_STYLE_PROPS : _a;\n    return ((paddingOnly ? 0 : column.calculatedWidth) +\n        cellStyleProps.cellLeftPadding +\n        cellStyleProps.cellRightPadding +\n        (column.isPadded ? cellStyleProps.cellExtraRightPadding : 0));\n}\nfunction getGroupNestingDepth(groups) {\n    var level = 0;\n    var groupsInLevel = groups;\n    while (groupsInLevel && groupsInLevel.length > 0) {\n        level++;\n        groupsInLevel = groupsInLevel[0].children;\n    }\n    return level;\n}\nfunction useGroupedDetailsListIndexMap(groups) {\n    return React.useMemo(function () {\n        var indexMap = {};\n        if (groups) {\n            var rowCount = 1;\n            var numGroupHeaders = 1;\n            for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n                var group = groups_1[_i];\n                var key = group.key;\n                indexMap[key] = { numOfGroupHeadersBeforeItem: numGroupHeaders, totalRowCount: rowCount };\n                numGroupHeaders++;\n                rowCount += group.count + 1;\n            }\n        }\n        return indexMap;\n    }, [groups]);\n}\n//# sourceMappingURL=DetailsList.base.js.map","import { getGlobalClassNames } from '../../Styling';\nvar GlobalClassNames = {\n    root: 'ms-DetailsList',\n    compact: 'ms-DetailsList--Compact',\n    contentWrapper: 'ms-DetailsList-contentWrapper',\n    headerWrapper: 'ms-DetailsList-headerWrapper',\n    isFixed: 'is-fixed',\n    isHorizontalConstrained: 'is-horizontalConstrained',\n    listCell: 'ms-List-cell',\n};\nexport var getStyles = function (props) {\n    var _a, _b;\n    var theme = props.theme, className = props.className, isHorizontalConstrained = props.isHorizontalConstrained, compact = props.compact, isFixed = props.isFixed;\n    var semanticColors = theme.semanticColors;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [\n            classNames.root,\n            theme.fonts.small,\n            {\n                position: 'relative',\n                color: semanticColors.listText,\n                selectors: (_a = {},\n                    _a[\"& .\" + classNames.listCell] = {\n                        minHeight: 38,\n                        wordBreak: 'break-word',\n                    },\n                    _a),\n            },\n            isFixed && classNames.isFixed,\n            compact && [\n                classNames.compact,\n                {\n                    selectors: (_b = {},\n                        _b[\".\" + classNames.listCell] = {\n                            minHeight: 32,\n                        },\n                        _b),\n                },\n            ],\n            isHorizontalConstrained && [\n                classNames.isHorizontalConstrained,\n                {\n                    overflowX: 'auto',\n                    overflowY: 'visible',\n                    WebkitOverflowScrolling: 'touch',\n                },\n            ],\n            className,\n        ],\n        focusZone: [\n            {\n                display: 'inline-block',\n                minWidth: '100%',\n                minHeight: 1,\n            },\n        ],\n        headerWrapper: classNames.headerWrapper,\n        contentWrapper: classNames.contentWrapper,\n    };\n};\n//# sourceMappingURL=DetailsList.styles.js.map","import { styled } from '../../Utilities';\nimport { DetailsListBase } from './DetailsList.base';\nimport { getStyles } from './DetailsList.styles';\nexport var DetailsList = styled(DetailsListBase, getStyles, undefined, {\n    scope: 'DetailsList',\n});\n//# sourceMappingURL=DetailsList.js.map","/**\n * Enum to describe how a particular column header behaves.\n * This is used to to specify the property `IColumn.columnActionsMode`.\n * If `IColumn.columnActionsMode` is undefined, it's equivalent to `ColumnActionsMode.clickable`.\n * {@docCategory DetailsList}\n */\nexport var ColumnActionsMode;\n(function (ColumnActionsMode) {\n    /** Renders the column header as disabled. */\n    ColumnActionsMode[ColumnActionsMode[\"disabled\"] = 0] = \"disabled\";\n    /** Renders the column header as clickable. Default value. */\n    ColumnActionsMode[ColumnActionsMode[\"clickable\"] = 1] = \"clickable\";\n    /** Renders the column header as clickable and displays the dropdown chevron. */\n    ColumnActionsMode[ColumnActionsMode[\"hasDropdown\"] = 2] = \"hasDropdown\";\n})(ColumnActionsMode || (ColumnActionsMode = {}));\n/**\n * {@docCategory DetailsList}\n */\nexport var ConstrainMode;\n(function (ConstrainMode) {\n    /** Lets the content grow which allows the page to manage scrolling. */\n    ConstrainMode[ConstrainMode[\"unconstrained\"] = 0] = \"unconstrained\";\n    /** Constrains the list to the given layout space. */\n    ConstrainMode[ConstrainMode[\"horizontalConstrained\"] = 1] = \"horizontalConstrained\";\n})(ConstrainMode || (ConstrainMode = {}));\n/**\n * Enum to describe where the column has been dropped, after starting the drag\n * {@docCategory DetailsList}\n */\nexport var ColumnDragEndLocation;\n(function (ColumnDragEndLocation) {\n    /** Drag ended outside of current list */\n    ColumnDragEndLocation[ColumnDragEndLocation[\"outside\"] = 0] = \"outside\";\n    /** Drag ended within current list */\n    ColumnDragEndLocation[ColumnDragEndLocation[\"surface\"] = 1] = \"surface\";\n    /** Drag ended on header */\n    ColumnDragEndLocation[ColumnDragEndLocation[\"header\"] = 2] = \"header\";\n})(ColumnDragEndLocation || (ColumnDragEndLocation = {}));\n/**\n * {@docCategory DetailsList}\n */\nexport var DetailsListLayoutMode;\n(function (DetailsListLayoutMode) {\n    /**\n     * Lets the user resize columns and makes not attempt to fit them.\n     */\n    DetailsListLayoutMode[DetailsListLayoutMode[\"fixedColumns\"] = 0] = \"fixedColumns\";\n    /**\n     * Manages which columns are visible, tries to size them according to their min/max rules and drops\n     * off columns that can't fit and have isCollapsible set.\n     */\n    DetailsListLayoutMode[DetailsListLayoutMode[\"justified\"] = 1] = \"justified\";\n})(DetailsListLayoutMode || (DetailsListLayoutMode = {}));\n/**\n * {@docCategory DetailsList}\n */\nexport var CheckboxVisibility;\n(function (CheckboxVisibility) {\n    /** Visible on hover. */\n    CheckboxVisibility[CheckboxVisibility[\"onHover\"] = 0] = \"onHover\";\n    /** Visible always. */\n    CheckboxVisibility[CheckboxVisibility[\"always\"] = 1] = \"always\";\n    /** Hide checkboxes. */\n    CheckboxVisibility[CheckboxVisibility[\"hidden\"] = 2] = \"hidden\";\n})(CheckboxVisibility || (CheckboxVisibility = {}));\n//# sourceMappingURL=DetailsList.types.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, EventGroup, css, shallowCompare, getNativeProps, divProperties, } from '../../Utilities';\nimport { CheckboxVisibility } from './DetailsList.types';\nimport { DetailsRowCheck } from './DetailsRowCheck';\nimport { GroupSpacer } from '../GroupedList/GroupSpacer';\nimport { DetailsRowFields } from './DetailsRowFields';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { SelectionMode, SELECTION_CHANGE } from '../../Selection';\nimport { CollapseAllVisibility } from '../../GroupedList';\nimport { classNamesFunction } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nvar DEFAULT_DROPPING_CSS_CLASS = 'is-dropping';\nvar NO_COLUMNS = [];\nvar DetailsRowBase = /** @class */ (function (_super) {\n    __extends(DetailsRowBase, _super);\n    function DetailsRowBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._root = React.createRef();\n        _this._cellMeasurer = React.createRef();\n        _this._focusZone = React.createRef();\n        _this._onSelectionChanged = function () {\n            var selectionState = getSelectionState(_this.props);\n            if (!shallowCompare(selectionState, _this.state.selectionState)) {\n                _this.setState({\n                    selectionState: selectionState,\n                });\n            }\n        };\n        /**\n         * update isDropping state based on the input value, which is used to change style during drag and drop\n         *\n         * when change to true, that means drag enter. we will add default dropping class name\n         * or the custom dropping class name (return result from onDragEnter) to the root elemet.\n         *\n         * when change to false, that means drag leave. we will remove the dropping class name from root element.\n         *\n         * @param newValue - New isDropping state value\n         * @param event - The event trigger dropping state change which can be dragenter, dragleave etc\n         */\n        _this._updateDroppingState = function (newValue, event) {\n            var isDropping = _this.state.isDropping;\n            var _a = _this.props, dragDropEvents = _a.dragDropEvents, item = _a.item;\n            if (!newValue) {\n                if (dragDropEvents.onDragLeave) {\n                    dragDropEvents.onDragLeave(item, event);\n                }\n            }\n            else if (dragDropEvents.onDragEnter) {\n                _this._droppingClassNames = dragDropEvents.onDragEnter(item, event);\n            }\n            if (isDropping !== newValue) {\n                _this.setState({ isDropping: newValue });\n            }\n        };\n        initializeComponentRef(_this);\n        _this._events = new EventGroup(_this);\n        _this.state = {\n            selectionState: getSelectionState(props),\n            columnMeasureInfo: undefined,\n            isDropping: false,\n        };\n        _this._droppingClassNames = '';\n        return _this;\n    }\n    DetailsRowBase.getDerivedStateFromProps = function (nextProps, previousState) {\n        return __assign(__assign({}, previousState), { selectionState: getSelectionState(nextProps) });\n    };\n    DetailsRowBase.prototype.componentDidMount = function () {\n        var _a = this.props, dragDropHelper = _a.dragDropHelper, selection = _a.selection, item = _a.item, onDidMount = _a.onDidMount;\n        if (dragDropHelper && this._root.current) {\n            this._dragDropSubscription = dragDropHelper.subscribe(this._root.current, this._events, this._getRowDragDropOptions());\n        }\n        if (selection) {\n            this._events.on(selection, SELECTION_CHANGE, this._onSelectionChanged);\n        }\n        if (onDidMount && item) {\n            // If the item appears later, we should wait for it before calling this method.\n            this._onDidMountCalled = true;\n            onDidMount(this);\n        }\n    };\n    DetailsRowBase.prototype.componentDidUpdate = function (previousProps) {\n        var state = this.state;\n        var _a = this.props, item = _a.item, onDidMount = _a.onDidMount;\n        var columnMeasureInfo = state.columnMeasureInfo;\n        if (this.props.itemIndex !== previousProps.itemIndex ||\n            this.props.item !== previousProps.item ||\n            this.props.dragDropHelper !== previousProps.dragDropHelper) {\n            if (this._dragDropSubscription) {\n                this._dragDropSubscription.dispose();\n                delete this._dragDropSubscription;\n            }\n            if (this.props.dragDropHelper && this._root.current) {\n                this._dragDropSubscription = this.props.dragDropHelper.subscribe(this._root.current, this._events, this._getRowDragDropOptions());\n            }\n        }\n        if (columnMeasureInfo && columnMeasureInfo.index >= 0 && this._cellMeasurer.current) {\n            var newWidth = this._cellMeasurer.current.getBoundingClientRect().width;\n            columnMeasureInfo.onMeasureDone(newWidth);\n            this.setState({\n                columnMeasureInfo: undefined,\n            });\n        }\n        if (item && onDidMount && !this._onDidMountCalled) {\n            this._onDidMountCalled = true;\n            onDidMount(this);\n        }\n    };\n    DetailsRowBase.prototype.componentWillUnmount = function () {\n        var _a = this.props, item = _a.item, onWillUnmount = _a.onWillUnmount;\n        // Only call the onWillUnmount callback if we have an item.\n        if (onWillUnmount && item) {\n            onWillUnmount(this);\n        }\n        if (this._dragDropSubscription) {\n            this._dragDropSubscription.dispose();\n            delete this._dragDropSubscription;\n        }\n        this._events.dispose();\n    };\n    DetailsRowBase.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.props.useReducedRowRenderer) {\n            var newSelectionState = getSelectionState(nextProps);\n            if (this.state.selectionState.isSelected !== newSelectionState.isSelected) {\n                return true;\n            }\n            return !shallowCompare(this.props, nextProps);\n        }\n        else {\n            return true;\n        }\n    };\n    DetailsRowBase.prototype.render = function () {\n        var _a = this.props, className = _a.className, _b = _a.columns, columns = _b === void 0 ? NO_COLUMNS : _b, dragDropEvents = _a.dragDropEvents, item = _a.item, itemIndex = _a.itemIndex, id = _a.id, _c = _a.flatIndexOffset, flatIndexOffset = _c === void 0 ? 2 : _c, _d = _a.onRenderCheck, onRenderCheck = _d === void 0 ? this._onRenderCheck : _d, onRenderDetailsCheckbox = _a.onRenderDetailsCheckbox, onRenderItemColumn = _a.onRenderItemColumn, getCellValueKey = _a.getCellValueKey, selectionMode = _a.selectionMode, _e = _a.rowWidth, rowWidth = _e === void 0 ? 0 : _e, checkboxVisibility = _a.checkboxVisibility, getRowAriaLabel = _a.getRowAriaLabel, getRowAriaDescribedBy = _a.getRowAriaDescribedBy, checkButtonAriaLabel = _a.checkButtonAriaLabel, checkboxCellClassName = _a.checkboxCellClassName, \n        /** Alias rowFieldsAs as RowFields and default to DetailsRowFields if rowFieldsAs does not exist */\n        _f = _a.rowFieldsAs, \n        /** Alias rowFieldsAs as RowFields and default to DetailsRowFields if rowFieldsAs does not exist */\n        RowFields = _f === void 0 ? DetailsRowFields : _f, selection = _a.selection, indentWidth = _a.indentWidth, enableUpdateAnimations = _a.enableUpdateAnimations, compact = _a.compact, theme = _a.theme, styles = _a.styles, cellsByColumn = _a.cellsByColumn, groupNestingDepth = _a.groupNestingDepth, _g = _a.useFastIcons, useFastIcons = _g === void 0 ? true : _g, cellStyleProps = _a.cellStyleProps, group = _a.group;\n        var _h = this.state, columnMeasureInfo = _h.columnMeasureInfo, isDropping = _h.isDropping;\n        var _j = this.state.selectionState, _k = _j.isSelected, isSelected = _k === void 0 ? false : _k, _l = _j.isSelectionModal, isSelectionModal = _l === void 0 ? false : _l;\n        var isDraggable = dragDropEvents ? !!(dragDropEvents.canDrag && dragDropEvents.canDrag(item)) : undefined;\n        var droppingClassName = isDropping ? this._droppingClassNames || DEFAULT_DROPPING_CSS_CLASS : '';\n        var ariaLabel = getRowAriaLabel ? getRowAriaLabel(item) : undefined;\n        var ariaDescribedBy = getRowAriaDescribedBy ? getRowAriaDescribedBy(item) : undefined;\n        var canSelect = !!selection && selection.canSelectItem(item, itemIndex);\n        var isContentUnselectable = selectionMode === SelectionMode.multiple;\n        var showCheckbox = selectionMode !== SelectionMode.none && checkboxVisibility !== CheckboxVisibility.hidden;\n        var ariaSelected = selectionMode === SelectionMode.none ? undefined : isSelected;\n        var ariaPositionInSet = group ? itemIndex - group.startIndex + 1 : undefined;\n        var ariaSetSize = group ? group.count : undefined;\n        this._classNames = __assign(__assign({}, this._classNames), getClassNames(styles, {\n            theme: theme,\n            isSelected: isSelected,\n            canSelect: !isContentUnselectable,\n            anySelected: isSelectionModal,\n            checkboxCellClassName: checkboxCellClassName,\n            droppingClassName: droppingClassName,\n            className: className,\n            compact: compact,\n            enableUpdateAnimations: enableUpdateAnimations,\n            cellStyleProps: cellStyleProps,\n        }));\n        var rowClassNames = {\n            isMultiline: this._classNames.isMultiline,\n            isRowHeader: this._classNames.isRowHeader,\n            cell: this._classNames.cell,\n            cellAnimation: this._classNames.cellAnimation,\n            cellPadded: this._classNames.cellPadded,\n            cellUnpadded: this._classNames.cellUnpadded,\n            fields: this._classNames.fields,\n        };\n        // Only re-assign rowClassNames when classNames have changed.\n        // Otherwise, they will cause DetailsRowFields to unnecessarily\n        // re-render, see https://github.com/microsoft/fluentui/pull/8799.\n        // Refactor DetailsRowFields to generate own styles to remove need for this.\n        if (!shallowCompare(this._rowClassNames || {}, rowClassNames)) {\n            this._rowClassNames = rowClassNames;\n        }\n        var rowFields = (React.createElement(RowFields, { rowClassNames: this._rowClassNames, rowHeaderId: id + \"-header\", cellsByColumn: cellsByColumn, columns: columns, item: item, itemIndex: itemIndex, columnStartIndex: (showCheckbox ? 1 : 0) + (groupNestingDepth ? 1 : 0), onRenderItemColumn: onRenderItemColumn, getCellValueKey: getCellValueKey, enableUpdateAnimations: enableUpdateAnimations, cellStyleProps: cellStyleProps }));\n        var defaultRole = 'row';\n        var role = this.props.role ? this.props.role : defaultRole;\n        return (React.createElement(FocusZone, __assign({ \"data-is-focusable\": true }, getNativeProps(this.props, divProperties), (typeof isDraggable === 'boolean'\n            ? {\n                'data-is-draggable': isDraggable,\n                draggable: isDraggable,\n            }\n            : {}), { direction: FocusZoneDirection.horizontal, elementRef: this._root, componentRef: this._focusZone, role: role, \"aria-label\": ariaLabel, \"aria-describedby\": ariaDescribedBy, className: this._classNames.root, \"data-selection-index\": itemIndex, \"data-selection-touch-invoke\": true, \"data-item-index\": itemIndex, \"aria-rowindex\": ariaPositionInSet === undefined ? itemIndex + flatIndexOffset : undefined, \"aria-level\": (groupNestingDepth && groupNestingDepth + 1) || undefined, \"aria-posinset\": ariaPositionInSet, \"aria-setsize\": ariaSetSize, \"data-automationid\": \"DetailsRow\", style: { minWidth: rowWidth }, \"aria-selected\": ariaSelected, allowFocusRoot: true }),\n            showCheckbox && (React.createElement(\"div\", { role: \"gridcell\", \"aria-colindex\": 1, \"data-selection-toggle\": true, className: this._classNames.checkCell }, onRenderCheck({\n                id: id ? id + \"-checkbox\" : undefined,\n                selected: isSelected,\n                anySelected: isSelectionModal,\n                'aria-label': checkButtonAriaLabel,\n                'aria-labelledby': id ? id + \"-checkbox \" + id + \"-header\" : undefined,\n                canSelect: canSelect,\n                compact: compact,\n                className: this._classNames.check,\n                theme: theme,\n                isVisible: checkboxVisibility === CheckboxVisibility.always,\n                onRenderDetailsCheckbox: onRenderDetailsCheckbox,\n                useFastIcons: useFastIcons,\n            }))),\n            React.createElement(GroupSpacer, { indentWidth: indentWidth, role: \"gridcell\", count: groupNestingDepth - (this.props.collapseAllVisibility === CollapseAllVisibility.hidden ? 1 : 0) }),\n            item && rowFields,\n            columnMeasureInfo && (React.createElement(\"span\", { role: \"presentation\", className: css(this._classNames.cellMeasurer, this._classNames.cell), ref: this._cellMeasurer },\n                React.createElement(RowFields, { rowClassNames: this._rowClassNames, rowHeaderId: id + \"-header\", columns: [columnMeasureInfo.column], item: item, itemIndex: itemIndex, columnStartIndex: (showCheckbox ? 1 : 0) + (groupNestingDepth ? 1 : 0) + columns.length, onRenderItemColumn: onRenderItemColumn, getCellValueKey: getCellValueKey }))),\n            React.createElement(\"span\", { role: \"checkbox\", className: this._classNames.checkCover, \"aria-checked\": isSelected, \"data-selection-toggle\": true })));\n    };\n    /**\n     * measure cell at index. and call the call back with the measured cell width when finish measure\n     *\n     * @param index - The cell index\n     * @param onMeasureDone - The call back function when finish measure\n     */\n    DetailsRowBase.prototype.measureCell = function (index, onMeasureDone) {\n        var _a = this.props.columns, columns = _a === void 0 ? NO_COLUMNS : _a;\n        var column = __assign({}, columns[index]);\n        column.minWidth = 0;\n        column.maxWidth = 999999;\n        delete column.calculatedWidth;\n        this.setState({\n            columnMeasureInfo: {\n                index: index,\n                column: column,\n                onMeasureDone: onMeasureDone,\n            },\n        });\n    };\n    DetailsRowBase.prototype.focus = function (forceIntoFirstElement) {\n        var _a;\n        if (forceIntoFirstElement === void 0) { forceIntoFirstElement = false; }\n        return !!((_a = this._focusZone.current) === null || _a === void 0 ? void 0 : _a.focus(forceIntoFirstElement));\n    };\n    DetailsRowBase.prototype._onRenderCheck = function (props) {\n        return React.createElement(DetailsRowCheck, __assign({}, props));\n    };\n    DetailsRowBase.prototype._getRowDragDropOptions = function () {\n        var _a = this.props, item = _a.item, itemIndex = _a.itemIndex, dragDropEvents = _a.dragDropEvents, eventsToRegister = _a.eventsToRegister;\n        var options = {\n            eventMap: eventsToRegister,\n            selectionIndex: itemIndex,\n            context: { data: item, index: itemIndex },\n            canDrag: dragDropEvents.canDrag,\n            canDrop: dragDropEvents.canDrop,\n            onDragStart: dragDropEvents.onDragStart,\n            updateDropState: this._updateDroppingState,\n            onDrop: dragDropEvents.onDrop,\n            onDragEnd: dragDropEvents.onDragEnd,\n            onDragOver: dragDropEvents.onDragOver,\n        };\n        return options;\n    };\n    return DetailsRowBase;\n}(React.Component));\nexport { DetailsRowBase };\nfunction getSelectionState(props) {\n    var _a;\n    var itemIndex = props.itemIndex, selection = props.selection;\n    return {\n        isSelected: !!(selection === null || selection === void 0 ? void 0 : selection.isIndexSelected(itemIndex)),\n        isSelectionModal: !!((_a = selection === null || selection === void 0 ? void 0 : selection.isModal) === null || _a === void 0 ? void 0 : _a.call(selection)),\n    };\n}\n//# sourceMappingURL=DetailsRow.base.js.map","import { styled } from '../../Utilities';\nimport { DetailsRowBase } from './DetailsRow.base';\nimport { getDetailsRowStyles } from './DetailsRow.styles';\nexport var DetailsRow = styled(DetailsRowBase, getDetailsRowStyles, undefined, {\n    scope: 'DetailsRow',\n});\n//# sourceMappingURL=DetailsRow.js.map","import { __assign } from \"tslib\";\nimport { AnimationClassNames, AnimationStyles, HighContrastSelector, getFocusStyle, getGlobalClassNames, FontWeights, getHighContrastNoAdjustStyle, } from '../../Styling';\nimport { IsFocusVisibleClassName } from '../../Utilities';\nexport var DetailsRowGlobalClassNames = {\n    root: 'ms-DetailsRow',\n    // TODO: in Fabric 7.0 lowercase the 'Compact' for consistency across other components.\n    compact: 'ms-DetailsList--Compact',\n    cell: 'ms-DetailsRow-cell',\n    cellAnimation: 'ms-DetailsRow-cellAnimation',\n    cellCheck: 'ms-DetailsRow-cellCheck',\n    check: 'ms-DetailsRow-check',\n    cellMeasurer: 'ms-DetailsRow-cellMeasurer',\n    listCellFirstChild: 'ms-List-cell:first-child',\n    isContentUnselectable: 'is-contentUnselectable',\n    isSelected: 'is-selected',\n    isCheckVisible: 'is-check-visible',\n    isRowHeader: 'is-row-header',\n    fields: 'ms-DetailsRow-fields',\n};\nvar IsFocusableSelector = \"[data-is-focusable='true']\";\nexport var DEFAULT_CELL_STYLE_PROPS = {\n    cellLeftPadding: 12,\n    cellRightPadding: 8,\n    cellExtraRightPadding: 24,\n};\n// Source of default row heights to share.\nexport var DEFAULT_ROW_HEIGHTS = {\n    rowHeight: 42,\n    compactRowHeight: 32,\n};\n// Constant values\nvar values = __assign(__assign({}, DEFAULT_ROW_HEIGHTS), { rowVerticalPadding: 11, compactRowVerticalPadding: 6 });\nexport var getDetailsRowStyles = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    var theme = props.theme, isSelected = props.isSelected, canSelect = props.canSelect, droppingClassName = props.droppingClassName, anySelected = props.anySelected, isCheckVisible = props.isCheckVisible, checkboxCellClassName = props.checkboxCellClassName, compact = props.compact, className = props.className, _o = props.cellStyleProps, cellStyleProps = _o === void 0 ? DEFAULT_CELL_STYLE_PROPS : _o, enableUpdateAnimations = props.enableUpdateAnimations;\n    var palette = theme.palette, fonts = theme.fonts;\n    var neutralPrimary = palette.neutralPrimary, white = palette.white, neutralSecondary = palette.neutralSecondary, neutralLighter = palette.neutralLighter, neutralLight = palette.neutralLight, neutralDark = palette.neutralDark, neutralQuaternaryAlt = palette.neutralQuaternaryAlt;\n    var focusBorder = theme.semanticColors.focusBorder;\n    var classNames = getGlobalClassNames(DetailsRowGlobalClassNames, theme);\n    var colors = {\n        // Default\n        defaultHeaderText: neutralPrimary,\n        defaultMetaText: neutralSecondary,\n        defaultBackground: white,\n        // Default Hover\n        defaultHoverHeaderText: neutralDark,\n        defaultHoverMetaText: neutralPrimary,\n        defaultHoverBackground: neutralLighter,\n        // Selected\n        selectedHeaderText: neutralDark,\n        selectedMetaText: neutralPrimary,\n        selectedBackground: neutralLight,\n        // Selected Hover\n        selectedHoverHeaderText: neutralDark,\n        selectedHoverMetaText: neutralPrimary,\n        selectedHoverBackground: neutralQuaternaryAlt,\n        // Focus\n        focusHeaderText: neutralDark,\n        focusMetaText: neutralPrimary,\n        focusBackground: neutralLight,\n        focusHoverBackground: neutralQuaternaryAlt,\n    };\n    var rowHighContrastFocus = {\n        top: 2,\n        right: 2,\n        bottom: 2,\n        left: 2,\n    };\n    // Selected row styles\n    var selectedStyles = [\n        getFocusStyle(theme, {\n            inset: -1,\n            borderColor: focusBorder,\n            outlineColor: white,\n            highContrastStyle: rowHighContrastFocus,\n        }),\n        classNames.isSelected,\n        {\n            color: colors.selectedMetaText,\n            background: colors.selectedBackground,\n            borderBottom: \"1px solid \" + white,\n            selectors: (_a = {\n                    '&:before': {\n                        position: 'absolute',\n                        display: 'block',\n                        top: -1,\n                        height: 1,\n                        bottom: 0,\n                        left: 0,\n                        right: 0,\n                        content: '',\n                        borderTop: \"1px solid \" + white,\n                    },\n                    // Selected State hover\n                    '&:hover': {\n                        background: colors.selectedHoverBackground,\n                        color: colors.selectedHoverMetaText,\n                        selectors: (_b = {},\n                            // Selected State hover meta cell\n                            _b[\".\" + classNames.cell + \" \" + HighContrastSelector] = {\n                                color: 'HighlightText',\n                                selectors: {\n                                    '> a': {\n                                        color: 'HighlightText',\n                                    },\n                                },\n                            },\n                            // Selected State hover Header cell\n                            _b[\".\" + classNames.isRowHeader] = {\n                                color: colors.selectedHoverHeaderText,\n                                selectors: (_c = {},\n                                    _c[HighContrastSelector] = {\n                                        color: 'HighlightText',\n                                    },\n                                    _c),\n                            },\n                            // Ensure high-contrast mode overrides default hover background\n                            _b[HighContrastSelector] = {\n                                background: 'Highlight',\n                            },\n                            _b),\n                    },\n                    // Focus state\n                    '&:focus': {\n                        background: colors.focusBackground,\n                        selectors: (_d = {},\n                            // Selected State hover meta cell\n                            _d[\".\" + classNames.cell] = {\n                                color: colors.focusMetaText,\n                                selectors: (_e = {},\n                                    _e[HighContrastSelector] = {\n                                        color: 'HighlightText',\n                                        selectors: {\n                                            '> a': {\n                                                color: 'HighlightText',\n                                            },\n                                        },\n                                    },\n                                    _e),\n                            },\n                            // Row header cell\n                            _d[\".\" + classNames.isRowHeader] = {\n                                color: colors.focusHeaderText,\n                                selectors: (_f = {},\n                                    _f[HighContrastSelector] = {\n                                        color: 'HighlightText',\n                                    },\n                                    _f),\n                            },\n                            // Ensure high-contrast mode overrides default focus background\n                            _d[HighContrastSelector] = {\n                                background: 'Highlight',\n                            },\n                            _d),\n                    }\n                },\n                _a[HighContrastSelector] = __assign(__assign({ background: 'Highlight', color: 'HighlightText' }, getHighContrastNoAdjustStyle()), { selectors: {\n                        a: {\n                            color: 'HighlightText',\n                        },\n                    } }),\n                // Focus and hover state\n                _a['&:focus:hover'] = {\n                    background: colors.focusHoverBackground,\n                },\n                _a),\n        },\n    ];\n    var cannotSelectStyles = [\n        classNames.isContentUnselectable,\n        {\n            userSelect: 'none',\n            cursor: 'default',\n        },\n    ];\n    var rootCompactStyles = {\n        minHeight: values.compactRowHeight,\n        border: 0,\n    };\n    var cellCompactStyles = {\n        minHeight: values.compactRowHeight,\n        paddingTop: values.compactRowVerticalPadding,\n        paddingBottom: values.compactRowVerticalPadding,\n        paddingLeft: cellStyleProps.cellLeftPadding + \"px\",\n    };\n    var defaultCellStyles = [\n        getFocusStyle(theme, { inset: -1 }),\n        classNames.cell,\n        {\n            display: 'inline-block',\n            position: 'relative',\n            boxSizing: 'border-box',\n            minHeight: values.rowHeight,\n            verticalAlign: 'top',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            paddingTop: values.rowVerticalPadding,\n            paddingBottom: values.rowVerticalPadding,\n            paddingLeft: cellStyleProps.cellLeftPadding + \"px\",\n            selectors: (_g = {\n                    '& > button': {\n                        maxWidth: '100%',\n                    }\n                },\n                _g[IsFocusableSelector] = getFocusStyle(theme, { inset: -1, borderColor: neutralSecondary, outlineColor: white }),\n                _g),\n        },\n        isSelected && {\n            selectors: (_h = {},\n                _h[HighContrastSelector] = __assign(__assign({ background: 'Highlight', color: 'HighlightText' }, getHighContrastNoAdjustStyle()), { selectors: {\n                        a: {\n                            color: 'HighlightText',\n                        },\n                    } }),\n                _h),\n        },\n        compact && cellCompactStyles,\n    ];\n    return {\n        root: [\n            classNames.root,\n            AnimationClassNames.fadeIn400,\n            droppingClassName,\n            theme.fonts.small,\n            isCheckVisible && classNames.isCheckVisible,\n            getFocusStyle(theme, { borderColor: focusBorder, outlineColor: white }),\n            {\n                borderBottom: \"1px solid \" + neutralLighter,\n                background: colors.defaultBackground,\n                color: colors.defaultMetaText,\n                // This ensures that the row always tries to consume is minimum width and does not compress.\n                display: 'inline-flex',\n                minWidth: '100%',\n                minHeight: values.rowHeight,\n                whiteSpace: 'nowrap',\n                padding: 0,\n                boxSizing: 'border-box',\n                verticalAlign: 'top',\n                textAlign: 'left',\n                selectors: (_j = {},\n                    _j[\".\" + classNames.listCellFirstChild + \" &:before\"] = {\n                        display: 'none',\n                    },\n                    _j['&:hover'] = {\n                        background: colors.defaultHoverBackground,\n                        color: colors.defaultHoverMetaText,\n                        selectors: (_k = {},\n                            _k[\".\" + classNames.isRowHeader] = {\n                                color: colors.defaultHoverHeaderText,\n                            },\n                            _k),\n                    },\n                    _j[\"&:hover .\" + classNames.check] = {\n                        opacity: 1,\n                    },\n                    _j[\".\" + IsFocusVisibleClassName + \" &:focus .\" + classNames.check] = {\n                        opacity: 1,\n                    },\n                    _j['.ms-GroupSpacer'] = {\n                        flexShrink: 0,\n                        flexGrow: 0,\n                    },\n                    _j),\n            },\n            isSelected && selectedStyles,\n            !canSelect && cannotSelectStyles,\n            compact && rootCompactStyles,\n            className,\n        ],\n        cellUnpadded: {\n            paddingRight: cellStyleProps.cellRightPadding + \"px\",\n        },\n        cellPadded: {\n            paddingRight: cellStyleProps.cellExtraRightPadding + cellStyleProps.cellRightPadding + \"px\",\n            selectors: (_l = {},\n                _l[\"&.\" + classNames.cellCheck] = {\n                    paddingRight: 0,\n                },\n                _l),\n        },\n        cell: defaultCellStyles,\n        cellAnimation: enableUpdateAnimations && AnimationStyles.slideLeftIn40,\n        cellMeasurer: [\n            classNames.cellMeasurer,\n            {\n                overflow: 'visible',\n                whiteSpace: 'nowrap',\n            },\n        ],\n        checkCell: [\n            defaultCellStyles,\n            classNames.cellCheck,\n            checkboxCellClassName,\n            {\n                padding: 0,\n                // Ensure that the check cell covers the top border of the cell.\n                // This ensures the click target does not leave a spot which would\n                // cause other items to be deselected.\n                paddingTop: 1,\n                marginTop: -1,\n                flexShrink: 0,\n            },\n        ],\n        checkCover: {\n            position: 'absolute',\n            top: -1,\n            left: 0,\n            bottom: 0,\n            right: 0,\n            display: anySelected ? 'block' : 'none',\n        },\n        fields: [\n            classNames.fields,\n            {\n                display: 'flex',\n                alignItems: 'stretch',\n            },\n        ],\n        isRowHeader: [\n            classNames.isRowHeader,\n            {\n                color: colors.defaultHeaderText,\n                fontSize: fonts.medium.fontSize,\n            },\n            isSelected && {\n                color: colors.selectedHeaderText,\n                fontWeight: FontWeights.semibold,\n                selectors: (_m = {},\n                    _m[HighContrastSelector] = {\n                        color: 'HighlightText',\n                    },\n                    _m),\n            },\n        ],\n        isMultiline: [\n            defaultCellStyles,\n            {\n                whiteSpace: 'normal',\n                wordBreak: 'break-word',\n                textOverflow: 'clip',\n            },\n        ],\n        check: [classNames.check],\n    };\n};\n//# sourceMappingURL=DetailsRow.styles.js.map","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css, styled, classNamesFunction, composeRenderFunction } from '../../Utilities';\nimport { Check } from '../../Check';\nimport { getStyles } from './DetailsRowCheck.styles';\nvar getClassNames = classNamesFunction();\nvar DetailsRowCheckBase = function (props) {\n    var _a = props.isVisible, isVisible = _a === void 0 ? false : _a, _b = props.canSelect, canSelect = _b === void 0 ? false : _b, _c = props.anySelected, anySelected = _c === void 0 ? false : _c, _d = props.selected, selected = _d === void 0 ? false : _d, _e = props.isHeader, isHeader = _e === void 0 ? false : _e, className = props.className, checkClassName = props.checkClassName, styles = props.styles, theme = props.theme, compact = props.compact, onRenderDetailsCheckbox = props.onRenderDetailsCheckbox, _f = props.useFastIcons, useFastIcons = _f === void 0 ? true : _f, // must be removed from buttonProps\n    buttonProps = __rest(props, [\"isVisible\", \"canSelect\", \"anySelected\", \"selected\", \"isHeader\", \"className\", \"checkClassName\", \"styles\", \"theme\", \"compact\", \"onRenderDetailsCheckbox\", \"useFastIcons\"]);\n    var defaultCheckboxRender = useFastIcons ? _fastDefaultCheckboxRender : _defaultCheckboxRender;\n    var onRenderCheckbox = onRenderDetailsCheckbox\n        ? composeRenderFunction(onRenderDetailsCheckbox, defaultCheckboxRender)\n        : defaultCheckboxRender;\n    var classNames = getClassNames(styles, {\n        theme: theme,\n        canSelect: canSelect,\n        selected: selected,\n        anySelected: anySelected,\n        className: className,\n        isHeader: isHeader,\n        isVisible: isVisible,\n        compact: compact,\n    });\n    var detailsCheckboxProps = {\n        checked: selected,\n        theme: theme,\n    };\n    return canSelect ? (React.createElement(\"div\", __assign({}, buttonProps, { role: \"checkbox\", \n        // eslint-disable-next-line deprecation/deprecation\n        className: css(classNames.root, classNames.check), \"aria-checked\": selected, \"data-selection-toggle\": true, \"data-automationid\": \"DetailsRowCheck\", tabIndex: -1 }), onRenderCheckbox(detailsCheckboxProps))) : (\n    // eslint-disable-next-line deprecation/deprecation\n    React.createElement(\"div\", __assign({}, buttonProps, { className: css(classNames.root, classNames.check) })));\n};\nvar FastCheck = React.memo(function (props) {\n    return React.createElement(Check, { theme: props.theme, checked: props.checked, className: props.className, useFastIcons: true });\n});\nfunction _defaultCheckboxRender(checkboxProps) {\n    return React.createElement(Check, { checked: checkboxProps.checked });\n}\nfunction _fastDefaultCheckboxRender(checkboxProps) {\n    return React.createElement(FastCheck, { theme: checkboxProps.theme, checked: checkboxProps.checked });\n}\nexport var DetailsRowCheck = styled(DetailsRowCheckBase, getStyles, undefined, { scope: 'DetailsRowCheck' }, true);\n//# sourceMappingURL=DetailsRowCheck.js.map","import { getGlobalClassNames, getFocusStyle } from '../../Styling';\nimport { DEFAULT_ROW_HEIGHTS } from './DetailsRow.styles';\nimport { HEADER_HEIGHT } from './DetailsHeader.styles';\nimport { CheckGlobalClassNames } from '../../components/Check/Check.styles';\nvar GlobalClassNames = {\n    root: 'ms-DetailsRow-check',\n    isDisabled: 'ms-DetailsRow-check--isDisabled',\n    isHeader: 'ms-DetailsRow-check--isHeader',\n};\nexport var CHECK_CELL_WIDTH = 48;\nexport var getStyles = function (props) {\n    var theme = props.theme, className = props.className, isHeader = props.isHeader, selected = props.selected, anySelected = props.anySelected, canSelect = props.canSelect, compact = props.compact, isVisible = props.isVisible;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    var rowHeight = DEFAULT_ROW_HEIGHTS.rowHeight, compactRowHeight = DEFAULT_ROW_HEIGHTS.compactRowHeight;\n    var height = isHeader ? HEADER_HEIGHT : compact ? compactRowHeight : rowHeight;\n    var isCheckVisible = isVisible || selected || anySelected;\n    return {\n        root: [classNames.root, className],\n        check: [\n            !canSelect && classNames.isDisabled,\n            isHeader && classNames.isHeader,\n            getFocusStyle(theme),\n            theme.fonts.small,\n            CheckGlobalClassNames.checkHost,\n            {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'default',\n                boxSizing: 'border-box',\n                verticalAlign: 'top',\n                background: 'none',\n                backgroundColor: 'transparent',\n                border: 'none',\n                opacity: isCheckVisible ? 1 : 0,\n                height: height,\n                width: CHECK_CELL_WIDTH,\n                padding: 0,\n                margin: 0,\n            },\n        ],\n        isDisabled: [],\n    };\n};\n//# sourceMappingURL=DetailsRowCheck.styles.js.map","import * as React from 'react';\nimport { css } from '../../Utilities';\nimport { DEFAULT_CELL_STYLE_PROPS } from './DetailsRow.styles';\nvar getCellText = function (item, column) {\n    var value = item && column && column.fieldName ? item[column.fieldName] : '';\n    if (value === null || value === undefined) {\n        value = '';\n    }\n    if (typeof value === 'boolean') {\n        return value.toString();\n    }\n    return value;\n};\n/**\n * Component for rendering a row's cells in a `DetailsList`.\n *\n * {@docCategory DetailsList}\n */\nexport var DetailsRowFields = function (props) {\n    var columns = props.columns, columnStartIndex = props.columnStartIndex, rowClassNames = props.rowClassNames, _a = props.cellStyleProps, cellStyleProps = _a === void 0 ? DEFAULT_CELL_STYLE_PROPS : _a, item = props.item, itemIndex = props.itemIndex, onRenderItemColumn = props.onRenderItemColumn, getCellValueKey = props.getCellValueKey, cellsByColumn = props.cellsByColumn, enableUpdateAnimations = props.enableUpdateAnimations, rowHeaderId = props.rowHeaderId;\n    var cellValueKeysRef = React.useRef();\n    var cellValueKeys = cellValueKeysRef.current || (cellValueKeysRef.current = {});\n    return (React.createElement(\"div\", { className: rowClassNames.fields, \"data-automationid\": \"DetailsRowFields\", role: \"presentation\" }, columns.map(function (column, columnIndex) {\n        var width = typeof column.calculatedWidth === 'undefined'\n            ? 'auto'\n            : column.calculatedWidth +\n                cellStyleProps.cellLeftPadding +\n                cellStyleProps.cellRightPadding +\n                (column.isPadded ? cellStyleProps.cellExtraRightPadding : 0);\n        var _a = column.onRender, onRender = _a === void 0 ? onRenderItemColumn : _a, _b = column.getValueKey, getValueKey = _b === void 0 ? getCellValueKey : _b;\n        var cellContentsRender = cellsByColumn && column.key in cellsByColumn\n            ? cellsByColumn[column.key]\n            : onRender\n                ? onRender(item, itemIndex, column)\n                : getCellText(item, column);\n        var previousValueKey = cellValueKeys[column.key];\n        var cellValueKey = enableUpdateAnimations && getValueKey ? getValueKey(item, itemIndex, column) : undefined;\n        var showAnimation = false;\n        if (cellValueKey !== undefined && previousValueKey !== undefined && cellValueKey !== previousValueKey) {\n            showAnimation = true;\n        }\n        cellValueKeys[column.key] = cellValueKey;\n        // generate a key that auto-dirties when content changes, to force the container to re-render,\n        // to trigger animation\n        var key = \"\" + column.key + (cellValueKey !== undefined ? \"-\" + cellValueKey : '');\n        return (React.createElement(\"div\", { key: key, id: column.isRowHeader ? rowHeaderId : undefined, role: column.isRowHeader ? 'rowheader' : 'gridcell', \"aria-readonly\": true, \"aria-colindex\": columnIndex + columnStartIndex + 1, className: css(column.className, column.isMultiline && rowClassNames.isMultiline, column.isRowHeader && rowClassNames.isRowHeader, rowClassNames.cell, column.isPadded ? rowClassNames.cellPadded : rowClassNames.cellUnpadded, showAnimation && rowClassNames.cellAnimation), style: { width: width }, \"data-automationid\": \"DetailsRowCell\", \"data-automation-key\": column.key }, cellContentsRender));\n    })));\n};\n//# sourceMappingURL=DetailsRowFields.js.map","import { __assign, __decorate, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { warnDeprecations, classNamesFunction, getId } from '../../Utilities';\nimport { DialogType } from './DialogContent.types';\nimport { Modal } from '../../Modal';\nimport { withResponsiveMode } from '../../ResponsiveMode';\nvar getClassNames = classNamesFunction();\nimport { DialogContent } from './DialogContent';\nvar DefaultModalProps = {\n    isDarkOverlay: false,\n    isBlocking: false,\n    className: '',\n    containerClassName: '',\n    topOffsetFixed: false,\n};\nvar DefaultDialogContentProps = {\n    type: DialogType.normal,\n    className: '',\n    topButtonsProps: [],\n};\n// eslint-disable-next-line deprecation/deprecation\nvar DialogBase = /** @class */ (function (_super) {\n    __extends(DialogBase, _super);\n    function DialogBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._getSubTextId = function () {\n            // eslint-disable-next-line deprecation/deprecation\n            var _a = _this.props, ariaDescribedById = _a.ariaDescribedById, modalProps = _a.modalProps, dialogContentProps = _a.dialogContentProps, subText = _a.subText;\n            var id = (modalProps && modalProps.subtitleAriaId) || ariaDescribedById;\n            if (!id) {\n                id = ((dialogContentProps && dialogContentProps.subText) || subText) && _this._defaultSubTextId;\n            }\n            return id;\n        };\n        _this._getTitleTextId = function () {\n            // eslint-disable-next-line deprecation/deprecation\n            var _a = _this.props, ariaLabelledById = _a.ariaLabelledById, modalProps = _a.modalProps, dialogContentProps = _a.dialogContentProps, title = _a.title;\n            var id = (modalProps && modalProps.titleAriaId) || ariaLabelledById;\n            if (!id) {\n                id = ((dialogContentProps && dialogContentProps.title) || title) && _this._defaultTitleTextId;\n            }\n            return id;\n        };\n        _this._id = getId('Dialog');\n        _this._defaultTitleTextId = _this._id + '-title';\n        _this._defaultSubTextId = _this._id + '-subText';\n        if (process.env.NODE_ENV !== 'production') {\n            warnDeprecations('Dialog', props, {\n                isOpen: 'hidden',\n                type: 'dialogContentProps.type',\n                subText: 'dialogContentProps.subText',\n                contentClassName: 'dialogContentProps.className',\n                topButtonsProps: 'dialogContentProps.topButtonsProps',\n                className: 'modalProps.className',\n                isDarkOverlay: 'modalProps.isDarkOverlay',\n                isBlocking: 'modalProps.isBlocking',\n                containerClassName: 'modalProps.containerClassName',\n                onDismissed: 'modalProps.onDismissed',\n                onLayerDidMount: 'modalProps.layerProps.onLayerDidMount',\n                ariaDescribedById: 'modalProps.subtitleAriaId',\n                ariaLabelledById: 'modalProps.titleAriaId',\n            });\n        }\n        return _this;\n    }\n    DialogBase.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, \n        /* eslint-disable deprecation/deprecation */\n        className = _c.className, containerClassName = _c.containerClassName, contentClassName = _c.contentClassName, elementToFocusOnDismiss = _c.elementToFocusOnDismiss, firstFocusableSelector = _c.firstFocusableSelector, forceFocusInsideTrap = _c.forceFocusInsideTrap, styles = _c.styles, hidden = _c.hidden, ignoreExternalFocusing = _c.ignoreExternalFocusing, isBlocking = _c.isBlocking, isClickableOutsideFocusTrap = _c.isClickableOutsideFocusTrap, isDarkOverlay = _c.isDarkOverlay, isOpen = _c.isOpen, onDismiss = _c.onDismiss, onDismissed = _c.onDismissed, onLayerDidMount = _c.onLayerDidMount, responsiveMode = _c.responsiveMode, subText = _c.subText, theme = _c.theme, title = _c.title, topButtonsProps = _c.topButtonsProps, type = _c.type, \n        /* eslint-enable deprecation/deprecation */\n        minWidth = _c.minWidth, maxWidth = _c.maxWidth, modalProps = _c.modalProps;\n        var mergedLayerProps = __assign({}, (modalProps ? modalProps.layerProps : { onLayerDidMount: onLayerDidMount }));\n        if (onLayerDidMount && !mergedLayerProps.onLayerDidMount) {\n            mergedLayerProps.onLayerDidMount = onLayerDidMount;\n        }\n        var dialogDraggableClassName;\n        var dragOptions;\n        // if we are draggable, make sure we are using the correct\n        // draggable classname and selectors\n        if (modalProps && modalProps.dragOptions && !modalProps.dragOptions.dragHandleSelector) {\n            dialogDraggableClassName = 'ms-Dialog-draggable-header';\n            dragOptions = __assign(__assign({}, modalProps.dragOptions), { dragHandleSelector: \".\" + dialogDraggableClassName });\n        }\n        else {\n            dragOptions = modalProps && modalProps.dragOptions;\n        }\n        var mergedModalProps = __assign(__assign(__assign(__assign({}, DefaultModalProps), { className: className,\n            containerClassName: containerClassName,\n            isBlocking: isBlocking,\n            isDarkOverlay: isDarkOverlay,\n            onDismissed: onDismissed }), modalProps), { layerProps: mergedLayerProps, dragOptions: dragOptions });\n        var dialogContentProps = __assign(__assign(__assign({ className: contentClassName, subText: subText,\n            title: title,\n            topButtonsProps: topButtonsProps,\n            type: type }, DefaultDialogContentProps), this.props.dialogContentProps), { draggableHeaderClassName: dialogDraggableClassName, titleProps: __assign({ \n                // eslint-disable-next-line deprecation/deprecation\n                id: ((_a = this.props.dialogContentProps) === null || _a === void 0 ? void 0 : _a.titleId) || this._defaultTitleTextId }, (_b = this.props.dialogContentProps) === null || _b === void 0 ? void 0 : _b.titleProps) });\n        var classNames = getClassNames(styles, {\n            theme: theme,\n            className: mergedModalProps.className,\n            containerClassName: mergedModalProps.containerClassName,\n            hidden: hidden,\n            dialogDefaultMinWidth: minWidth,\n            dialogDefaultMaxWidth: maxWidth,\n        });\n        return (React.createElement(Modal, __assign({ elementToFocusOnDismiss: elementToFocusOnDismiss, firstFocusableSelector: firstFocusableSelector, forceFocusInsideTrap: forceFocusInsideTrap, ignoreExternalFocusing: ignoreExternalFocusing, isClickableOutsideFocusTrap: isClickableOutsideFocusTrap, onDismissed: mergedModalProps.onDismissed, responsiveMode: responsiveMode }, mergedModalProps, { isDarkOverlay: mergedModalProps.isDarkOverlay, isBlocking: mergedModalProps.isBlocking, isOpen: isOpen !== undefined ? isOpen : !hidden, className: classNames.root, containerClassName: classNames.main, onDismiss: onDismiss ? onDismiss : mergedModalProps.onDismiss, subtitleAriaId: this._getSubTextId(), titleAriaId: this._getTitleTextId() }),\n            React.createElement(DialogContent, __assign({ subTextId: this._defaultSubTextId, title: dialogContentProps.title, subText: dialogContentProps.subText, showCloseButton: mergedModalProps.isBlocking, topButtonsProps: dialogContentProps.topButtonsProps, type: dialogContentProps.type, onDismiss: onDismiss ? onDismiss : dialogContentProps.onDismiss, className: dialogContentProps.className }, dialogContentProps), this.props.children)));\n    };\n    DialogBase.defaultProps = {\n        hidden: true,\n    };\n    DialogBase = __decorate([\n        withResponsiveMode\n    ], DialogBase);\n    return DialogBase;\n}(React.Component));\nexport { DialogBase };\n//# sourceMappingURL=Dialog.base.js.map","import { ScreenWidthMinMedium, getGlobalClassNames } from '../../Styling';\nvar GlobalClassNames = {\n    root: 'ms-Dialog',\n};\nexport var getStyles = function (props) {\n    var _a;\n    var className = props.className, containerClassName = props.containerClassName, // eslint-disable-line deprecation/deprecation\n    _b = props.dialogDefaultMinWidth, // eslint-disable-line deprecation/deprecation\n    dialogDefaultMinWidth = _b === void 0 ? '288px' : _b, _c = props.dialogDefaultMaxWidth, dialogDefaultMaxWidth = _c === void 0 ? '340px' : _c, hidden = props.hidden, theme = props.theme;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [classNames.root, theme.fonts.medium, className],\n        main: [\n            {\n                width: dialogDefaultMinWidth,\n                outline: '3px solid transparent',\n                selectors: (_a = {},\n                    _a[\"@media (min-width: \" + ScreenWidthMinMedium + \"px)\"] = {\n                        width: 'auto',\n                        maxWidth: dialogDefaultMaxWidth,\n                        minWidth: dialogDefaultMinWidth,\n                    },\n                    _a),\n            },\n            !hidden && { display: 'flex' },\n            containerClassName,\n        ],\n    };\n};\n//# sourceMappingURL=Dialog.styles.js.map","import { styled } from '../../Utilities';\nimport { DialogBase } from './Dialog.base';\nimport { getStyles } from './Dialog.styles';\nexport var Dialog = styled(DialogBase, getStyles, undefined, { scope: 'Dialog' });\nDialog.displayName = 'Dialog';\n//# sourceMappingURL=Dialog.js.map","import { __assign, __decorate, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, css, warnDeprecations, initializeComponentRef } from '../../Utilities';\nimport { DialogType } from './DialogContent.types';\nimport { IconButton } from '../../Button';\nimport { DialogFooter } from './DialogFooter';\nimport { withResponsiveMode } from '../../ResponsiveMode';\nvar getClassNames = classNamesFunction();\nvar DialogFooterType = (React.createElement(DialogFooter, null)).type;\nvar COMPONENT_NAME = 'DialogContent';\n// eslint-disable-next-line deprecation/deprecation\nvar DialogContentBase = /** @class */ (function (_super) {\n    __extends(DialogContentBase, _super);\n    function DialogContentBase(props) {\n        var _this = _super.call(this, props) || this;\n        initializeComponentRef(_this);\n        warnDeprecations(COMPONENT_NAME, props, {\n            titleId: 'titleProps.id',\n        });\n        return _this;\n    }\n    DialogContentBase.prototype.render = function () {\n        var _a = this.props, showCloseButton = _a.showCloseButton, className = _a.className, closeButtonAriaLabel = _a.closeButtonAriaLabel, onDismiss = _a.onDismiss, subTextId = _a.subTextId, subText = _a.subText, _b = _a.titleProps, titleProps = _b === void 0 ? {} : _b, \n        // eslint-disable-next-line deprecation/deprecation\n        titleId = _a.titleId, title = _a.title, type = _a.type, styles = _a.styles, theme = _a.theme, draggableHeaderClassName = _a.draggableHeaderClassName;\n        var classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n            isLargeHeader: type === DialogType.largeHeader,\n            isClose: type === DialogType.close,\n            draggableHeaderClassName: draggableHeaderClassName,\n        });\n        var groupings = this._groupChildren();\n        var subTextContent;\n        if (subText) {\n            subTextContent = (React.createElement(\"p\", { className: classNames.subText, id: subTextId }, subText));\n        }\n        return (React.createElement(\"div\", { className: classNames.content },\n            React.createElement(\"div\", { className: classNames.header },\n                React.createElement(\"div\", __assign({ id: titleId, role: \"heading\", \"aria-level\": 1 }, titleProps, { className: css(classNames.title, titleProps.className) }), title),\n                React.createElement(\"div\", { className: classNames.topButton },\n                    this.props.topButtonsProps.map(function (props, index) { return (React.createElement(IconButton, __assign({ key: props.uniqueId || index }, props))); }),\n                    (type === DialogType.close || (showCloseButton && type !== DialogType.largeHeader)) && (React.createElement(IconButton, { className: classNames.button, iconProps: { iconName: 'Cancel' }, ariaLabel: closeButtonAriaLabel, onClick: onDismiss, title: closeButtonAriaLabel })))),\n            React.createElement(\"div\", { className: classNames.inner },\n                React.createElement(\"div\", { className: classNames.innerContent },\n                    subTextContent,\n                    groupings.contents),\n                groupings.footers)));\n    };\n    // @TODO - typing the footers as an array of DialogFooter is difficult because\n    // casing \"child as DialogFooter\" causes a problem because\n    // \"Neither type 'ReactElement<any>' nor type 'DialogFooter' is assignable to the other.\"\n    DialogContentBase.prototype._groupChildren = function () {\n        var groupings = {\n            footers: [],\n            contents: [],\n        };\n        React.Children.map(this.props.children, function (child) {\n            if (typeof child === 'object' && child !== null && child.type === DialogFooterType) {\n                groupings.footers.push(child);\n            }\n            else {\n                groupings.contents.push(child);\n            }\n        });\n        return groupings;\n    };\n    DialogContentBase.defaultProps = {\n        showCloseButton: false,\n        className: '',\n        topButtonsProps: [],\n        closeButtonAriaLabel: 'Close',\n    };\n    DialogContentBase = __decorate([\n        withResponsiveMode\n    ], DialogContentBase);\n    return DialogContentBase;\n}(React.Component));\nexport { DialogContentBase };\n//# sourceMappingURL=DialogContent.base.js.map","import { FontWeights, getGlobalClassNames, IconFontSizes, ScreenWidthMinSmall, ScreenWidthMaxSmall, } from '../../Styling';\nvar GlobalClassNames = {\n    contentLgHeader: 'ms-Dialog-lgHeader',\n    close: 'ms-Dialog--close',\n    subText: 'ms-Dialog-subText',\n    header: 'ms-Dialog-header',\n    headerLg: 'ms-Dialog--lgHeader',\n    button: 'ms-Dialog-button ms-Dialog-button--close',\n    inner: 'ms-Dialog-inner',\n    content: 'ms-Dialog-content',\n    title: 'ms-Dialog-title',\n};\nexport var getStyles = function (props) {\n    var _a, _b, _c;\n    var className = props.className, theme = props.theme, isLargeHeader = props.isLargeHeader, isClose = props.isClose, hidden = props.hidden, isMultiline = props.isMultiline, draggableHeaderClassName = props.draggableHeaderClassName;\n    var palette = theme.palette, fonts = theme.fonts, effects = theme.effects, semanticColors = theme.semanticColors;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        content: [\n            isLargeHeader && [\n                classNames.contentLgHeader,\n                {\n                    borderTop: \"4px solid \" + palette.themePrimary,\n                },\n            ],\n            isClose && classNames.close,\n            {\n                flexGrow: 1,\n                overflowY: 'hidden',\n            },\n            className,\n        ],\n        subText: [\n            classNames.subText,\n            fonts.medium,\n            {\n                margin: '0 0 24px 0',\n                color: semanticColors.bodySubtext,\n                lineHeight: '1.5',\n                wordWrap: 'break-word',\n                fontWeight: FontWeights.regular,\n            },\n        ],\n        header: [\n            classNames.header,\n            {\n                position: 'relative',\n                width: '100%',\n                boxSizing: 'border-box',\n            },\n            isClose && classNames.close,\n            draggableHeaderClassName && [\n                draggableHeaderClassName,\n                {\n                    cursor: 'move',\n                },\n            ],\n        ],\n        button: [\n            classNames.button,\n            hidden && {\n                selectors: {\n                    '.ms-Icon.ms-Icon--Cancel': {\n                        color: semanticColors.buttonText,\n                        fontSize: IconFontSizes.medium,\n                    },\n                },\n            },\n        ],\n        inner: [\n            classNames.inner,\n            {\n                padding: '0 24px 24px',\n                selectors: (_a = {},\n                    _a[\"@media (min-width: \" + ScreenWidthMinSmall + \"px) and (max-width: \" + ScreenWidthMaxSmall + \"px)\"] = {\n                        padding: '0 16px 16px',\n                    },\n                    _a),\n            },\n        ],\n        innerContent: [\n            classNames.content,\n            {\n                position: 'relative',\n                width: '100%',\n            },\n        ],\n        title: [\n            classNames.title,\n            fonts.xLarge,\n            {\n                color: semanticColors.bodyText,\n                margin: '0',\n                minHeight: fonts.xLarge.fontSize,\n                padding: '16px 46px 20px 24px',\n                lineHeight: 'normal',\n                selectors: (_b = {},\n                    _b[\"@media (min-width: \" + ScreenWidthMinSmall + \"px) and (max-width: \" + ScreenWidthMaxSmall + \"px)\"] = {\n                        padding: '16px 46px 16px 16px',\n                    },\n                    _b),\n            },\n            isLargeHeader && {\n                color: semanticColors.menuHeader,\n            },\n            isMultiline && { fontSize: fonts.xxLarge.fontSize },\n        ],\n        topButton: [\n            {\n                display: 'flex',\n                flexDirection: 'row',\n                flexWrap: 'nowrap',\n                position: 'absolute',\n                top: '0',\n                right: '0',\n                padding: '15px 15px 0 0',\n                selectors: (_c = {\n                        '> *': {\n                            flex: '0 0 auto',\n                        },\n                        '.ms-Dialog-button': {\n                            color: semanticColors.buttonText,\n                        },\n                        '.ms-Dialog-button:hover': {\n                            color: semanticColors.buttonTextHovered,\n                            borderRadius: effects.roundedCorner2,\n                        }\n                    },\n                    _c[\"@media (min-width: \" + ScreenWidthMinSmall + \"px) and (max-width: \" + ScreenWidthMaxSmall + \"px)\"] = {\n                        padding: '15px 8px 0 0',\n                    },\n                    _c),\n            },\n        ],\n    };\n};\n//# sourceMappingURL=DialogContent.styles.js.map","import { styled } from '../../Utilities';\nimport { DialogContentBase } from './DialogContent.base';\nimport { getStyles } from './DialogContent.styles';\nexport var DialogContent = styled(DialogContentBase, getStyles, undefined, { scope: 'DialogContent' });\n//# sourceMappingURL=DialogContent.js.map","/**\n * {@docCategory Dialog}\n */\nexport var DialogType;\n(function (DialogType) {\n    /** Standard dialog */\n    DialogType[DialogType[\"normal\"] = 0] = \"normal\";\n    /** Dialog with large header banner */\n    DialogType[DialogType[\"largeHeader\"] = 1] = \"largeHeader\";\n    /** Dialog with an 'x' close button in the upper-right corner */\n    DialogType[DialogType[\"close\"] = 2] = \"close\";\n})(DialogType || (DialogType = {}));\n//# sourceMappingURL=DialogContent.types.js.map","import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, initializeComponentRef } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nvar DialogFooterBase = /** @class */ (function (_super) {\n    __extends(DialogFooterBase, _super);\n    function DialogFooterBase(props) {\n        var _this = _super.call(this, props) || this;\n        initializeComponentRef(_this);\n        return _this;\n    }\n    DialogFooterBase.prototype.render = function () {\n        var _a = this.props, className = _a.className, styles = _a.styles, theme = _a.theme;\n        this._classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n        });\n        return (React.createElement(\"div\", { className: this._classNames.actions },\n            React.createElement(\"div\", { className: this._classNames.actionsRight }, this._renderChildrenAsActions())));\n    };\n    DialogFooterBase.prototype._renderChildrenAsActions = function () {\n        var _this = this;\n        return React.Children.map(this.props.children, function (child) {\n            return child ? React.createElement(\"span\", { className: _this._classNames.action }, child) : null;\n        });\n    };\n    return DialogFooterBase;\n}(React.Component));\nexport { DialogFooterBase };\n//# sourceMappingURL=DialogFooter.base.js.map","import { getGlobalClassNames } from '../../Styling';\nvar GlobalClassNames = {\n    actions: 'ms-Dialog-actions',\n    action: 'ms-Dialog-action',\n    actionsRight: 'ms-Dialog-actionsRight',\n};\nexport var getStyles = function (props) {\n    var className = props.className, theme = props.theme;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        actions: [\n            classNames.actions,\n            {\n                position: 'relative',\n                width: '100%',\n                minHeight: '24px',\n                lineHeight: '24px',\n                margin: '16px 0 0',\n                fontSize: '0',\n                selectors: {\n                    '.ms-Button': {\n                        lineHeight: 'normal',\n                    },\n                },\n            },\n            className,\n        ],\n        action: [\n            classNames.action,\n            {\n                margin: '0 4px',\n            },\n        ],\n        actionsRight: [\n            classNames.actionsRight,\n            {\n                textAlign: 'right',\n                marginRight: '-4px',\n                fontSize: '0',\n            },\n        ],\n    };\n};\n//# sourceMappingURL=DialogFooter.styles.js.map","import { styled } from '../../Utilities';\nimport { DialogFooterBase } from './DialogFooter.base';\nimport { getStyles } from './DialogFooter.styles';\nexport var DialogFooter = styled(DialogFooterBase, getStyles, undefined, { scope: 'DialogFooter' });\n//# sourceMappingURL=DialogFooter.js.map","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { elementContains, getNativeProps, divProperties, getFirstTabbable, getLastTabbable, getNextElement, focusAsync, modalize, on, } from '../../Utilities';\nimport { useId, useConst, useMergedRefs } from '@fluentui/react-hooks';\nimport { useDocument } from '../../WindowProvider';\nvar COMPONENT_NAME = 'FocusTrapZone';\nvar useComponentRef = function (componentRef, previouslyFocusedElement, focus) {\n    React.useImperativeHandle(componentRef, function () { return ({\n        get previouslyFocusedElement() {\n            return previouslyFocusedElement;\n        },\n        focus: focus,\n    }); }, [previouslyFocusedElement, focus]);\n};\nexport var FocusTrapZone = React.forwardRef(function (props, ref) {\n    var root = React.useRef(null);\n    var firstBumper = React.useRef(null);\n    var lastBumper = React.useRef(null);\n    var mergedRootRef = useMergedRefs(root, ref);\n    var id = useId(undefined, props.id);\n    var doc = useDocument();\n    var divProps = getNativeProps(props, divProperties);\n    var internalState = useConst(function () { return ({\n        previouslyFocusedElementOutsideTrapZone: undefined,\n        previouslyFocusedElementInTrapZone: undefined,\n        disposeFocusHandler: undefined,\n        disposeClickHandler: undefined,\n        hasFocus: false,\n        unmodalize: undefined,\n    }); });\n    var ariaLabelledBy = props.ariaLabelledBy, className = props.className, children = props.children, componentRef = props.componentRef, disabled = props.disabled, _a = props.disableFirstFocus, disableFirstFocus = _a === void 0 ? false : _a, _b = props.disabled, currentDisabledValue = _b === void 0 ? false : _b, elementToFocusOnDismiss = props.elementToFocusOnDismiss, _c = props.forceFocusInsideTrap, forceFocusInsideTrap = _c === void 0 ? true : _c, focusPreviouslyFocusedInnerElement = props.focusPreviouslyFocusedInnerElement, firstFocusableSelector = props.firstFocusableSelector, ignoreExternalFocusing = props.ignoreExternalFocusing, _d = props.isClickableOutsideFocusTrap, isClickableOutsideFocusTrap = _d === void 0 ? false : _d, onFocus = props.onFocus, onBlur = props.onBlur, onFocusCapture = props.onFocusCapture, onBlurCapture = props.onBlurCapture, enableAriaHiddenSiblings = props.enableAriaHiddenSiblings;\n    var bumperProps = {\n        'aria-hidden': true,\n        style: {\n            pointerEvents: 'none',\n            position: 'fixed',\n        },\n        tabIndex: disabled ? -1 : 0,\n        'data-is-visible': true,\n    };\n    var focus = React.useCallback(function () {\n        if (focusPreviouslyFocusedInnerElement &&\n            internalState.previouslyFocusedElementInTrapZone &&\n            elementContains(root.current, internalState.previouslyFocusedElementInTrapZone)) {\n            // focus on the last item that had focus in the zone before we left the zone\n            focusAsync(internalState.previouslyFocusedElementInTrapZone);\n            return;\n        }\n        var focusSelector = typeof firstFocusableSelector === 'string'\n            ? firstFocusableSelector\n            : firstFocusableSelector && firstFocusableSelector();\n        var firstFocusableChild = null;\n        if (root.current) {\n            if (focusSelector) {\n                firstFocusableChild = root.current.querySelector('.' + focusSelector);\n            }\n            // Fall back to first element if query selector did not match any elements.\n            if (!firstFocusableChild) {\n                firstFocusableChild = getNextElement(root.current, root.current.firstChild, false, false, false, true);\n            }\n        }\n        if (firstFocusableChild) {\n            focusAsync(firstFocusableChild);\n        }\n    }, [firstFocusableSelector, focusPreviouslyFocusedInnerElement, internalState]);\n    var onBumperFocus = React.useCallback(function (isFirstBumper) {\n        if (disabled) {\n            return;\n        }\n        var currentBumper = (isFirstBumper === internalState.hasFocus\n            ? lastBumper.current\n            : firstBumper.current);\n        if (root.current) {\n            var nextFocusable = isFirstBumper === internalState.hasFocus\n                ? getLastTabbable(root.current, currentBumper, true, false)\n                : getFirstTabbable(root.current, currentBumper, true, false);\n            if (nextFocusable) {\n                if (nextFocusable === firstBumper.current || nextFocusable === lastBumper.current) {\n                    // This can happen when FTZ contains no tabbable elements.\n                    // focus will take care of finding a focusable element in FTZ.\n                    focus();\n                }\n                else {\n                    nextFocusable.focus();\n                }\n            }\n        }\n    }, [disabled, focus, internalState]);\n    var onRootBlurCapture = React.useCallback(function (ev) {\n        onBlurCapture === null || onBlurCapture === void 0 ? void 0 : onBlurCapture(ev);\n        var relatedTarget = ev.relatedTarget;\n        if (ev.relatedTarget === null) {\n            // In IE11, due to lack of support, event.relatedTarget is always\n            // null making every onBlur call to be \"outside\" of the ComboBox\n            // even when it's not. Using document.activeElement is another way\n            // for us to be able to get what the relatedTarget without relying\n            // on the event\n            relatedTarget = doc.activeElement;\n        }\n        if (!elementContains(root.current, relatedTarget)) {\n            internalState.hasFocus = false;\n        }\n    }, [doc, internalState, onBlurCapture]);\n    var onRootFocusCapture = React.useCallback(function (ev) {\n        onFocusCapture === null || onFocusCapture === void 0 ? void 0 : onFocusCapture(ev);\n        if (ev.target === firstBumper.current) {\n            onBumperFocus(true);\n        }\n        else if (ev.target === lastBumper.current) {\n            onBumperFocus(false);\n        }\n        internalState.hasFocus = true;\n        if (ev.target !== ev.currentTarget && !(ev.target === firstBumper.current || ev.target === lastBumper.current)) {\n            // every time focus changes within the trap zone, remember the focused element so that\n            // it can be restored if focus leaves the pane and returns via keystroke (i.e. via a call to this.focus(true))\n            internalState.previouslyFocusedElementInTrapZone = ev.target;\n        }\n    }, [onFocusCapture, internalState, onBumperFocus]);\n    var returnFocusToInitiator = React.useCallback(function () {\n        FocusTrapZone.focusStack = FocusTrapZone.focusStack.filter(function (value) {\n            return id !== value;\n        });\n        if (doc) {\n            var activeElement = doc.activeElement;\n            if (!ignoreExternalFocusing &&\n                internalState.previouslyFocusedElementOutsideTrapZone &&\n                typeof internalState.previouslyFocusedElementOutsideTrapZone.focus === 'function' &&\n                (elementContains(root.current, activeElement) || activeElement === doc.body)) {\n                if (!(internalState.previouslyFocusedElementOutsideTrapZone === firstBumper.current ||\n                    internalState.previouslyFocusedElementOutsideTrapZone === lastBumper.current)) {\n                    focusAsync(internalState.previouslyFocusedElementOutsideTrapZone);\n                }\n            }\n        }\n    }, [doc, id, ignoreExternalFocusing, internalState]);\n    var forceFocusInTrap = React.useCallback(function (ev) {\n        if (disabled) {\n            return;\n        }\n        if (FocusTrapZone.focusStack.length && id === FocusTrapZone.focusStack[FocusTrapZone.focusStack.length - 1]) {\n            var focusedElement = ev.target;\n            if (!elementContains(root.current, focusedElement)) {\n                focus();\n                internalState.hasFocus = true; // set focus here since we stop event propagation\n                ev.preventDefault();\n                ev.stopPropagation();\n            }\n        }\n    }, [disabled, id, focus, internalState]);\n    var forceClickInTrap = React.useCallback(function (ev) {\n        if (disabled) {\n            return;\n        }\n        if (FocusTrapZone.focusStack.length && id === FocusTrapZone.focusStack[FocusTrapZone.focusStack.length - 1]) {\n            var clickedElement = ev.target;\n            if (clickedElement && !elementContains(root.current, clickedElement)) {\n                focus();\n                internalState.hasFocus = true; // set focus here since we stop event propagation\n                ev.preventDefault();\n                ev.stopPropagation();\n            }\n        }\n    }, [disabled, id, focus, internalState]);\n    var updateEventHandlers = React.useCallback(function () {\n        if (forceFocusInsideTrap && !internalState.disposeFocusHandler) {\n            internalState.disposeFocusHandler = on(window, 'focus', forceFocusInTrap, true);\n        }\n        else if (!forceFocusInsideTrap && internalState.disposeFocusHandler) {\n            internalState.disposeFocusHandler();\n            internalState.disposeFocusHandler = undefined;\n        }\n        if (!isClickableOutsideFocusTrap && !internalState.disposeClickHandler) {\n            internalState.disposeClickHandler = on(window, 'click', forceClickInTrap, true);\n        }\n        else if (isClickableOutsideFocusTrap && internalState.disposeClickHandler) {\n            internalState.disposeClickHandler();\n            internalState.disposeClickHandler = undefined;\n        }\n    }, [forceClickInTrap, forceFocusInTrap, forceFocusInsideTrap, isClickableOutsideFocusTrap, internalState]);\n    // Updates eventHandlers and cleans up focusStack when the component unmounts.\n    React.useEffect(function () {\n        var parentRoot = root.current;\n        updateEventHandlers();\n        return function () {\n            // don't handle return focus unless forceFocusInsideTrap is true or focus is still within FocusTrapZone\n            if (!disabled || forceFocusInsideTrap || !elementContains(parentRoot, doc === null || doc === void 0 ? void 0 : doc.activeElement)) {\n                returnFocusToInitiator();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- Should only run on mount.\n    }, [updateEventHandlers]);\n    // Updates focusStack and the previouslyFocusedElementOutsideTrapZone on prop change.\n    React.useEffect(function () {\n        var newForceFocusInsideTrap = forceFocusInsideTrap !== undefined ? forceFocusInsideTrap : true;\n        var newDisabled = disabled !== undefined ? disabled : false;\n        // Transition from forceFocusInsideTrap / FTZ disabled to enabled.\n        if (!newDisabled || newForceFocusInsideTrap) {\n            if (currentDisabledValue) {\n                return;\n            }\n            FocusTrapZone.focusStack.push(id);\n            internalState.previouslyFocusedElementOutsideTrapZone = elementToFocusOnDismiss\n                ? elementToFocusOnDismiss\n                : doc.activeElement;\n            if (!disableFirstFocus && !elementContains(root.current, internalState.previouslyFocusedElementOutsideTrapZone)) {\n                focus();\n            }\n            if (!internalState.unmodalize && root.current && enableAriaHiddenSiblings) {\n                internalState.unmodalize = modalize(root.current);\n            }\n        }\n        else if (!newForceFocusInsideTrap || newDisabled) {\n            // Transition from forceFocusInsideTrap / FTZ enabled to disabled.\n            returnFocusToInitiator();\n            if (internalState.unmodalize) {\n                internalState.unmodalize();\n            }\n        }\n        if (elementToFocusOnDismiss && internalState.previouslyFocusedElementOutsideTrapZone !== elementToFocusOnDismiss) {\n            internalState.previouslyFocusedElementOutsideTrapZone = elementToFocusOnDismiss;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [elementToFocusOnDismiss, forceFocusInsideTrap, disabled]);\n    // Cleanup lifecyle method for internalState.\n    useUnmount(function () {\n        // Dispose of event handlers so their closures can be garbage-collected\n        if (internalState.disposeClickHandler) {\n            internalState.disposeClickHandler();\n            internalState.disposeClickHandler = undefined;\n        }\n        if (internalState.disposeFocusHandler) {\n            internalState.disposeFocusHandler();\n            internalState.disposeFocusHandler = undefined;\n        }\n        if (internalState.unmodalize) {\n            internalState.unmodalize();\n        }\n        // Dispose of element references so the DOM Nodes can be garbage-collected\n        delete internalState.previouslyFocusedElementInTrapZone;\n        delete internalState.previouslyFocusedElementOutsideTrapZone;\n    });\n    useComponentRef(componentRef, internalState.previouslyFocusedElementInTrapZone, focus);\n    return (React.createElement(\"div\", __assign({}, divProps, { className: className, ref: mergedRootRef, \"aria-labelledby\": ariaLabelledBy, onFocusCapture: onRootFocusCapture, onFocus: onFocus, onBlur: onBlur, onBlurCapture: onRootBlurCapture }),\n        React.createElement(\"div\", __assign({}, bumperProps, { ref: firstBumper })),\n        children,\n        React.createElement(\"div\", __assign({}, bumperProps, { ref: lastBumper }))));\n});\nvar useUnmount = function (unmountFunction) {\n    var unmountRef = React.useRef(unmountFunction);\n    unmountRef.current = unmountFunction;\n    React.useEffect(function () { return function () {\n        if (unmountRef.current) {\n            unmountRef.current();\n        }\n    }; }, [unmountFunction]);\n};\nFocusTrapZone.displayName = COMPONENT_NAME;\nFocusTrapZone.focusStack = [];\n//# sourceMappingURL=FocusTrapZone.js.map","import { getGlobalClassNames } from '../../Styling';\nvar GlobalClassNames = {\n    root: 'ms-groupFooter',\n};\nexport var getStyles = function (props) {\n    var theme = props.theme, className = props.className;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [\n            theme.fonts.medium,\n            classNames.root,\n            {\n                position: 'relative',\n                padding: '5px 38px',\n            },\n            className,\n        ],\n    };\n};\n//# sourceMappingURL=GroupFooter.styles.js.map","import * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport { GroupSpacer } from './GroupSpacer';\nvar getClassNames = classNamesFunction();\nexport var GroupFooterBase = function (props) {\n    var group = props.group, groupLevel = props.groupLevel, footerText = props.footerText, indentWidth = props.indentWidth, styles = props.styles, theme = props.theme;\n    var classNames = getClassNames(styles, { theme: theme });\n    if (group && footerText) {\n        return (React.createElement(\"div\", { className: classNames.root },\n            React.createElement(GroupSpacer, { indentWidth: indentWidth, count: groupLevel }),\n            footerText));\n    }\n    return null;\n};\n//# sourceMappingURL=GroupFooter.base.js.map","import { styled } from '../../Utilities';\nimport { getStyles } from './GroupFooter.styles';\nimport { GroupFooterBase } from './GroupFooter.base';\nexport var GroupFooter = styled(GroupFooterBase, getStyles, undefined, {\n    scope: 'GroupFooter',\n});\n//# sourceMappingURL=GroupFooter.js.map","import { getGlobalClassNames, getFocusStyle, AnimationVariables, FontWeights, IconFontSizes, } from '../../Styling';\nimport { getRTL, IsFocusVisibleClassName } from '../../Utilities';\nimport { DEFAULT_CELL_STYLE_PROPS } from '../DetailsList/DetailsRow.styles';\nimport { CHECK_CELL_WIDTH } from '../DetailsList/DetailsRowCheck.styles';\n// For every group level there is a GroupSpacer added. Importing this const to have the source value in one place.\nimport { SPACER_WIDTH as EXPAND_BUTTON_WIDTH } from './GroupSpacer';\nvar GlobalClassNames = {\n    root: 'ms-GroupHeader',\n    compact: 'ms-GroupHeader--compact',\n    check: 'ms-GroupHeader-check',\n    dropIcon: 'ms-GroupHeader-dropIcon',\n    expand: 'ms-GroupHeader-expand',\n    isCollapsed: 'is-collapsed',\n    title: 'ms-GroupHeader-title',\n    isSelected: 'is-selected',\n    iconTag: 'ms-Icon--Tag',\n    group: 'ms-GroupedList-group',\n    isDropping: 'is-dropping',\n};\nvar beziers = {\n    easeOutCirc: 'cubic-bezier(0.075, 0.820, 0.165, 1.000)',\n    easeOutSine: 'cubic-bezier(0.390, 0.575, 0.565, 1.000)',\n    easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n};\nvar DEFAULT_GROUP_HEADER_HEIGHT = 48;\nvar COMPACT_GROUP_HEADER_HEIGHT = 40;\nexport var getStyles = function (props) {\n    var _a, _b, _c, _d, _e;\n    var theme = props.theme, className = props.className, selected = props.selected, isCollapsed = props.isCollapsed, compact = props.compact;\n    // padding from the source to align GroupHeader title with DetailsRow's first cell.\n    var cellLeftPadding = DEFAULT_CELL_STYLE_PROPS.cellLeftPadding;\n    var finalRowHeight = compact ? COMPACT_GROUP_HEADER_HEIGHT : DEFAULT_GROUP_HEADER_HEIGHT;\n    var semanticColors = theme.semanticColors, palette = theme.palette, fonts = theme.fonts;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    var checkExpandResetStyles = [\n        getFocusStyle(theme),\n        {\n            cursor: 'default',\n            background: 'none',\n            backgroundColor: 'transparent',\n            border: 'none',\n            padding: 0,\n        },\n    ];\n    return {\n        root: [\n            classNames.root,\n            getFocusStyle(theme),\n            theme.fonts.medium,\n            {\n                // keep the border for height but color it so it's invisible.\n                borderBottom: \"1px solid \" + semanticColors.listBackground,\n                cursor: 'default',\n                userSelect: 'none',\n                selectors: (_a = {\n                        ':hover': {\n                            background: semanticColors.listItemBackgroundHovered,\n                            color: semanticColors.actionLinkHovered,\n                        }\n                    },\n                    _a[\"&:hover .\" + classNames.check] = {\n                        opacity: 1,\n                    },\n                    _a[\".\" + IsFocusVisibleClassName + \" &:focus .\" + classNames.check] = {\n                        opacity: 1,\n                    },\n                    _a[\":global(.\" + classNames.group + \".\" + classNames.isDropping + \")\"] = {\n                        selectors: (_b = {},\n                            _b[\"& > .\" + classNames.root + \" .\" + classNames.dropIcon] = {\n                                transition: \"transform \" + AnimationVariables.durationValue4 + \" \" + beziers.easeOutCirc + \" \" +\n                                    (\"opacity \" + AnimationVariables.durationValue1 + \" \" + beziers.easeOutSine),\n                                transitionDelay: AnimationVariables.durationValue3,\n                                opacity: 1,\n                                transform: \"rotate(0.2deg) scale(1);\",\n                            },\n                            _b[\".\" + classNames.check] = {\n                                opacity: 0,\n                            },\n                            _b),\n                    },\n                    _a),\n            },\n            selected && [\n                classNames.isSelected,\n                {\n                    background: semanticColors.listItemBackgroundChecked,\n                    selectors: (_c = {\n                            ':hover': {\n                                background: semanticColors.listItemBackgroundCheckedHovered,\n                            }\n                        },\n                        _c[\"\" + classNames.check] = {\n                            opacity: 1,\n                        },\n                        _c),\n                },\n            ],\n            compact && [classNames.compact, { border: 'none' }],\n            className,\n        ],\n        groupHeaderContainer: [\n            {\n                display: 'flex',\n                alignItems: 'center',\n                height: finalRowHeight,\n            },\n        ],\n        headerCount: [\n            {\n                padding: '0px 4px',\n            },\n        ],\n        check: [\n            classNames.check,\n            checkExpandResetStyles,\n            {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                // paddingTop and marginTop brought from the DetailsRow.styles.ts with explanation below.\n                // Ensure that the check cell covers the top border of the cell.\n                // This ensures the click target does not leave a spot which would\n                // cause other items to be deselected.\n                paddingTop: 1,\n                marginTop: -1,\n                opacity: 0,\n                width: CHECK_CELL_WIDTH,\n                height: finalRowHeight,\n                selectors: (_d = {},\n                    _d[\".\" + IsFocusVisibleClassName + \" &:focus\"] = {\n                        opacity: 1,\n                    },\n                    _d),\n            },\n        ],\n        expand: [\n            classNames.expand,\n            checkExpandResetStyles,\n            {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: fonts.small.fontSize,\n                width: EXPAND_BUTTON_WIDTH,\n                height: finalRowHeight,\n                color: selected ? palette.neutralPrimary : palette.neutralSecondary,\n                selectors: {\n                    ':hover': {\n                        backgroundColor: selected ? palette.neutralQuaternary : palette.neutralLight,\n                    },\n                    ':active': {\n                        backgroundColor: selected ? palette.neutralTertiaryAlt : palette.neutralQuaternaryAlt,\n                    },\n                },\n            },\n        ],\n        expandIsCollapsed: [\n            isCollapsed\n                ? [\n                    classNames.isCollapsed,\n                    {\n                        transform: 'rotate(0deg)',\n                        transformOrigin: '50% 50%',\n                        transition: 'transform .1s linear',\n                    },\n                ]\n                : {\n                    transform: getRTL(theme) ? 'rotate(-90deg)' : 'rotate(90deg)',\n                    transformOrigin: '50% 50%',\n                    transition: 'transform .1s linear',\n                },\n        ],\n        title: [\n            classNames.title,\n            {\n                paddingLeft: cellLeftPadding,\n                fontSize: compact ? fonts.medium.fontSize : fonts.mediumPlus.fontSize,\n                fontWeight: isCollapsed ? FontWeights.regular : FontWeights.semibold,\n                cursor: 'pointer',\n                outline: 0,\n                whiteSpace: 'nowrap',\n                textOverflow: 'ellipsis',\n            },\n        ],\n        dropIcon: [\n            classNames.dropIcon,\n            {\n                position: 'absolute',\n                left: -26,\n                fontSize: IconFontSizes.large,\n                color: palette.neutralSecondary,\n                transition: \"transform \" + AnimationVariables.durationValue2 + \" \" + beziers.easeInBack + \", \" +\n                    (\"opacity \" + AnimationVariables.durationValue4 + \" \" + beziers.easeOutSine),\n                opacity: 0,\n                transform: 'rotate(0.2deg) scale(0.65)',\n                transformOrigin: '10px 10px',\n                selectors: (_e = {},\n                    _e[\":global(.\" + classNames.iconTag + \")\"] = {\n                        position: 'absolute',\n                    },\n                    _e),\n            },\n        ],\n    };\n};\n//# sourceMappingURL=GroupHeader.styles.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { composeRenderFunction, classNamesFunction, getId, getRTL, getRTLSafeKeyCode, KeyCodes } from '../../Utilities';\nimport { SelectionMode } from '../../Selection';\nimport { Check } from '../../Check';\nimport { Icon } from '../../Icon';\nimport { GroupSpacer } from './GroupSpacer';\nimport { Spinner } from '../../Spinner';\nimport { CHECK_CELL_WIDTH } from '../DetailsList/DetailsRowCheck.styles';\nvar getClassNames = classNamesFunction();\nvar GroupHeaderBase = /** @class */ (function (_super) {\n    __extends(GroupHeaderBase, _super);\n    function GroupHeaderBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._toggleCollapse = function () {\n            var _a = _this.props, group = _a.group, onToggleCollapse = _a.onToggleCollapse, isGroupLoading = _a.isGroupLoading;\n            var isCollapsed = _this.state.isCollapsed;\n            var newCollapsed = !isCollapsed;\n            var newLoadingVisible = !newCollapsed && isGroupLoading && isGroupLoading(group);\n            _this.setState({\n                isCollapsed: newCollapsed,\n                isLoadingVisible: newLoadingVisible,\n            });\n            if (onToggleCollapse) {\n                onToggleCollapse(group);\n            }\n        };\n        _this._onKeyUp = function (ev) {\n            var _a = _this.props, group = _a.group, onGroupHeaderKeyUp = _a.onGroupHeaderKeyUp;\n            if (onGroupHeaderKeyUp) {\n                onGroupHeaderKeyUp(ev, group);\n            }\n            if (!ev.defaultPrevented) {\n                // eslint-disable-next-line deprecation/deprecation\n                var shouldOpen = _this.state.isCollapsed && ev.which === getRTLSafeKeyCode(KeyCodes.right, _this.props.theme);\n                // eslint-disable-next-line deprecation/deprecation\n                var shouldClose = !_this.state.isCollapsed && ev.which === getRTLSafeKeyCode(KeyCodes.left, _this.props.theme);\n                if (shouldClose || shouldOpen) {\n                    _this._toggleCollapse();\n                    ev.stopPropagation();\n                    ev.preventDefault();\n                }\n            }\n        };\n        _this._onToggleClick = function (ev) {\n            _this._toggleCollapse();\n            ev.stopPropagation();\n            ev.preventDefault();\n        };\n        _this._onToggleSelectGroupClick = function (ev) {\n            var _a = _this.props, onToggleSelectGroup = _a.onToggleSelectGroup, group = _a.group;\n            if (onToggleSelectGroup) {\n                onToggleSelectGroup(group);\n            }\n            ev.preventDefault();\n            ev.stopPropagation();\n        };\n        _this._onHeaderClick = function () {\n            var _a = _this.props, group = _a.group, onGroupHeaderClick = _a.onGroupHeaderClick, onToggleSelectGroup = _a.onToggleSelectGroup;\n            if (onGroupHeaderClick) {\n                onGroupHeaderClick(group);\n            }\n            else if (onToggleSelectGroup) {\n                onToggleSelectGroup(group);\n            }\n        };\n        _this._onRenderTitle = function (props) {\n            var group = props.group, ariaColSpan = props.ariaColSpan;\n            if (!group) {\n                return null;\n            }\n            return (React.createElement(\"div\", { className: _this._classNames.title, id: _this._id, role: \"gridcell\", \"aria-colspan\": ariaColSpan },\n                React.createElement(\"span\", null, group.name),\n                React.createElement(\"span\", { className: _this._classNames.headerCount },\n                    \"(\",\n                    group.count,\n                    group.hasMoreData && '+',\n                    \")\")));\n        };\n        _this._id = getId('GroupHeader');\n        _this.state = {\n            isCollapsed: (_this.props.group && _this.props.group.isCollapsed),\n            isLoadingVisible: false,\n        };\n        return _this;\n    }\n    GroupHeaderBase.getDerivedStateFromProps = function (nextProps, previousState) {\n        if (nextProps.group) {\n            var newCollapsed = nextProps.group.isCollapsed;\n            var isGroupLoading = nextProps.isGroupLoading;\n            var newLoadingVisible = !newCollapsed && isGroupLoading && isGroupLoading(nextProps.group);\n            return __assign(__assign({}, previousState), { isCollapsed: newCollapsed || false, isLoadingVisible: newLoadingVisible || false });\n        }\n        return previousState;\n    };\n    GroupHeaderBase.prototype.render = function () {\n        var _a = this.props, group = _a.group, _b = _a.groupLevel, groupLevel = _b === void 0 ? 0 : _b, viewport = _a.viewport, selectionMode = _a.selectionMode, loadingText = _a.loadingText, \n        // eslint-disable-next-line deprecation/deprecation\n        _c = _a.isSelected, \n        // eslint-disable-next-line deprecation/deprecation\n        isSelected = _c === void 0 ? false : _c, _d = _a.selected, selected = _d === void 0 ? false : _d, indentWidth = _a.indentWidth, _e = _a.onRenderTitle, onRenderTitle = _e === void 0 ? this._onRenderTitle : _e, onRenderGroupHeaderCheckbox = _a.onRenderGroupHeaderCheckbox, _f = _a.isCollapsedGroupSelectVisible, isCollapsedGroupSelectVisible = _f === void 0 ? true : _f, expandButtonProps = _a.expandButtonProps, expandButtonIcon = _a.expandButtonIcon, selectAllButtonProps = _a.selectAllButtonProps, theme = _a.theme, styles = _a.styles, className = _a.className, compact = _a.compact, ariaPosInSet = _a.ariaPosInSet, ariaSetSize = _a.ariaSetSize, ariaRowIndex = _a.ariaRowIndex, useFastIcons = _a.useFastIcons;\n        var defaultCheckboxRender = useFastIcons ? this._fastDefaultCheckboxRender : this._defaultCheckboxRender;\n        var onRenderCheckbox = onRenderGroupHeaderCheckbox\n            ? composeRenderFunction(onRenderGroupHeaderCheckbox, defaultCheckboxRender)\n            : defaultCheckboxRender;\n        var _g = this.state, isCollapsed = _g.isCollapsed, isLoadingVisible = _g.isLoadingVisible;\n        var canSelectGroup = selectionMode === SelectionMode.multiple;\n        var isSelectionCheckVisible = canSelectGroup && (isCollapsedGroupSelectVisible || !(group && group.isCollapsed));\n        var currentlySelected = selected || isSelected;\n        var isRTL = getRTL(theme);\n        this._classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n            selected: currentlySelected,\n            isCollapsed: isCollapsed,\n            compact: compact,\n        });\n        if (!group) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: this._classNames.root, style: viewport ? { minWidth: viewport.width } : {}, onClick: this._onHeaderClick, role: \"row\", \"aria-setsize\": ariaSetSize, \"aria-posinset\": ariaPosInSet, \"aria-rowindex\": ariaRowIndex, \"data-is-focusable\": true, onKeyUp: this._onKeyUp, \"aria-label\": group.ariaLabel, \"aria-labelledby\": group.ariaLabel ? undefined : this._id, \"aria-expanded\": !this.state.isCollapsed, \"aria-selected\": canSelectGroup ? currentlySelected : undefined, \"aria-level\": groupLevel + 1 },\n            React.createElement(\"div\", { className: this._classNames.groupHeaderContainer, role: \"presentation\" },\n                isSelectionCheckVisible ? (React.createElement(\"div\", { role: \"gridcell\" },\n                    React.createElement(\"button\", __assign({ \"data-is-focusable\": false, type: \"button\", className: this._classNames.check, role: \"checkbox\", id: this._id + \"-check\", \"aria-checked\": currentlySelected, \"aria-labelledby\": this._id + \"-check \" + this._id, \"data-selection-toggle\": true, onClick: this._onToggleSelectGroupClick }, selectAllButtonProps), onRenderCheckbox({ checked: currentlySelected, theme: theme }, onRenderCheckbox)))) : (\n                // To make the group header align properly with the column headers, this spacer\n                // needs to be the same width as the check cell in the column header.\n                selectionMode !== SelectionMode.none && React.createElement(GroupSpacer, { indentWidth: CHECK_CELL_WIDTH, count: 1 })),\n                React.createElement(GroupSpacer, { indentWidth: indentWidth, count: groupLevel }),\n                React.createElement(\"div\", { className: this._classNames.dropIcon, role: \"presentation\" },\n                    React.createElement(Icon, { iconName: \"Tag\" })),\n                React.createElement(\"div\", { role: \"gridcell\" },\n                    React.createElement(\"button\", __assign({ \"data-is-focusable\": false, type: \"button\", className: this._classNames.expand, onClick: this._onToggleClick, \"aria-expanded\": !this.state.isCollapsed }, expandButtonProps),\n                        React.createElement(Icon, { className: this._classNames.expandIsCollapsed, iconName: expandButtonIcon || (isRTL ? 'ChevronLeftMed' : 'ChevronRightMed') }))),\n                onRenderTitle(this.props, this._onRenderTitle),\n                isLoadingVisible && React.createElement(Spinner, { label: loadingText }))));\n    };\n    GroupHeaderBase.prototype._defaultCheckboxRender = function (checkboxProps) {\n        return React.createElement(Check, { checked: checkboxProps.checked });\n    };\n    GroupHeaderBase.prototype._fastDefaultCheckboxRender = function (checkboxProps) {\n        return React.createElement(FastCheck, { theme: checkboxProps.theme, checked: checkboxProps.checked });\n    };\n    GroupHeaderBase.defaultProps = {\n        expandButtonProps: { 'aria-label': 'expand collapse group' },\n    };\n    return GroupHeaderBase;\n}(React.Component));\nexport { GroupHeaderBase };\nvar FastCheck = React.memo(function (props) {\n    return React.createElement(Check, { theme: props.theme, checked: props.checked, className: props.className, useFastIcons: true });\n});\n//# sourceMappingURL=GroupHeader.base.js.map","import { styled } from '../../Utilities';\nimport { getStyles } from './GroupHeader.styles';\nimport { GroupHeaderBase } from './GroupHeader.base';\nexport var GroupHeader = styled(GroupHeaderBase, getStyles, undefined, {\n    scope: 'GroupHeader',\n});\n//# sourceMappingURL=GroupHeader.js.map","import { getGlobalClassNames } from '../../Styling';\nvar GlobalClassNames = {\n    root: 'ms-GroupShowAll',\n    link: 'ms-Link',\n};\nexport var getStyles = function (props) {\n    var _a;\n    var theme = props.theme;\n    var fonts = theme.fonts;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [\n            classNames.root,\n            {\n                position: 'relative',\n                padding: '10px 84px',\n                cursor: 'pointer',\n                selectors: (_a = {},\n                    _a[\".\" + classNames.link] = {\n                        fontSize: fonts.small.fontSize,\n                    },\n                    _a),\n            },\n        ],\n    };\n};\n//# sourceMappingURL=GroupShowAll.styles.js.map","import * as React from 'react';\nimport { useCallback } from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport { Link } from '../../Link';\nimport { GroupSpacer } from './GroupSpacer';\nvar getClassNames = classNamesFunction();\nexport var GroupShowAllBase = function (props) {\n    var group = props.group, groupLevel = props.groupLevel, _a = props.showAllLinkText, showAllLinkText = _a === void 0 ? 'Show All' : _a, styles = props.styles, theme = props.theme, onToggleSummarize = props.onToggleSummarize;\n    var classNames = getClassNames(styles, { theme: theme });\n    var memoizedOnClick = useCallback(function (ev) {\n        onToggleSummarize(group);\n        ev.stopPropagation();\n        ev.preventDefault();\n    }, [onToggleSummarize, group]);\n    if (group) {\n        return (React.createElement(\"div\", { className: classNames.root },\n            React.createElement(GroupSpacer, { count: groupLevel }),\n            React.createElement(Link, { onClick: memoizedOnClick }, showAllLinkText)));\n    }\n    return null;\n};\n//# sourceMappingURL=GroupShowAll.base.js.map","import { styled } from '../../Utilities';\nimport { getStyles } from './GroupShowAll.styles';\nimport { GroupShowAllBase } from './GroupShowAll.base';\nexport var GroupShowAll = styled(GroupShowAllBase, getStyles, undefined, { scope: 'GroupShowAll' });\n//# sourceMappingURL=GroupShowAll.js.map","import * as React from 'react';\nexport var SPACER_WIDTH = 36;\nexport var GroupSpacer = function (props) {\n    var count = props.count, _a = props.indentWidth, indentWidth = _a === void 0 ? SPACER_WIDTH : _a, _b = props.role, role = _b === void 0 ? 'presentation' : _b;\n    var width = count * indentWidth;\n    return count > 0 ? (React.createElement(\"span\", { className: 'ms-GroupSpacer', style: { display: 'inline-block', width: width }, role: role })) : null;\n};\n//# sourceMappingURL=GroupSpacer.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, classNamesFunction, KeyCodes, getRTLSafeKeyCode, css } from '../../Utilities';\nimport { GroupedListSection } from './GroupedListSection';\nimport { List } from '../../List';\nimport { SelectionMode } from '../../Selection';\nimport { DEFAULT_ROW_HEIGHTS } from '../DetailsList/DetailsRow.styles';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nvar getClassNames = classNamesFunction();\nvar ROW_HEIGHT = DEFAULT_ROW_HEIGHTS.rowHeight, COMPACT_ROW_HEIGHT = DEFAULT_ROW_HEIGHTS.compactRowHeight;\nvar GroupedListBase = /** @class */ (function (_super) {\n    __extends(GroupedListBase, _super);\n    function GroupedListBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._list = React.createRef();\n        _this._renderGroup = function (group, groupIndex) {\n            var _a = _this.props, dragDropEvents = _a.dragDropEvents, dragDropHelper = _a.dragDropHelper, eventsToRegister = _a.eventsToRegister, groupProps = _a.groupProps, items = _a.items, listProps = _a.listProps, onRenderCell = _a.onRenderCell, selectionMode = _a.selectionMode, selection = _a.selection, viewport = _a.viewport, onShouldVirtualize = _a.onShouldVirtualize, groups = _a.groups, compact = _a.compact;\n            // override group header/footer props as needed\n            var dividerProps = {\n                onToggleSelectGroup: _this._onToggleSelectGroup,\n                onToggleCollapse: _this._onToggleCollapse,\n                onToggleSummarize: _this._onToggleSummarize,\n            };\n            var headerProps = __assign(__assign({}, groupProps.headerProps), dividerProps);\n            var showAllProps = __assign(__assign({}, groupProps.showAllProps), dividerProps);\n            var footerProps = __assign(__assign({}, groupProps.footerProps), dividerProps);\n            var groupNestingDepth = _this._getGroupNestingDepth();\n            if (!groupProps.showEmptyGroups && group && group.count === 0) {\n                return null;\n            }\n            var finalListProps = __assign(__assign({}, (listProps || {})), { version: _this.state.version });\n            return (React.createElement(GroupedListSection, { key: _this._getGroupKey(group, groupIndex), dragDropEvents: dragDropEvents, dragDropHelper: dragDropHelper, eventsToRegister: eventsToRegister, footerProps: footerProps, getGroupItemLimit: groupProps && groupProps.getGroupItemLimit, group: group, groupIndex: groupIndex, groupNestingDepth: groupNestingDepth, groupProps: groupProps, headerProps: headerProps, listProps: finalListProps, items: items, onRenderCell: onRenderCell, onRenderGroupHeader: groupProps.onRenderHeader, onRenderGroupShowAll: groupProps.onRenderShowAll, onRenderGroupFooter: groupProps.onRenderFooter, selectionMode: selectionMode, selection: selection, showAllProps: showAllProps, viewport: viewport, onShouldVirtualize: onShouldVirtualize, groupedListClassNames: _this._classNames, groups: groups, compact: compact }));\n        };\n        _this._getDefaultGroupItemLimit = function (group) {\n            return group.count;\n        };\n        _this._getGroupItemLimit = function (group) {\n            var groupProps = _this.props.groupProps;\n            var getGroupItemLimit = groupProps && groupProps.getGroupItemLimit ? groupProps.getGroupItemLimit : _this._getDefaultGroupItemLimit;\n            return getGroupItemLimit(group);\n        };\n        _this._getGroupHeight = function (group) {\n            var rowHeight = _this.props.compact ? COMPACT_ROW_HEIGHT : ROW_HEIGHT;\n            return rowHeight + (group.isCollapsed ? 0 : rowHeight * _this._getGroupItemLimit(group));\n        };\n        _this._getPageHeight = function (itemIndex) {\n            var groups = _this.state.groups;\n            var _a = _this.props.getGroupHeight, getGroupHeight = _a === void 0 ? _this._getGroupHeight : _a;\n            var pageGroup = groups && groups[itemIndex];\n            if (pageGroup) {\n                return getGroupHeight(pageGroup, itemIndex);\n            }\n            else {\n                return 0;\n            }\n        };\n        _this._onToggleCollapse = function (group) {\n            var groupProps = _this.props.groupProps;\n            var onToggleCollapse = groupProps && groupProps.headerProps && groupProps.headerProps.onToggleCollapse;\n            if (group) {\n                if (onToggleCollapse) {\n                    onToggleCollapse(group);\n                }\n                group.isCollapsed = !group.isCollapsed;\n                _this._updateIsSomeGroupExpanded();\n                _this.forceUpdate();\n            }\n        };\n        _this._onToggleSelectGroup = function (group) {\n            var _a = _this.props, selection = _a.selection, selectionMode = _a.selectionMode;\n            if (group && selection && selectionMode === SelectionMode.multiple) {\n                selection.toggleRangeSelected(group.startIndex, group.count);\n            }\n        };\n        _this._isInnerZoneKeystroke = function (ev) {\n            // eslint-disable-next-line deprecation/deprecation\n            return ev.which === getRTLSafeKeyCode(KeyCodes.right);\n        };\n        _this._onToggleSummarize = function (group) {\n            var groupProps = _this.props.groupProps;\n            var onToggleSummarize = groupProps && groupProps.showAllProps && groupProps.showAllProps.onToggleSummarize;\n            if (onToggleSummarize) {\n                onToggleSummarize(group);\n            }\n            else {\n                if (group) {\n                    group.isShowingAll = !group.isShowingAll;\n                }\n                _this.forceUpdate();\n            }\n        };\n        _this._getPageSpecification = function (itemIndex) {\n            var groups = _this.state.groups;\n            var pageGroup = groups && groups[itemIndex];\n            return {\n                key: pageGroup && pageGroup.key,\n            };\n        };\n        initializeComponentRef(_this);\n        _this._isSomeGroupExpanded = _this._computeIsSomeGroupExpanded(props.groups);\n        var _a = props.listProps, _b = _a === void 0 ? {} : _a, _c = _b.version, version = _c === void 0 ? {} : _c;\n        _this.state = {\n            groups: props.groups,\n            items: props.items,\n            listProps: props.listProps,\n            version: version,\n        };\n        return _this;\n    }\n    GroupedListBase.getDerivedStateFromProps = function (nextProps, previousState) {\n        var groups = nextProps.groups, selectionMode = nextProps.selectionMode, compact = nextProps.compact, items = nextProps.items, listProps = nextProps.listProps;\n        var listVersion = listProps && listProps.version;\n        var nextState = __assign(__assign({}, previousState), { selectionMode: selectionMode,\n            compact: compact,\n            groups: groups,\n            listProps: listProps });\n        var shouldForceUpdates = false;\n        var previousListVersion = previousState.listProps && previousState.listProps.version;\n        if (listVersion !== previousListVersion ||\n            items !== previousState.items ||\n            groups !== previousState.groups ||\n            selectionMode !== previousState.selectionMode ||\n            compact !== previousState.compact) {\n            // If there are any props not passed explicitly to `List` which have an impact on the behavior of `onRenderCell`,\n            // these need to 'force-update' this component by revving the version. Otherwise, the List might render with stale\n            // data.\n            shouldForceUpdates = true;\n        }\n        if (groups !== previousState.groups) {\n            nextState = __assign(__assign({}, nextState), { groups: groups });\n        }\n        if (selectionMode !== previousState.selectionMode || compact !== previousState.compact) {\n            shouldForceUpdates = true;\n        }\n        if (shouldForceUpdates) {\n            nextState = __assign(__assign({}, nextState), { version: {} });\n        }\n        return nextState;\n    };\n    GroupedListBase.prototype.scrollToIndex = function (index, measureItem, scrollToMode) {\n        if (this._list.current) {\n            this._list.current.scrollToIndex(index, measureItem, scrollToMode);\n        }\n    };\n    GroupedListBase.prototype.getStartItemIndexInView = function () {\n        return this._list.current.getStartItemIndexInView() || 0;\n    };\n    GroupedListBase.prototype.componentDidMount = function () {\n        var _a = this.props, groupProps = _a.groupProps, _b = _a.groups, groups = _b === void 0 ? [] : _b;\n        if (groupProps && groupProps.isAllGroupsCollapsed) {\n            this._setGroupsCollapsedState(groups, groupProps.isAllGroupsCollapsed);\n        }\n    };\n    GroupedListBase.prototype.render = function () {\n        var _a = this.props, className = _a.className, usePageCache = _a.usePageCache, onShouldVirtualize = _a.onShouldVirtualize, theme = _a.theme, _b = _a.role, role = _b === void 0 ? 'treegrid' : _b, styles = _a.styles, compact = _a.compact, _c = _a.focusZoneProps, focusZoneProps = _c === void 0 ? {} : _c, _d = _a.rootListProps, rootListProps = _d === void 0 ? {} : _d;\n        var _e = this.state, groups = _e.groups, version = _e.version;\n        this._classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n            compact: compact,\n        });\n        var _f = focusZoneProps.shouldEnterInnerZone, shouldEnterInnerZone = _f === void 0 ? this._isInnerZoneKeystroke : _f;\n        return (React.createElement(FocusZone, __assign({ direction: FocusZoneDirection.vertical, \"data-automationid\": \"GroupedList\", \"data-is-scrollable\": \"false\", role: \"presentation\" }, focusZoneProps, { shouldEnterInnerZone: shouldEnterInnerZone, className: css(this._classNames.root, focusZoneProps.className) }), !groups ? (this._renderGroup(undefined, 0)) : (React.createElement(List, __assign({ ref: this._list, role: role, items: groups, onRenderCell: this._renderGroup, getItemCountForPage: this._returnOne, getPageHeight: this._getPageHeight, getPageSpecification: this._getPageSpecification, usePageCache: usePageCache, onShouldVirtualize: onShouldVirtualize, version: version }, rootListProps)))));\n    };\n    GroupedListBase.prototype.forceUpdate = function () {\n        _super.prototype.forceUpdate.call(this);\n        this._forceListUpdates();\n    };\n    GroupedListBase.prototype.toggleCollapseAll = function (allCollapsed) {\n        var _a = this.state.groups, groups = _a === void 0 ? [] : _a;\n        var groupProps = this.props.groupProps;\n        var onToggleCollapseAll = groupProps && groupProps.onToggleCollapseAll;\n        if (groups.length > 0) {\n            if (onToggleCollapseAll) {\n                onToggleCollapseAll(allCollapsed);\n            }\n            this._setGroupsCollapsedState(groups, allCollapsed);\n            this._updateIsSomeGroupExpanded();\n            this.forceUpdate();\n        }\n    };\n    GroupedListBase.prototype._setGroupsCollapsedState = function (groups, isCollapsed) {\n        for (var groupIndex = 0; groupIndex < groups.length; groupIndex++) {\n            groups[groupIndex].isCollapsed = isCollapsed;\n        }\n    };\n    GroupedListBase.prototype._returnOne = function () {\n        return 1;\n    };\n    GroupedListBase.prototype._getGroupKey = function (group, index) {\n        return 'group-' + (group && group.key ? group.key : String(index));\n    };\n    GroupedListBase.prototype._getGroupNestingDepth = function () {\n        var groups = this.state.groups;\n        var level = 0;\n        var groupsInLevel = groups;\n        while (groupsInLevel && groupsInLevel.length > 0) {\n            level++;\n            groupsInLevel = groupsInLevel[0].children;\n        }\n        return level;\n    };\n    GroupedListBase.prototype._forceListUpdates = function (groups) {\n        this.setState({\n            version: {},\n        });\n    };\n    GroupedListBase.prototype._computeIsSomeGroupExpanded = function (groups) {\n        var _this = this;\n        return !!(groups &&\n            groups.some(function (group) { return (group.children ? _this._computeIsSomeGroupExpanded(group.children) : !group.isCollapsed); }));\n    };\n    GroupedListBase.prototype._updateIsSomeGroupExpanded = function () {\n        var groups = this.state.groups;\n        var onGroupExpandStateChanged = this.props.onGroupExpandStateChanged;\n        var newIsSomeGroupExpanded = this._computeIsSomeGroupExpanded(groups);\n        if (this._isSomeGroupExpanded !== newIsSomeGroupExpanded) {\n            if (onGroupExpandStateChanged) {\n                onGroupExpandStateChanged(newIsSomeGroupExpanded);\n            }\n            this._isSomeGroupExpanded = newIsSomeGroupExpanded;\n        }\n    };\n    GroupedListBase.defaultProps = {\n        selectionMode: SelectionMode.multiple,\n        isHeaderVisible: true,\n        groupProps: {},\n        compact: false,\n    };\n    return GroupedListBase;\n}(React.Component));\nexport { GroupedListBase };\n//# sourceMappingURL=GroupedList.base.js.map","import { getGlobalClassNames, AnimationVariables } from '../../Styling';\nvar GlobalClassNames = {\n    root: 'ms-GroupedList',\n    compact: 'ms-GroupedList--Compact',\n    group: 'ms-GroupedList-group',\n    link: 'ms-Link',\n    listCell: 'ms-List-cell',\n};\nvar beziers = {\n    easeInOutSine: 'cubic-bezier(0.445, 0.050, 0.550, 0.950)',\n};\nexport var getStyles = function (props) {\n    var _a, _b;\n    var theme = props.theme, className = props.className, compact = props.compact;\n    var palette = theme.palette;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [\n            classNames.root,\n            theme.fonts.small,\n            {\n                position: 'relative',\n                selectors: (_a = {},\n                    _a[\".\" + classNames.listCell] = {\n                        minHeight: 38,\n                    },\n                    _a),\n            },\n            compact && [\n                classNames.compact,\n                {\n                    selectors: (_b = {},\n                        _b[\".\" + classNames.listCell] = {\n                            minHeight: 32,\n                        },\n                        _b),\n                },\n            ],\n            className,\n        ],\n        group: [\n            classNames.group,\n            {\n                transition: \"background-color \" + AnimationVariables.durationValue2 + \" \" + beziers.easeInOutSine,\n            },\n        ],\n        groupIsDropping: {\n            backgroundColor: palette.neutralLight,\n        },\n    };\n};\n//# sourceMappingURL=GroupedList.styles.js.map","import { styled } from '../../Utilities';\nimport { getStyles } from './GroupedList.styles';\nimport { GroupedListBase } from './GroupedList.base';\nexport var GroupedList = styled(GroupedListBase, getStyles, undefined, {\n    scope: 'GroupedList',\n});\n//# sourceMappingURL=GroupedList.js.map","/**\n * {@docCategory GroupedList}\n */\nexport var CollapseAllVisibility;\n(function (CollapseAllVisibility) {\n    CollapseAllVisibility[CollapseAllVisibility[\"hidden\"] = 0] = \"hidden\";\n    CollapseAllVisibility[CollapseAllVisibility[\"visible\"] = 1] = \"visible\";\n})(CollapseAllVisibility || (CollapseAllVisibility = {}));\n//# sourceMappingURL=GroupedList.types.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, css, getId, EventGroup } from '../../Utilities';\nimport { SELECTION_CHANGE } from '../../Selection';\nimport { GroupHeader } from './GroupHeader';\nimport { GroupShowAll } from './GroupShowAll';\nimport { GroupFooter } from './GroupFooter';\nimport { List } from '../../List';\nvar DEFAULT_DROPPING_CSS_CLASS = 'is-dropping';\nvar GroupedListSection = /** @class */ (function (_super) {\n    __extends(GroupedListSection, _super);\n    function GroupedListSection(props) {\n        var _this = _super.call(this, props) || this;\n        _this._root = React.createRef();\n        _this._list = React.createRef();\n        _this._subGroupRefs = {};\n        _this._droppingClassName = '';\n        _this._onRenderGroupHeader = function (props) {\n            return React.createElement(GroupHeader, __assign({}, props));\n        };\n        _this._onRenderGroupShowAll = function (props) {\n            return React.createElement(GroupShowAll, __assign({}, props));\n        };\n        _this._onRenderGroupFooter = function (props) {\n            return React.createElement(GroupFooter, __assign({}, props));\n        };\n        _this._renderSubGroup = function (subGroup, subGroupIndex) {\n            var _a = _this.props, dragDropEvents = _a.dragDropEvents, dragDropHelper = _a.dragDropHelper, eventsToRegister = _a.eventsToRegister, getGroupItemLimit = _a.getGroupItemLimit, groupNestingDepth = _a.groupNestingDepth, groupProps = _a.groupProps, items = _a.items, headerProps = _a.headerProps, showAllProps = _a.showAllProps, footerProps = _a.footerProps, listProps = _a.listProps, onRenderCell = _a.onRenderCell, selection = _a.selection, selectionMode = _a.selectionMode, viewport = _a.viewport, onRenderGroupHeader = _a.onRenderGroupHeader, onRenderGroupShowAll = _a.onRenderGroupShowAll, onRenderGroupFooter = _a.onRenderGroupFooter, onShouldVirtualize = _a.onShouldVirtualize, group = _a.group, compact = _a.compact;\n            var nestingDepth = subGroup.level ? subGroup.level + 1 : groupNestingDepth;\n            return !subGroup || subGroup.count > 0 || (groupProps && groupProps.showEmptyGroups) ? (React.createElement(GroupedListSection, { ref: function (ref) { return (_this._subGroupRefs['subGroup_' + subGroupIndex] = ref); }, key: _this._getGroupKey(subGroup, subGroupIndex), dragDropEvents: dragDropEvents, dragDropHelper: dragDropHelper, eventsToRegister: eventsToRegister, footerProps: footerProps, getGroupItemLimit: getGroupItemLimit, group: subGroup, groupIndex: subGroupIndex, groupNestingDepth: nestingDepth, groupProps: groupProps, headerProps: headerProps, items: items, listProps: listProps, onRenderCell: onRenderCell, selection: selection, selectionMode: selectionMode, showAllProps: showAllProps, viewport: viewport, onRenderGroupHeader: onRenderGroupHeader, onRenderGroupShowAll: onRenderGroupShowAll, onRenderGroupFooter: onRenderGroupFooter, onShouldVirtualize: onShouldVirtualize, groups: group ? group.children : [], compact: compact })) : null;\n        };\n        /**\n         * collect all the data we need to enable drag/drop for a group\n         */\n        _this._getGroupDragDropOptions = function () {\n            var _a = _this.props, group = _a.group, groupIndex = _a.groupIndex, dragDropEvents = _a.dragDropEvents, eventsToRegister = _a.eventsToRegister;\n            var options = {\n                eventMap: eventsToRegister,\n                selectionIndex: -1,\n                context: { data: group, index: groupIndex, isGroup: true },\n                updateDropState: _this._updateDroppingState,\n                canDrag: dragDropEvents.canDrag,\n                canDrop: dragDropEvents.canDrop,\n                onDrop: dragDropEvents.onDrop,\n                onDragStart: dragDropEvents.onDragStart,\n                onDragEnter: dragDropEvents.onDragEnter,\n                onDragLeave: dragDropEvents.onDragLeave,\n                onDragEnd: dragDropEvents.onDragEnd,\n                onDragOver: dragDropEvents.onDragOver,\n            };\n            return options;\n        };\n        /**\n         * update groupIsDropping state based on the input value, which is used to change style during drag and drop\n         *\n         * @param newValue - new isDropping state value\n         * @param event - the event trigger dropping state change which can be dragenter, dragleave etc\n         */\n        _this._updateDroppingState = function (newIsDropping, event) {\n            var isDropping = _this.state.isDropping;\n            var _a = _this.props, dragDropEvents = _a.dragDropEvents, group = _a.group;\n            if (isDropping !== newIsDropping) {\n                if (isDropping) {\n                    if (dragDropEvents && dragDropEvents.onDragLeave) {\n                        dragDropEvents.onDragLeave(group, event);\n                    }\n                }\n                else {\n                    if (dragDropEvents && dragDropEvents.onDragEnter) {\n                        _this._droppingClassName = dragDropEvents.onDragEnter(group, event);\n                    }\n                }\n                _this.setState({ isDropping: newIsDropping });\n            }\n        };\n        var selection = props.selection, group = props.group;\n        initializeComponentRef(_this);\n        _this._id = getId('GroupedListSection');\n        _this.state = {\n            isDropping: false,\n            isSelected: selection && group ? selection.isRangeSelected(group.startIndex, group.count) : false,\n        };\n        _this._events = new EventGroup(_this);\n        return _this;\n    }\n    GroupedListSection.prototype.componentDidMount = function () {\n        var _a = this.props, dragDropHelper = _a.dragDropHelper, selection = _a.selection;\n        if (dragDropHelper && this._root.current) {\n            this._dragDropSubscription = dragDropHelper.subscribe(this._root.current, this._events, this._getGroupDragDropOptions());\n        }\n        if (selection) {\n            this._events.on(selection, SELECTION_CHANGE, this._onSelectionChange);\n        }\n    };\n    GroupedListSection.prototype.componentWillUnmount = function () {\n        this._events.dispose();\n        if (this._dragDropSubscription) {\n            this._dragDropSubscription.dispose();\n        }\n    };\n    GroupedListSection.prototype.componentDidUpdate = function (previousProps) {\n        if (this.props.group !== previousProps.group ||\n            this.props.groupIndex !== previousProps.groupIndex ||\n            this.props.dragDropHelper !== previousProps.dragDropHelper) {\n            if (this._dragDropSubscription) {\n                this._dragDropSubscription.dispose();\n                delete this._dragDropSubscription;\n            }\n            if (this.props.dragDropHelper && this._root.current) {\n                this._dragDropSubscription = this.props.dragDropHelper.subscribe(this._root.current, this._events, this._getGroupDragDropOptions());\n            }\n        }\n    };\n    GroupedListSection.prototype.render = function () {\n        var _a = this.props, getGroupItemLimit = _a.getGroupItemLimit, group = _a.group, groupIndex = _a.groupIndex, headerProps = _a.headerProps, showAllProps = _a.showAllProps, footerProps = _a.footerProps, viewport = _a.viewport, selectionMode = _a.selectionMode, _b = _a.onRenderGroupHeader, onRenderGroupHeader = _b === void 0 ? this._onRenderGroupHeader : _b, _c = _a.onRenderGroupShowAll, onRenderGroupShowAll = _c === void 0 ? this._onRenderGroupShowAll : _c, _d = _a.onRenderGroupFooter, onRenderGroupFooter = _d === void 0 ? this._onRenderGroupFooter : _d, onShouldVirtualize = _a.onShouldVirtualize, groupedListClassNames = _a.groupedListClassNames, groups = _a.groups, compact = _a.compact, _e = _a.listProps, listProps = _e === void 0 ? {} : _e;\n        var isSelected = this.state.isSelected;\n        var renderCount = group && getGroupItemLimit ? getGroupItemLimit(group) : Infinity;\n        var isShowAllVisible = group &&\n            !group.children &&\n            !group.isCollapsed &&\n            !group.isShowingAll &&\n            (group.count > renderCount || group.hasMoreData);\n        var hasNestedGroups = group && group.children && group.children.length > 0;\n        var version = listProps.version;\n        var dividerProps = {\n            group: group,\n            groupIndex: groupIndex,\n            groupLevel: group ? group.level : 0,\n            isSelected: isSelected,\n            selected: isSelected,\n            viewport: viewport,\n            selectionMode: selectionMode,\n            groups: groups,\n            compact: compact,\n        };\n        var ariaControlsProps = {\n            groupedListId: this._id,\n            ariaSetSize: groups ? groups.length : undefined,\n            ariaPosInSet: groupIndex !== undefined ? groupIndex + 1 : undefined,\n        };\n        var groupHeaderProps = __assign(__assign(__assign({}, headerProps), dividerProps), ariaControlsProps);\n        var groupShowAllProps = __assign(__assign({}, showAllProps), dividerProps);\n        var groupFooterProps = __assign(__assign({}, footerProps), dividerProps);\n        var isDraggable = !!this.props.dragDropHelper &&\n            this._getGroupDragDropOptions().canDrag(group) &&\n            !!this.props.dragDropEvents.canDragGroups;\n        return (React.createElement(\"div\", __assign({ ref: this._root }, (isDraggable && { draggable: true }), { className: css(groupedListClassNames && groupedListClassNames.group, this._getDroppingClassName()), role: \"presentation\" }),\n            onRenderGroupHeader(groupHeaderProps, this._onRenderGroupHeader),\n            group && group.isCollapsed ? null : hasNestedGroups ? (React.createElement(List, { role: \"presentation\", ref: this._list, items: group ? group.children : [], onRenderCell: this._renderSubGroup, getItemCountForPage: this._returnOne, onShouldVirtualize: onShouldVirtualize, version: version, id: this._id })) : (this._onRenderGroup(renderCount)),\n            group && group.isCollapsed\n                ? null\n                : isShowAllVisible && onRenderGroupShowAll(groupShowAllProps, this._onRenderGroupShowAll),\n            onRenderGroupFooter(groupFooterProps, this._onRenderGroupFooter)));\n    };\n    GroupedListSection.prototype.forceUpdate = function () {\n        _super.prototype.forceUpdate.call(this);\n        this.forceListUpdate();\n    };\n    GroupedListSection.prototype.forceListUpdate = function () {\n        var group = this.props.group;\n        if (this._list.current) {\n            this._list.current.forceUpdate();\n            if (group && group.children && group.children.length > 0) {\n                var subGroupCount = group.children.length;\n                for (var i = 0; i < subGroupCount; i++) {\n                    var subGroup = this._list.current.pageRefs['subGroup_' + String(i)];\n                    if (subGroup) {\n                        subGroup.forceListUpdate();\n                    }\n                }\n            }\n        }\n        else {\n            var subGroup = this._subGroupRefs['subGroup_' + String(0)];\n            if (subGroup) {\n                subGroup.forceListUpdate();\n            }\n        }\n    };\n    GroupedListSection.prototype._onSelectionChange = function () {\n        var _a = this.props, group = _a.group, selection = _a.selection;\n        if (selection && group) {\n            var isSelected = selection.isRangeSelected(group.startIndex, group.count);\n            if (isSelected !== this.state.isSelected) {\n                this.setState({ isSelected: isSelected });\n            }\n        }\n    };\n    GroupedListSection.prototype._onRenderGroupCell = function (onRenderCell, groupNestingDepth, group) {\n        return function (item, itemIndex) {\n            return onRenderCell(groupNestingDepth, item, itemIndex, group);\n        };\n    };\n    GroupedListSection.prototype._onRenderGroup = function (renderCount) {\n        var _a = this.props, group = _a.group, items = _a.items, onRenderCell = _a.onRenderCell, listProps = _a.listProps, groupNestingDepth = _a.groupNestingDepth, onShouldVirtualize = _a.onShouldVirtualize, groupProps = _a.groupProps;\n        var count = group && !group.isShowingAll ? group.count : items.length;\n        var startIndex = group ? group.startIndex : 0;\n        return (React.createElement(List, __assign({ role: groupProps && groupProps.role ? groupProps.role : 'rowgroup', \"aria-label\": group === null || group === void 0 ? void 0 : group.name, items: items, onRenderCell: this._onRenderGroupCell(onRenderCell, groupNestingDepth, group), ref: this._list, renderCount: Math.min(count, renderCount), startIndex: startIndex, onShouldVirtualize: onShouldVirtualize, id: this._id }, listProps)));\n    };\n    GroupedListSection.prototype._returnOne = function () {\n        return 1;\n    };\n    GroupedListSection.prototype._getGroupKey = function (group, index) {\n        return 'group-' + (group && group.key ? group.key : String(group.level) + String(index));\n    };\n    /**\n     * get the correct css class to reflect the dropping state for a given group\n     *\n     * If the group is the current drop target, return the default dropping class name\n     * Otherwise, return '';\n     *\n     */\n    GroupedListSection.prototype._getDroppingClassName = function () {\n        var isDropping = this.state.isDropping;\n        var _a = this.props, group = _a.group, groupedListClassNames = _a.groupedListClassNames;\n        isDropping = !!(group && isDropping);\n        return css(isDropping && this._droppingClassName, isDropping && DEFAULT_DROPPING_CSS_CLASS, isDropping && groupedListClassNames && groupedListClassNames.groupIsDropping);\n    };\n    return GroupedListSection;\n}(React.Component));\nexport { GroupedListSection };\n//# sourceMappingURL=GroupedListSection.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { divProperties, getNativeProps } from '../../Utilities';\nimport { classNamesFunction } from '../../Utilities';\nvar getClassNames = classNamesFunction({\n    // Label is used a lot by other components.\n    // It's likely to see expected cases which pass different className to the Label.\n    // Therefore setting a larger cache size.\n    cacheSize: 100,\n});\nvar LabelBase = /** @class */ (function (_super) {\n    __extends(LabelBase, _super);\n    function LabelBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LabelBase.prototype.render = function () {\n        var _a = this.props, _b = _a.as, RootType = _b === void 0 ? 'label' : _b, children = _a.children, className = _a.className, disabled = _a.disabled, styles = _a.styles, required = _a.required, theme = _a.theme;\n        var classNames = getClassNames(styles, {\n            className: className,\n            disabled: disabled,\n            required: required,\n            theme: theme,\n        });\n        return (React.createElement(RootType, __assign({}, getNativeProps(this.props, divProperties), { className: classNames.root }), children));\n    };\n    return LabelBase;\n}(React.Component));\nexport { LabelBase };\n//# sourceMappingURL=Label.base.js.map","import { styled } from '../../Utilities';\nimport { LabelBase } from './Label.base';\nimport { getStyles } from './Label.styles';\nexport var Label = styled(LabelBase, getStyles, undefined, {\n    scope: 'Label',\n});\n//# sourceMappingURL=Label.js.map","import { __assign } from \"tslib\";\nimport { HighContrastSelector, FontWeights, getHighContrastNoAdjustStyle } from '../../Styling';\nexport var getStyles = function (props) {\n    var _a;\n    var theme = props.theme, className = props.className, disabled = props.disabled, required = props.required;\n    var semanticColors = theme.semanticColors;\n    // Tokens\n    var labelFontWeight = FontWeights.semibold;\n    var labelColor = semanticColors.bodyText;\n    var labelDisabledColor = semanticColors.disabledBodyText;\n    var labelRequiredStarColor = semanticColors.errorText;\n    return {\n        root: [\n            'ms-Label',\n            theme.fonts.medium,\n            {\n                fontWeight: labelFontWeight,\n                color: labelColor,\n                boxSizing: 'border-box',\n                boxShadow: 'none',\n                margin: 0,\n                display: 'block',\n                padding: '5px 0',\n                wordWrap: 'break-word',\n                overflowWrap: 'break-word',\n            },\n            disabled && {\n                color: labelDisabledColor,\n                selectors: (_a = {},\n                    _a[HighContrastSelector] = __assign({ color: 'GrayText' }, getHighContrastNoAdjustStyle()),\n                    _a),\n            },\n            required && {\n                selectors: {\n                    '::after': {\n                        content: \"' *'\",\n                        color: labelRequiredStarColor,\n                        paddingRight: 12,\n                    },\n                },\n            },\n            className,\n        ],\n    };\n};\n//# sourceMappingURL=Label.styles.js.map","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport { classNamesFunction, useFocusRects } from '@fluentui/utilities';\nvar getClassNames = classNamesFunction();\n/**\n * The useLink hook processes the Link component props and returns\n * state, slots and slotProps for consumption by the component.\n */\nexport var useLink = function (props, forwardedRef) {\n    var as = props.as, className = props.className, disabled = props.disabled, href = props.href, onClick = props.onClick, styles = props.styles, theme = props.theme, underline = props.underline;\n    var rootRef = React.useRef(null);\n    var mergedRootRefs = useMergedRefs(rootRef, forwardedRef);\n    useComponentRef(props, rootRef);\n    useFocusRects(rootRef);\n    var classNames = getClassNames(styles, {\n        className: className,\n        isButton: !href,\n        isDisabled: disabled,\n        isUnderlined: underline,\n        theme: theme,\n    });\n    var _onClick = function (ev) {\n        if (disabled) {\n            ev.preventDefault();\n        }\n        else if (onClick) {\n            onClick(ev);\n        }\n    };\n    var rootType = as ? as : href ? 'a' : 'button';\n    var state = {};\n    var slots = { root: rootType };\n    var slotProps = {\n        root: __assign(__assign({}, adjustPropsForRootType(rootType, props)), { 'aria-disabled': disabled, className: classNames.root, onClick: _onClick, ref: mergedRootRefs }),\n    };\n    return { state: state, slots: slots, slotProps: slotProps };\n};\nvar useComponentRef = function (props, link) {\n    React.useImperativeHandle(props.componentRef, function () { return ({\n        focus: function () {\n            if (link.current) {\n                link.current.focus();\n            }\n        },\n    }); }, [link]);\n};\nvar adjustPropsForRootType = function (RootType, props) {\n    // Deconstruct the props so we remove props like `as`, `theme` and `styles`\n    // as those will always be removed. We also take some props that are optional\n    // based on the RootType.\n    var as = props.as, disabled = props.disabled, target = props.target, href = props.href, theme = props.theme, getStyles = props.getStyles, styles = props.styles, componentRef = props.componentRef, underline = props.underline, restProps = __rest(props, [\"as\", \"disabled\", \"target\", \"href\", \"theme\", \"getStyles\", \"styles\", \"componentRef\", \"underline\"]);\n    // RootType will be a string if we're dealing with an html component\n    if (typeof RootType === 'string') {\n        // Remove the disabled prop for anchor elements\n        if (RootType === 'a') {\n            return __assign({ target: target, href: disabled ? undefined : href }, restProps);\n        }\n        // Add the type='button' prop for button elements\n        if (RootType === 'button') {\n            return __assign({ type: 'button', disabled: disabled }, restProps);\n        }\n        // Remove the target and href props for all other non anchor elements\n        return __assign(__assign({}, restProps), { disabled: disabled });\n    }\n    // Retain all props except 'as' for ReactComponents\n    return __assign({ target: target, href: href, disabled: disabled }, restProps);\n};\n//# sourceMappingURL=useLink.js.map","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useLink } from './useLink';\nexport var LinkBase = React.forwardRef(function (props, ref) {\n    var _a = useLink(props, ref), slots = _a.slots, slotProps = _a.slotProps;\n    return React.createElement(slots.root, __assign({}, slotProps.root));\n});\nLinkBase.displayName = 'LinkBase';\n//# sourceMappingURL=Link.base.js.map","import { getGlobalClassNames, HighContrastSelector } from '@fluentui/style-utilities';\nvar GlobalClassNames = {\n    root: 'ms-Link',\n};\nexport var getStyles = function (props) {\n    var _a, _b, _c, _d, _e, _f;\n    var className = props.className, isButton = props.isButton, isDisabled = props.isDisabled, isUnderlined = props.isUnderlined, theme = props.theme;\n    var semanticColors = theme.semanticColors;\n    // Tokens\n    var linkColor = semanticColors.link;\n    var linkInteractedColor = semanticColors.linkHovered;\n    var linkDisabledColor = semanticColors.disabledText;\n    var focusBorderColor = semanticColors.focusBorder;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [\n            classNames.root,\n            theme.fonts.medium,\n            {\n                color: linkColor,\n                outline: 'none',\n                fontSize: 'inherit',\n                fontWeight: 'inherit',\n                textDecoration: isUnderlined ? 'underline' : 'none',\n                selectors: (_a = {\n                        '.ms-Fabric--isFocusVisible &:focus': {\n                            // Can't use getFocusStyle because it doesn't support wrapping links\n                            // https://github.com/microsoft/fluentui/issues/4883#issuecomment-406743543\n                            // Using box-shadow and outline allows the focus rect to wrap links that span multiple lines\n                            // and helps the focus rect avoid getting clipped.\n                            boxShadow: \"0 0 0 1px \" + focusBorderColor + \" inset\",\n                            outline: \"1px auto \" + focusBorderColor,\n                            selectors: (_b = {},\n                                _b[HighContrastSelector] = {\n                                    outline: '1px solid WindowText',\n                                },\n                                _b),\n                        }\n                    },\n                    _a[HighContrastSelector] = {\n                        // For IE high contrast mode\n                        borderBottom: 'none',\n                    },\n                    _a),\n            },\n            isButton && {\n                background: 'none',\n                backgroundColor: 'transparent',\n                border: 'none',\n                cursor: 'pointer',\n                display: 'inline',\n                margin: 0,\n                overflow: 'inherit',\n                padding: 0,\n                textAlign: 'left',\n                textOverflow: 'inherit',\n                userSelect: 'text',\n                borderBottom: '1px solid transparent',\n                selectors: (_c = {},\n                    _c[HighContrastSelector] = {\n                        color: 'LinkText',\n                        forcedColorAdjust: 'none',\n                    },\n                    _c),\n            },\n            !isButton && {\n                selectors: (_d = {},\n                    _d[HighContrastSelector] = {\n                        // This is mainly for MessageBar, which sets MsHighContrastAdjust: none by default\n                        MsHighContrastAdjust: 'auto',\n                        forcedColorAdjust: 'auto',\n                    },\n                    _d),\n            },\n            isDisabled && [\n                'is-disabled',\n                {\n                    color: linkDisabledColor,\n                    cursor: 'default',\n                },\n                {\n                    selectors: {\n                        '&:link, &:visited': {\n                            pointerEvents: 'none',\n                        },\n                    },\n                },\n            ],\n            !isDisabled && {\n                selectors: {\n                    '&:active, &:hover, &:active:hover': {\n                        color: linkInteractedColor,\n                        textDecoration: 'underline',\n                        selectors: (_e = {},\n                            _e[HighContrastSelector] = {\n                                color: 'LinkText',\n                            },\n                            _e),\n                    },\n                    '&:focus': {\n                        color: linkColor,\n                        selectors: (_f = {},\n                            _f[HighContrastSelector] = {\n                                color: 'LinkText',\n                            },\n                            _f),\n                    },\n                },\n            },\n            classNames.root,\n            className,\n        ],\n    };\n};\n//# sourceMappingURL=Link.styles.js.map","import { styled } from '@fluentui/utilities';\nimport { LinkBase } from './Link.base';\nimport { getStyles } from './Link.styles';\nexport var Link = styled(LinkBase, getStyles, undefined, {\n    scope: 'Link',\n});\n//# sourceMappingURL=Link.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { Async, EventGroup, css, divProperties, findIndex, findScrollableParent, getNativeProps, getParent, getWindow, initializeComponentRef, } from '../../Utilities';\nimport { ScrollToMode, } from './List.types';\nimport { composeRenderFunction } from '../../Utilities';\nvar RESIZE_DELAY = 16;\nvar MIN_SCROLL_UPDATE_DELAY = 100;\nvar MAX_SCROLL_UPDATE_DELAY = 500;\nvar IDLE_DEBOUNCE_DELAY = 200;\n// The amount of time to wait before declaring that the list isn't scrolling\nvar DONE_SCROLLING_WAIT = 500;\nvar DEFAULT_ITEMS_PER_PAGE = 10;\nvar DEFAULT_PAGE_HEIGHT = 30;\nvar DEFAULT_RENDERED_WINDOWS_BEHIND = 2;\nvar DEFAULT_RENDERED_WINDOWS_AHEAD = 2;\nvar PAGE_KEY_PREFIX = 'page-';\nvar SPACER_KEY_PREFIX = 'spacer-';\nvar EMPTY_RECT = {\n    top: -1,\n    bottom: -1,\n    left: -1,\n    right: -1,\n    width: 0,\n    height: 0,\n};\n// Naming expensive measures so that they're named in profiles.\nvar _measurePageRect = function (element) { return element.getBoundingClientRect(); };\nvar _measureSurfaceRect = _measurePageRect;\nvar _measureScrollRect = _measurePageRect;\n/**\n * The List renders virtualized pages of items. Each page's item count is determined by the getItemCountForPage callback\n * if provided by the caller, or 10 as default. Each page's height is determined by the getPageHeight callback if\n * provided by the caller, or by cached measurements if available, or by a running average, or a default fallback.\n *\n * The algorithm for rendering pages works like this:\n *\n * 1. Predict visible pages based on \"current measure data\" (page heights, surface position, visible window)\n * 2. If changes are necessary, apply changes (add/remove pages)\n * 3. For pages that are added, measure the page heights if we need to using getBoundingClientRect\n * 4. If measurements don't match predictions, update measure data and goto step 1 asynchronously\n *\n * Measuring too frequently can pull performance down significantly. To compensate, we cache measured values so that\n * we can avoid re-measuring during operations that should not alter heights, like scrolling.\n *\n * To optimize glass rendering performance, onShouldVirtualize can be set. When onShouldVirtualize return false,\n * List will run in fast mode (not virtualized) to render all items without any measurements to improve page load time.\n * And we start doing measurements and rendering in virtualized mode when items grows larger than this threshold.\n *\n * However, certain operations can make measure data stale. For example, resizing the list, or passing in new props,\n * or forcing an update change cause pages to shrink/grow. When these operations occur, we increment a measureVersion\n * number, which we associate with cached measurements and use to determine if a remeasure should occur.\n */\nvar List = /** @class */ (function (_super) {\n    __extends(List, _super);\n    function List(props) {\n        var _this = _super.call(this, props) || this;\n        _this._root = React.createRef();\n        _this._surface = React.createRef();\n        _this._pageRefs = {};\n        _this._getDerivedStateFromProps = function (nextProps, previousState) {\n            if (nextProps.items !== _this.props.items ||\n                nextProps.renderCount !== _this.props.renderCount ||\n                nextProps.startIndex !== _this.props.startIndex ||\n                nextProps.version !== _this.props.version) {\n                // We have received new items so we want to make sure that initially we only render a single window to\n                // fill the currently visible rect, and then later render additional windows.\n                _this._resetRequiredWindows();\n                _this._requiredRect = null;\n                _this._measureVersion++;\n                _this._invalidatePageCache();\n                return _this._updatePages(nextProps, previousState);\n            }\n            return previousState;\n        };\n        _this._onRenderRoot = function (props) {\n            var rootRef = props.rootRef, surfaceElement = props.surfaceElement, divProps = props.divProps;\n            return (React.createElement(\"div\", __assign({ ref: rootRef }, divProps), surfaceElement));\n        };\n        _this._onRenderSurface = function (props) {\n            var surfaceRef = props.surfaceRef, pageElements = props.pageElements, divProps = props.divProps;\n            return (React.createElement(\"div\", __assign({ ref: surfaceRef }, divProps), pageElements));\n        };\n        _this._onRenderPage = function (pageProps, defaultRender) {\n            var _a = _this.props, onRenderCell = _a.onRenderCell, role = _a.role;\n            var _b = pageProps.page, _c = _b.items, items = _c === void 0 ? [] : _c, startIndex = _b.startIndex, divProps = __rest(pageProps, [\"page\"]);\n            // only assign list item role if no role is assigned\n            var cellRole = role === undefined ? 'listitem' : 'presentation';\n            var cells = [];\n            for (var i = 0; i < items.length; i++) {\n                var index = startIndex + i;\n                var item = items[i];\n                var itemKey = _this.props.getKey ? _this.props.getKey(item, index) : item && item.key;\n                if (itemKey === null || itemKey === undefined) {\n                    itemKey = index;\n                }\n                cells.push(React.createElement(\"div\", { role: cellRole, className: 'ms-List-cell', key: itemKey, \"data-list-index\": index, \"data-automationid\": \"ListCell\" }, onRenderCell &&\n                    onRenderCell(item, index, !_this.props.ignoreScrollingState ? _this.state.isScrolling : undefined)));\n            }\n            return React.createElement(\"div\", __assign({}, divProps), cells);\n        };\n        initializeComponentRef(_this);\n        _this.state = {\n            pages: [],\n            isScrolling: false,\n            getDerivedStateFromProps: _this._getDerivedStateFromProps,\n        };\n        _this._async = new Async(_this);\n        _this._events = new EventGroup(_this);\n        _this._estimatedPageHeight = 0;\n        _this._totalEstimates = 0;\n        _this._requiredWindowsAhead = 0;\n        _this._requiredWindowsBehind = 0;\n        // Track the measure version for everything.\n        _this._measureVersion = 0;\n        // Ensure that scrolls are lazy updated.\n        _this._onAsyncScroll = _this._async.debounce(_this._onAsyncScroll, MIN_SCROLL_UPDATE_DELAY, {\n            leading: false,\n            maxWait: MAX_SCROLL_UPDATE_DELAY,\n        });\n        _this._onAsyncIdle = _this._async.debounce(_this._onAsyncIdle, IDLE_DEBOUNCE_DELAY, {\n            leading: false,\n        });\n        _this._onAsyncResize = _this._async.debounce(_this._onAsyncResize, RESIZE_DELAY, {\n            leading: false,\n        });\n        _this._onScrollingDone = _this._async.debounce(_this._onScrollingDone, DONE_SCROLLING_WAIT, {\n            leading: false,\n        });\n        _this._cachedPageHeights = {};\n        _this._estimatedPageHeight = 0;\n        _this._focusedIndex = -1;\n        _this._pageCache = {};\n        return _this;\n    }\n    List.getDerivedStateFromProps = function (nextProps, previousState) {\n        return previousState.getDerivedStateFromProps(nextProps, previousState);\n    };\n    Object.defineProperty(List.prototype, \"pageRefs\", {\n        get: function () {\n            return this._pageRefs;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Scroll to the given index. By default will bring the page the specified item is on into the view. If a callback\n     * to measure the height of an individual item is specified, will only scroll to bring the specific item into view.\n     *\n     * Note: with items of variable height and no passed in `getPageHeight` method, the list might jump after scrolling\n     * when windows before/ahead are being rendered, and the estimated height is replaced using actual elements.\n     *\n     * @param index - Index of item to scroll to\n     * @param measureItem - Optional callback to measure the height of an individual item\n     * @param scrollToMode - Optional defines where in the window the item should be positioned to when scrolling\n     */\n    List.prototype.scrollToIndex = function (index, measureItem, scrollToMode) {\n        if (scrollToMode === void 0) { scrollToMode = ScrollToMode.auto; }\n        var startIndex = this.props.startIndex;\n        var renderCount = this._getRenderCount();\n        var endIndex = startIndex + renderCount;\n        var allowedRect = this._allowedRect;\n        var scrollTop = 0;\n        var itemsPerPage = 1;\n        for (var itemIndex = startIndex; itemIndex < endIndex; itemIndex += itemsPerPage) {\n            var pageSpecification = this._getPageSpecification(itemIndex, allowedRect);\n            var pageHeight = pageSpecification.height;\n            itemsPerPage = pageSpecification.itemCount;\n            var requestedIndexIsInPage = itemIndex <= index && itemIndex + itemsPerPage > index;\n            if (requestedIndexIsInPage) {\n                // We have found the page. If the user provided a way to measure an individual item, we will try to scroll in\n                // just the given item, otherwise we'll only bring the page into view\n                if (measureItem && this._scrollElement) {\n                    var scrollRect = _measureScrollRect(this._scrollElement);\n                    var scrollWindow = {\n                        top: this._scrollElement.scrollTop,\n                        bottom: this._scrollElement.scrollTop + scrollRect.height,\n                    };\n                    // Adjust for actual item position within page\n                    var itemPositionWithinPage = index - itemIndex;\n                    for (var itemIndexInPage = 0; itemIndexInPage < itemPositionWithinPage; ++itemIndexInPage) {\n                        scrollTop += measureItem(itemIndex + itemIndexInPage);\n                    }\n                    var scrollBottom = scrollTop + measureItem(index);\n                    // If scrollToMode is set to something other than auto, we always want to\n                    // scroll the item into a specific position on the page.\n                    switch (scrollToMode) {\n                        case ScrollToMode.top:\n                            this._scrollElement.scrollTop = scrollTop;\n                            return;\n                        case ScrollToMode.bottom:\n                            this._scrollElement.scrollTop = scrollBottom - scrollRect.height;\n                            return;\n                        case ScrollToMode.center:\n                            this._scrollElement.scrollTop = (scrollTop + scrollBottom - scrollRect.height) / 2;\n                            return;\n                        case ScrollToMode.auto:\n                        default:\n                            break;\n                    }\n                    var itemIsFullyVisible = scrollTop >= scrollWindow.top && scrollBottom <= scrollWindow.bottom;\n                    if (itemIsFullyVisible) {\n                        // Item is already visible, do nothing.\n                        return;\n                    }\n                    var itemIsPartiallyAbove = scrollTop < scrollWindow.top;\n                    var itemIsPartiallyBelow = scrollBottom > scrollWindow.bottom;\n                    if (itemIsPartiallyAbove) {\n                        //  We will just scroll to 'scrollTop'\n                        //  .------.   - scrollTop\n                        //  |Item  |\n                        //  | .----|-. - scrollWindow.top\n                        //  '------' |\n                        //    |      |\n                        //    '------'\n                    }\n                    else if (itemIsPartiallyBelow) {\n                        //  Adjust scrollTop position to just bring in the element\n                        // .------.  - scrollTop\n                        // |      |\n                        // | .------.\n                        // '-|----' | - scrollWindow.bottom\n                        //   | Item |\n                        //   '------' - scrollBottom\n                        scrollTop = scrollBottom - scrollRect.height;\n                    }\n                }\n                if (this._scrollElement) {\n                    this._scrollElement.scrollTop = scrollTop;\n                }\n                return;\n            }\n            scrollTop += pageHeight;\n        }\n    };\n    List.prototype.getStartItemIndexInView = function (measureItem) {\n        var pages = this.state.pages || [];\n        for (var _i = 0, pages_1 = pages; _i < pages_1.length; _i++) {\n            var page = pages_1[_i];\n            var isPageVisible = !page.isSpacer && (this._scrollTop || 0) >= page.top && (this._scrollTop || 0) <= page.top + page.height;\n            if (isPageVisible) {\n                if (!measureItem) {\n                    var rowHeight = Math.floor(page.height / page.itemCount);\n                    return page.startIndex + Math.floor((this._scrollTop - page.top) / rowHeight);\n                }\n                else {\n                    var totalRowHeight = 0;\n                    for (var itemIndex = page.startIndex; itemIndex < page.startIndex + page.itemCount; itemIndex++) {\n                        var rowHeight = measureItem(itemIndex);\n                        if (page.top + totalRowHeight <= this._scrollTop &&\n                            this._scrollTop < page.top + totalRowHeight + rowHeight) {\n                            return itemIndex;\n                        }\n                        else {\n                            totalRowHeight += rowHeight;\n                        }\n                    }\n                }\n            }\n        }\n        return 0;\n    };\n    List.prototype.componentDidMount = function () {\n        this.setState(this._updatePages(this.props, this.state));\n        this._measureVersion++;\n        this._scrollElement = findScrollableParent(this._root.current);\n        this._events.on(window, 'resize', this._onAsyncResize);\n        if (this._root.current) {\n            this._events.on(this._root.current, 'focus', this._onFocus, true);\n        }\n        if (this._scrollElement) {\n            this._events.on(this._scrollElement, 'scroll', this._onScroll);\n            this._events.on(this._scrollElement, 'scroll', this._onAsyncScroll);\n        }\n    };\n    List.prototype.componentDidUpdate = function () {\n        // Multiple updates may have been queued, so the callback will reflect all of them.\n        // Re-fetch the current props and states to avoid using a stale props or state captured in the closure.\n        var finalProps = this.props;\n        var finalState = this.state;\n        // If we weren't provided with the page height, measure the pages\n        if (!finalProps.getPageHeight) {\n            // If measured version is invalid since we've updated the DOM\n            var heightsChanged = this._updatePageMeasurements(finalState.pages);\n            // On first render, we should re-measure so that we don't get a visual glitch.\n            if (heightsChanged) {\n                this._materializedRect = null;\n                if (!this._hasCompletedFirstRender) {\n                    this._hasCompletedFirstRender = true;\n                    this.setState(this._updatePages(finalProps, finalState));\n                }\n                else {\n                    this._onAsyncScroll();\n                }\n            }\n            else {\n                // Enqueue an idle bump.\n                this._onAsyncIdle();\n            }\n        }\n        else {\n            // Enqueue an idle bump\n            this._onAsyncIdle();\n        }\n        // Notify the caller that rendering the new pages has completed\n        if (finalProps.onPagesUpdated) {\n            finalProps.onPagesUpdated(finalState.pages);\n        }\n    };\n    List.prototype.componentWillUnmount = function () {\n        this._async.dispose();\n        this._events.dispose();\n        delete this._scrollElement;\n    };\n    List.prototype.shouldComponentUpdate = function (newProps, newState) {\n        var oldPages = this.state.pages;\n        var newPages = newState.pages;\n        var shouldComponentUpdate = false;\n        // Update if the page stops scrolling\n        if (!newState.isScrolling && this.state.isScrolling) {\n            return true;\n        }\n        if (newProps.version !== this.props.version) {\n            return true;\n        }\n        if (newProps.items === this.props.items && oldPages.length === newPages.length) {\n            for (var i = 0; i < oldPages.length; i++) {\n                var oldPage = oldPages[i];\n                var newPage = newPages[i];\n                if (oldPage.key !== newPage.key || oldPage.itemCount !== newPage.itemCount) {\n                    shouldComponentUpdate = true;\n                    break;\n                }\n            }\n        }\n        else {\n            shouldComponentUpdate = true;\n        }\n        return shouldComponentUpdate;\n    };\n    List.prototype.forceUpdate = function () {\n        this._invalidatePageCache();\n        // Ensure that when the list is force updated we update the pages first before render.\n        this._updateRenderRects(this.props, this.state, true);\n        this.setState(this._updatePages(this.props, this.state));\n        this._measureVersion++;\n        _super.prototype.forceUpdate.call(this);\n    };\n    /**\n     * Get the current height the list and it's pages.\n     */\n    List.prototype.getTotalListHeight = function () {\n        return this._surfaceRect.height;\n    };\n    List.prototype.render = function () {\n        var _a = this.props, className = _a.className, _b = _a.role, role = _b === void 0 ? 'list' : _b, onRenderSurface = _a.onRenderSurface, onRenderRoot = _a.onRenderRoot;\n        var _c = this.state.pages, pages = _c === void 0 ? [] : _c;\n        var pageElements = [];\n        var divProps = getNativeProps(this.props, divProperties);\n        for (var _i = 0, pages_2 = pages; _i < pages_2.length; _i++) {\n            var page = pages_2[_i];\n            pageElements.push(this._renderPage(page));\n        }\n        var finalOnRenderSurface = onRenderSurface\n            ? composeRenderFunction(onRenderSurface, this._onRenderSurface)\n            : this._onRenderSurface;\n        var finalOnRenderRoot = onRenderRoot\n            ? composeRenderFunction(onRenderRoot, this._onRenderRoot)\n            : this._onRenderRoot;\n        return finalOnRenderRoot({\n            rootRef: this._root,\n            pages: pages,\n            surfaceElement: finalOnRenderSurface({\n                surfaceRef: this._surface,\n                pages: pages,\n                pageElements: pageElements,\n                divProps: {\n                    role: 'presentation',\n                    className: 'ms-List-surface',\n                },\n            }),\n            divProps: __assign(__assign({}, divProps), { className: css('ms-List', className), role: pageElements.length > 0 ? role : undefined }),\n        });\n    };\n    List.prototype._shouldVirtualize = function (props) {\n        if (props === void 0) { props = this.props; }\n        var onShouldVirtualize = props.onShouldVirtualize;\n        return !onShouldVirtualize || onShouldVirtualize(props);\n    };\n    /**\n     * when props.items change or forceUpdate called, throw away cached pages\n     */\n    List.prototype._invalidatePageCache = function () {\n        this._pageCache = {};\n    };\n    List.prototype._renderPage = function (page) {\n        var _this = this;\n        var usePageCache = this.props.usePageCache;\n        var cachedPage;\n        // if usePageCache is set and cached page element can be found, just return cached page\n        if (usePageCache) {\n            cachedPage = this._pageCache[page.key];\n            if (cachedPage && cachedPage.pageElement) {\n                return cachedPage.pageElement;\n            }\n        }\n        var pageStyle = this._getPageStyle(page);\n        var _a = this.props.onRenderPage, onRenderPage = _a === void 0 ? this._onRenderPage : _a;\n        var pageElement = onRenderPage({\n            page: page,\n            className: 'ms-List-page',\n            key: page.key,\n            ref: function (newRef) {\n                _this._pageRefs[page.key] = newRef;\n            },\n            style: pageStyle,\n            role: 'presentation',\n        }, this._onRenderPage);\n        // cache the first page for now since it is re-rendered a lot times unnecessarily.\n        // todo: a more aggresive caching mechanism is to cache pages constaining the items not changed.\n        // now we re-render pages too frequently, for example, props.items increased from 30 to 60, although the\n        // first 30 items did not change, we still re-rendered all of them in this props.items change.\n        if (usePageCache && page.startIndex === 0) {\n            this._pageCache[page.key] = {\n                page: page,\n                pageElement: pageElement,\n            };\n        }\n        return pageElement;\n    };\n    /** Generate the style object for the page. */\n    List.prototype._getPageStyle = function (page) {\n        var getPageStyle = this.props.getPageStyle;\n        return __assign(__assign({}, (getPageStyle ? getPageStyle(page) : {})), (!page.items\n            ? {\n                height: page.height,\n            }\n            : {}));\n    };\n    /** Track the last item index focused so that we ensure we keep it rendered. */\n    List.prototype._onFocus = function (ev) {\n        var target = ev.target;\n        while (target !== this._surface.current) {\n            var indexString = target.getAttribute('data-list-index');\n            if (indexString) {\n                this._focusedIndex = Number(indexString);\n                break;\n            }\n            target = getParent(target);\n        }\n    };\n    /**\n     * Called synchronously to reset the required render range to 0 on scrolling. After async scroll has executed,\n     * we will call onAsyncIdle which will reset it back to it's correct value.\n     */\n    List.prototype._onScroll = function () {\n        if (!this.state.isScrolling && !this.props.ignoreScrollingState) {\n            this.setState({ isScrolling: true });\n        }\n        this._resetRequiredWindows();\n        this._onScrollingDone();\n    };\n    List.prototype._resetRequiredWindows = function () {\n        this._requiredWindowsAhead = 0;\n        this._requiredWindowsBehind = 0;\n    };\n    /**\n     * Debounced method to asynchronously update the visible region on a scroll event.\n     */\n    List.prototype._onAsyncScroll = function () {\n        this._updateRenderRects(this.props, this.state);\n        // Only update pages when the visible rect falls outside of the materialized rect.\n        if (!this._materializedRect || !_isContainedWithin(this._requiredRect, this._materializedRect)) {\n            this.setState(this._updatePages(this.props, this.state));\n        }\n        else {\n            // console.log('requiredRect contained in materialized', this._requiredRect, this._materializedRect);\n        }\n    };\n    /**\n     * This is an async debounced method that will try and increment the windows we render. If we can increment\n     * either, we increase the amount we render and re-evaluate.\n     */\n    List.prototype._onAsyncIdle = function () {\n        var _a = this.props, renderedWindowsAhead = _a.renderedWindowsAhead, renderedWindowsBehind = _a.renderedWindowsBehind;\n        var _b = this, requiredWindowsAhead = _b._requiredWindowsAhead, requiredWindowsBehind = _b._requiredWindowsBehind;\n        var windowsAhead = Math.min(renderedWindowsAhead, requiredWindowsAhead + 1);\n        var windowsBehind = Math.min(renderedWindowsBehind, requiredWindowsBehind + 1);\n        if (windowsAhead !== requiredWindowsAhead || windowsBehind !== requiredWindowsBehind) {\n            // console.log('idling', windowsBehind, windowsAhead);\n            this._requiredWindowsAhead = windowsAhead;\n            this._requiredWindowsBehind = windowsBehind;\n            this._updateRenderRects(this.props, this.state);\n            this.setState(this._updatePages(this.props, this.state));\n        }\n        if (renderedWindowsAhead > windowsAhead || renderedWindowsBehind > windowsBehind) {\n            // Async increment on next tick.\n            this._onAsyncIdle();\n        }\n    };\n    /**\n     * Function to call when the list is done scrolling.\n     * This function is debounced.\n     */\n    List.prototype._onScrollingDone = function () {\n        if (!this.props.ignoreScrollingState) {\n            this.setState({ isScrolling: false });\n        }\n    };\n    List.prototype._onAsyncResize = function () {\n        this.forceUpdate();\n    };\n    List.prototype._updatePages = function (nextProps, previousState) {\n        // console.log('updating pages');\n        if (!this._requiredRect) {\n            this._updateRenderRects(nextProps, previousState);\n        }\n        var newListState = this._buildPages(nextProps, previousState);\n        var oldListPages = previousState.pages;\n        this._notifyPageChanges(oldListPages, newListState.pages, this.props);\n        return __assign(__assign({}, previousState), newListState);\n    };\n    /**\n     * Notify consumers that the rendered pages have changed\n     * @param oldPages - The old pages\n     * @param newPages - The new pages\n     * @param props - The props to use\n     */\n    List.prototype._notifyPageChanges = function (oldPages, newPages, props) {\n        var onPageAdded = props.onPageAdded, onPageRemoved = props.onPageRemoved;\n        if (onPageAdded || onPageRemoved) {\n            var renderedIndexes = {};\n            for (var _i = 0, oldPages_1 = oldPages; _i < oldPages_1.length; _i++) {\n                var page = oldPages_1[_i];\n                if (page.items) {\n                    renderedIndexes[page.startIndex] = page;\n                }\n            }\n            for (var _a = 0, newPages_1 = newPages; _a < newPages_1.length; _a++) {\n                var page = newPages_1[_a];\n                if (page.items) {\n                    if (!renderedIndexes[page.startIndex]) {\n                        this._onPageAdded(page);\n                    }\n                    else {\n                        delete renderedIndexes[page.startIndex];\n                    }\n                }\n            }\n            for (var index in renderedIndexes) {\n                if (renderedIndexes.hasOwnProperty(index)) {\n                    this._onPageRemoved(renderedIndexes[index]);\n                }\n            }\n        }\n    };\n    List.prototype._updatePageMeasurements = function (pages) {\n        var heightChanged = false;\n        // when not in virtualize mode, we render all the items without page measurement\n        if (!this._shouldVirtualize()) {\n            return heightChanged;\n        }\n        for (var i = 0; i < pages.length; i++) {\n            var page = pages[i];\n            if (page.items) {\n                heightChanged = this._measurePage(page) || heightChanged;\n            }\n        }\n        return heightChanged;\n    };\n    /**\n     * Given a page, measure its dimensions, update cache.\n     * @returns True if the height has changed.\n     */\n    List.prototype._measurePage = function (page) {\n        var hasChangedHeight = false;\n        var pageElement = this._pageRefs[page.key];\n        var cachedHeight = this._cachedPageHeights[page.startIndex];\n        // console.log('   * measure attempt', page.startIndex, cachedHeight);\n        if (pageElement &&\n            this._shouldVirtualize() &&\n            (!cachedHeight || cachedHeight.measureVersion !== this._measureVersion)) {\n            var newClientRect = {\n                width: pageElement.clientWidth,\n                height: pageElement.clientHeight,\n            };\n            if (newClientRect.height || newClientRect.width) {\n                hasChangedHeight = page.height !== newClientRect.height;\n                // console.warn(' *** expensive page measure', page.startIndex, page.height, newClientRect.height);\n                page.height = newClientRect.height;\n                this._cachedPageHeights[page.startIndex] = {\n                    height: newClientRect.height,\n                    measureVersion: this._measureVersion,\n                };\n                this._estimatedPageHeight = Math.round((this._estimatedPageHeight * this._totalEstimates + newClientRect.height) / (this._totalEstimates + 1));\n                this._totalEstimates++;\n            }\n        }\n        return hasChangedHeight;\n    };\n    /** Called when a page has been added to the DOM. */\n    List.prototype._onPageAdded = function (page) {\n        var onPageAdded = this.props.onPageAdded;\n        // console.log('page added', page.startIndex, this.state.pages.map(page => page.key).join(', '));\n        if (onPageAdded) {\n            onPageAdded(page);\n        }\n    };\n    /** Called when a page has been removed from the DOM. */\n    List.prototype._onPageRemoved = function (page) {\n        var onPageRemoved = this.props.onPageRemoved;\n        // console.log('  --- page removed', page.startIndex, this.state.pages.map(page => page.key).join(', '));\n        if (onPageRemoved) {\n            onPageRemoved(page);\n        }\n    };\n    /** Build up the pages that should be rendered. */\n    List.prototype._buildPages = function (props, state) {\n        var renderCount = props.renderCount;\n        var items = props.items, startIndex = props.startIndex, getPageHeight = props.getPageHeight;\n        renderCount = this._getRenderCount(props);\n        var materializedRect = __assign({}, EMPTY_RECT);\n        var pages = [];\n        var itemsPerPage = 1;\n        var pageTop = 0;\n        var currentSpacer = null;\n        var focusedIndex = this._focusedIndex;\n        var endIndex = startIndex + renderCount;\n        var shouldVirtualize = this._shouldVirtualize(props);\n        // First render is very important to track; when we render cells, we have no idea of estimated page height.\n        // So we should default to rendering only the first page so that we can get information.\n        // However if the user provides a measure function, let's just assume they know the right heights.\n        var isFirstRender = this._estimatedPageHeight === 0 && !getPageHeight;\n        var allowedRect = this._allowedRect;\n        var _loop_1 = function (itemIndex) {\n            var pageSpecification = this_1._getPageSpecification(itemIndex, allowedRect);\n            var pageHeight = pageSpecification.height;\n            var pageData = pageSpecification.data;\n            var key = pageSpecification.key;\n            itemsPerPage = pageSpecification.itemCount;\n            var pageBottom = pageTop + pageHeight - 1;\n            var isPageRendered = findIndex(state.pages, function (page) { return !!page.items && page.startIndex === itemIndex; }) > -1;\n            var isPageInAllowedRange = !allowedRect || (pageBottom >= allowedRect.top && pageTop <= allowedRect.bottom);\n            var isPageInRequiredRange = !this_1._requiredRect || (pageBottom >= this_1._requiredRect.top && pageTop <= this_1._requiredRect.bottom);\n            var isPageVisible = (!isFirstRender && (isPageInRequiredRange || (isPageInAllowedRange && isPageRendered))) || !shouldVirtualize;\n            var isPageFocused = focusedIndex >= itemIndex && focusedIndex < itemIndex + itemsPerPage;\n            var isFirstPage = itemIndex === startIndex;\n            // console.log('building page', itemIndex, 'pageTop: ' + pageTop, 'inAllowed: ' +\n            // isPageInAllowedRange, 'inRequired: ' + isPageInRequiredRange);\n            // Only render whats visible, focused, or first page,\n            // or when running in fast rendering mode (not in virtualized mode), we render all current items in pages\n            if (isPageVisible || isPageFocused || isFirstPage) {\n                if (currentSpacer) {\n                    pages.push(currentSpacer);\n                    currentSpacer = null;\n                }\n                var itemsInPage = Math.min(itemsPerPage, endIndex - itemIndex);\n                var newPage = this_1._createPage(key, items.slice(itemIndex, itemIndex + itemsInPage), itemIndex, undefined, undefined, pageData);\n                newPage.top = pageTop;\n                newPage.height = pageHeight;\n                if (this_1._visibleRect && this_1._visibleRect.bottom) {\n                    newPage.isVisible = pageBottom >= this_1._visibleRect.top && pageTop <= this_1._visibleRect.bottom;\n                }\n                pages.push(newPage);\n                if (isPageInRequiredRange && this_1._allowedRect) {\n                    _mergeRect(materializedRect, {\n                        top: pageTop,\n                        bottom: pageBottom,\n                        height: pageHeight,\n                        left: allowedRect.left,\n                        right: allowedRect.right,\n                        width: allowedRect.width,\n                    });\n                }\n            }\n            else {\n                if (!currentSpacer) {\n                    currentSpacer = this_1._createPage(SPACER_KEY_PREFIX + itemIndex, undefined, itemIndex, 0, undefined, pageData, true /*isSpacer*/);\n                }\n                currentSpacer.height = (currentSpacer.height || 0) + (pageBottom - pageTop) + 1;\n                currentSpacer.itemCount += itemsPerPage;\n            }\n            pageTop += pageBottom - pageTop + 1;\n            // in virtualized mode, we render need to render first page then break and measure,\n            // otherwise, we render all items without measurement to make rendering fast\n            if (isFirstRender && shouldVirtualize) {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var itemIndex = startIndex; itemIndex < endIndex; itemIndex += itemsPerPage) {\n            var state_1 = _loop_1(itemIndex);\n            if (state_1 === \"break\")\n                break;\n        }\n        if (currentSpacer) {\n            currentSpacer.key = SPACER_KEY_PREFIX + 'end';\n            pages.push(currentSpacer);\n        }\n        this._materializedRect = materializedRect;\n        // console.log('materialized: ', materializedRect);\n        return __assign(__assign({}, state), { pages: pages, measureVersion: this._measureVersion });\n    };\n    List.prototype._getPageSpecification = function (itemIndex, visibleRect) {\n        var getPageSpecification = this.props.getPageSpecification;\n        if (getPageSpecification) {\n            var pageData = getPageSpecification(itemIndex, visibleRect);\n            var _a = pageData.itemCount, itemCount = _a === void 0 ? this._getItemCountForPage(itemIndex, visibleRect) : _a;\n            var _b = pageData.height, height = _b === void 0 ? this._getPageHeight(itemIndex, visibleRect, itemCount) : _b;\n            return {\n                itemCount: itemCount,\n                height: height,\n                data: pageData.data,\n                key: pageData.key,\n            };\n        }\n        else {\n            var itemCount = this._getItemCountForPage(itemIndex, visibleRect);\n            return {\n                itemCount: itemCount,\n                height: this._getPageHeight(itemIndex, visibleRect, itemCount),\n            };\n        }\n    };\n    /**\n     * Get the pixel height of a give page. Will use the props getPageHeight first, and if not provided, fallback to\n     * cached height, or estimated page height, or default page height.\n     */\n    List.prototype._getPageHeight = function (itemIndex, visibleRect, itemsPerPage) {\n        if (this.props.getPageHeight) {\n            return this.props.getPageHeight(itemIndex, visibleRect, itemsPerPage);\n        }\n        else {\n            var cachedHeight = this._cachedPageHeights[itemIndex];\n            return cachedHeight ? cachedHeight.height : this._estimatedPageHeight || DEFAULT_PAGE_HEIGHT;\n        }\n    };\n    List.prototype._getItemCountForPage = function (itemIndex, visibileRect) {\n        var itemsPerPage = this.props.getItemCountForPage\n            ? this.props.getItemCountForPage(itemIndex, visibileRect)\n            : DEFAULT_ITEMS_PER_PAGE;\n        return itemsPerPage ? itemsPerPage : DEFAULT_ITEMS_PER_PAGE;\n    };\n    List.prototype._createPage = function (pageKey, items, startIndex, count, style, data, isSpacer) {\n        if (startIndex === void 0) { startIndex = -1; }\n        if (count === void 0) { count = items ? items.length : 0; }\n        if (style === void 0) { style = {}; }\n        pageKey = pageKey || PAGE_KEY_PREFIX + startIndex;\n        var cachedPage = this._pageCache[pageKey];\n        if (cachedPage && cachedPage.page) {\n            return cachedPage.page;\n        }\n        return {\n            key: pageKey,\n            startIndex: startIndex,\n            itemCount: count,\n            items: items,\n            style: style,\n            top: 0,\n            height: 0,\n            data: data,\n            isSpacer: isSpacer || false,\n        };\n    };\n    List.prototype._getRenderCount = function (props) {\n        var _a = props || this.props, items = _a.items, startIndex = _a.startIndex, renderCount = _a.renderCount;\n        return renderCount === undefined ? (items ? items.length - startIndex : 0) : renderCount;\n    };\n    /** Calculate the visible rect within the list where top: 0 and left: 0 is the top/left of the list. */\n    List.prototype._updateRenderRects = function (props, state, forceUpdate) {\n        var renderedWindowsAhead = props.renderedWindowsAhead, renderedWindowsBehind = props.renderedWindowsBehind;\n        var pages = state.pages;\n        // when not in virtualize mode, we render all items without measurement to optimize page rendering perf\n        if (!this._shouldVirtualize(props)) {\n            return;\n        }\n        var surfaceRect = this._surfaceRect || __assign({}, EMPTY_RECT);\n        var scrollHeight = this._scrollElement && this._scrollElement.scrollHeight;\n        var scrollTop = this._scrollElement ? this._scrollElement.scrollTop : 0;\n        // WARNING: EXPENSIVE CALL! We need to know the surface top relative to the window.\n        // This needs to be called to recalculate when new pages should be loaded.\n        // We check to see how far we've scrolled and if it's further than a third of a page we run it again.\n        if (this._surface.current &&\n            (forceUpdate ||\n                !pages ||\n                !this._surfaceRect ||\n                !scrollHeight ||\n                scrollHeight !== this._scrollHeight ||\n                Math.abs(this._scrollTop - scrollTop) > this._estimatedPageHeight / 3)) {\n            surfaceRect = this._surfaceRect = _measureSurfaceRect(this._surface.current);\n            this._scrollTop = scrollTop;\n        }\n        // If the scroll height has changed, something in the container likely resized and\n        // we should redo the page heights incase their content resized.\n        if (forceUpdate || !scrollHeight || scrollHeight !== this._scrollHeight) {\n            this._measureVersion++;\n        }\n        this._scrollHeight = scrollHeight || 0;\n        // If the surface is above the container top or below the container bottom, or if this is not the first\n        // render return empty rect.\n        // The first time the list gets rendered we need to calculate the rectangle. The width of the list is\n        // used to calculate the width of the list items.\n        var visibleTop = Math.max(0, -surfaceRect.top);\n        var win = getWindow(this._root.current);\n        var visibleRect = {\n            top: visibleTop,\n            left: surfaceRect.left,\n            bottom: visibleTop + win.innerHeight,\n            right: surfaceRect.right,\n            width: surfaceRect.width,\n            height: win.innerHeight,\n        };\n        // The required/allowed rects are adjusted versions of the visible rect.\n        this._requiredRect = _expandRect(visibleRect, this._requiredWindowsBehind, this._requiredWindowsAhead);\n        this._allowedRect = _expandRect(visibleRect, renderedWindowsBehind, renderedWindowsAhead);\n        // store the visible rect for later use.\n        this._visibleRect = visibleRect;\n    };\n    List.defaultProps = {\n        startIndex: 0,\n        onRenderCell: function (item, index, containsFocus) { return React.createElement(React.Fragment, null, (item && item.name) || ''); },\n        renderedWindowsAhead: DEFAULT_RENDERED_WINDOWS_AHEAD,\n        renderedWindowsBehind: DEFAULT_RENDERED_WINDOWS_BEHIND,\n    };\n    return List;\n}(React.Component));\nexport { List };\nfunction _expandRect(rect, pagesBefore, pagesAfter) {\n    var top = rect.top - pagesBefore * rect.height;\n    var height = rect.height + (pagesBefore + pagesAfter) * rect.height;\n    return {\n        top: top,\n        bottom: top + height,\n        height: height,\n        left: rect.left,\n        right: rect.right,\n        width: rect.width,\n    };\n}\nfunction _isContainedWithin(innerRect, outerRect) {\n    return (innerRect.top >= outerRect.top &&\n        innerRect.left >= outerRect.left &&\n        innerRect.bottom <= outerRect.bottom &&\n        innerRect.right <= outerRect.right);\n}\nfunction _mergeRect(targetRect, newRect) {\n    targetRect.top = newRect.top < targetRect.top || targetRect.top === -1 ? newRect.top : targetRect.top;\n    targetRect.left = newRect.left < targetRect.left || targetRect.left === -1 ? newRect.left : targetRect.left;\n    targetRect.bottom =\n        newRect.bottom > targetRect.bottom || targetRect.bottom === -1 ? newRect.bottom : targetRect.bottom;\n    targetRect.right = newRect.right > targetRect.right || targetRect.right === -1 ? newRect.right : targetRect.right;\n    targetRect.width = targetRect.right - targetRect.left + 1;\n    targetRect.height = targetRect.bottom - targetRect.top + 1;\n    return targetRect;\n}\n//# sourceMappingURL=List.js.map","/**\n * {@docCategory List}\n */\nexport var ScrollToMode = {\n    /**\n     * Does not make any consideration to where in the viewport the item should align to.\n     */\n    auto: 0,\n    /**\n     * Attempts to scroll the list so the top of the desired item is aligned with the top of the viewport.\n     */\n    top: 1,\n    /**\n     * Attempts to scroll the list so the bottom of the desired item is aligned with the bottom of the viewport.\n     */\n    bottom: 2,\n    /**\n     * Attempts to scroll the list so the desired item is in the exact center of the viewport.\n     */\n    center: 3,\n};\n//# sourceMappingURL=List.types.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Async, EventGroup, AutoScroll, classNamesFunction, findScrollableParent, getDistanceBetweenPoints, getRTL, initializeComponentRef, } from '../../Utilities';\nvar getClassNames = classNamesFunction();\n// We want to make the marquee selection start when the user drags a minimum distance. Otherwise we'd start\n// the drag even if they just click an item without moving.\nvar MIN_DRAG_DISTANCE = 5;\n/**\n * MarqueeSelection component abstracts managing a draggable rectangle which sets items selected/not selected.\n * Elements which have data-selectable-index attributes are queried and measured once to determine if they\n * fall within the bounds of the rectangle. The measure is memoized during the drag as a performance optimization\n * so if the items change sizes while dragging, that could cause incorrect results.\n */\nvar MarqueeSelectionBase = /** @class */ (function (_super) {\n    __extends(MarqueeSelectionBase, _super);\n    function MarqueeSelectionBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._root = React.createRef();\n        _this._onMouseDown = function (ev) {\n            var _a = _this.props, isEnabled = _a.isEnabled, onShouldStartSelection = _a.onShouldStartSelection;\n            // Ensure the mousedown is within the boundaries of the target. If not, it may have been a click on a scrollbar.\n            if (_this._isMouseEventOnScrollbar(ev)) {\n                return;\n            }\n            if (_this._isInSelectionToggle(ev)) {\n                return;\n            }\n            if (!_this._isTouch &&\n                isEnabled &&\n                !_this._isDragStartInSelection(ev) &&\n                (!onShouldStartSelection || onShouldStartSelection(ev))) {\n                if (_this._scrollableSurface && ev.button === 0 && _this._root.current) {\n                    _this._selectedIndicies = {};\n                    _this._preservedIndicies = undefined;\n                    _this._events.on(window, 'mousemove', _this._onAsyncMouseMove, true);\n                    _this._events.on(_this._scrollableParent, 'scroll', _this._onAsyncMouseMove);\n                    _this._events.on(window, 'click', _this._onMouseUp, true);\n                    _this._autoScroll = new AutoScroll(_this._root.current);\n                    _this._scrollTop = _this._scrollableSurface.scrollTop;\n                    _this._scrollLeft = _this._scrollableSurface.scrollLeft;\n                    _this._rootRect = _this._root.current.getBoundingClientRect();\n                    _this._onMouseMove(ev);\n                }\n            }\n        };\n        _this._onTouchStart = function (ev) {\n            _this._isTouch = true;\n            _this._async.setTimeout(function () {\n                _this._isTouch = false;\n            }, 0);\n        };\n        _this._onPointerDown = function (ev) {\n            if (ev.pointerType === 'touch') {\n                _this._isTouch = true;\n                _this._async.setTimeout(function () {\n                    _this._isTouch = false;\n                }, 0);\n            }\n        };\n        initializeComponentRef(_this);\n        _this._async = new Async(_this);\n        _this._events = new EventGroup(_this);\n        _this.state = {\n            dragRect: undefined,\n        };\n        return _this;\n    }\n    MarqueeSelectionBase.prototype.componentDidMount = function () {\n        this._scrollableParent = findScrollableParent(this._root.current);\n        this._scrollableSurface = this._scrollableParent === window ? document.body : this._scrollableParent;\n        // When scroll events come from window, we need to read scrollTop values from the body.\n        var hitTarget = this.props.isDraggingConstrainedToRoot ? this._root.current : this._scrollableSurface;\n        this._events.on(hitTarget, 'mousedown', this._onMouseDown);\n        this._events.on(hitTarget, 'touchstart', this._onTouchStart, true);\n        this._events.on(hitTarget, 'pointerdown', this._onPointerDown, true);\n    };\n    MarqueeSelectionBase.prototype.componentWillUnmount = function () {\n        if (this._autoScroll) {\n            this._autoScroll.dispose();\n        }\n        delete this._scrollableParent;\n        delete this._scrollableSurface;\n        this._events.dispose();\n        this._async.dispose();\n    };\n    MarqueeSelectionBase.prototype.render = function () {\n        var _a = this.props, rootProps = _a.rootProps, children = _a.children, theme = _a.theme, className = _a.className, styles = _a.styles;\n        var dragRect = this.state.dragRect;\n        var classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n        });\n        return (React.createElement(\"div\", __assign({}, rootProps, { className: classNames.root, ref: this._root }),\n            children,\n            dragRect && React.createElement(\"div\", { className: classNames.dragMask }),\n            dragRect && (React.createElement(\"div\", { className: classNames.box, style: dragRect },\n                React.createElement(\"div\", { className: classNames.boxFill })))));\n    };\n    /** Determine if the mouse event occured on a scrollbar of the target element. */\n    MarqueeSelectionBase.prototype._isMouseEventOnScrollbar = function (ev) {\n        var targetElement = ev.target;\n        var targetScrollbarWidth = targetElement.offsetWidth - targetElement.clientWidth;\n        if (targetScrollbarWidth) {\n            var targetRect = targetElement.getBoundingClientRect();\n            // Check vertical scroll\n            if (getRTL(this.props.theme)) {\n                if (ev.clientX < targetRect.left + targetScrollbarWidth) {\n                    return true;\n                }\n            }\n            else {\n                if (ev.clientX > targetRect.left + targetElement.clientWidth) {\n                    return true;\n                }\n            }\n            // Check horizontal scroll\n            if (ev.clientY > targetRect.top + targetElement.clientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MarqueeSelectionBase.prototype._getRootRect = function () {\n        return {\n            left: this._rootRect.left +\n                (this._scrollableSurface ? this._scrollLeft - this._scrollableSurface.scrollLeft : this._scrollLeft),\n            top: this._rootRect.top +\n                (this._scrollableSurface ? this._scrollTop - this._scrollableSurface.scrollTop : this._scrollTop),\n            width: this._rootRect.width,\n            height: this._rootRect.height,\n        };\n    };\n    MarqueeSelectionBase.prototype._onAsyncMouseMove = function (ev) {\n        var _this = this;\n        this._async.requestAnimationFrame(function () {\n            _this._onMouseMove(ev);\n        });\n        ev.stopPropagation();\n        ev.preventDefault();\n    };\n    MarqueeSelectionBase.prototype._onMouseMove = function (ev) {\n        if (!this._autoScroll) {\n            return;\n        }\n        if (ev.clientX !== undefined) {\n            this._lastMouseEvent = ev;\n        }\n        var rootRect = this._getRootRect();\n        var currentPoint = { left: ev.clientX - rootRect.left, top: ev.clientY - rootRect.top };\n        if (!this._dragOrigin) {\n            this._dragOrigin = currentPoint;\n        }\n        if (ev.buttons !== undefined && ev.buttons === 0) {\n            this._onMouseUp(ev);\n        }\n        else {\n            if (this.state.dragRect || getDistanceBetweenPoints(this._dragOrigin, currentPoint) > MIN_DRAG_DISTANCE) {\n                if (!this.state.dragRect) {\n                    var selection = this.props.selection;\n                    if (!ev.shiftKey) {\n                        selection.setAllSelected(false);\n                    }\n                    this._preservedIndicies = selection && selection.getSelectedIndices && selection.getSelectedIndices();\n                }\n                // We need to constrain the current point to the rootRect boundaries.\n                var constrainedPoint = this.props.isDraggingConstrainedToRoot\n                    ? {\n                        left: Math.max(0, Math.min(rootRect.width, this._lastMouseEvent.clientX - rootRect.left)),\n                        top: Math.max(0, Math.min(rootRect.height, this._lastMouseEvent.clientY - rootRect.top)),\n                    }\n                    : {\n                        left: this._lastMouseEvent.clientX - rootRect.left,\n                        top: this._lastMouseEvent.clientY - rootRect.top,\n                    };\n                var dragRect = {\n                    left: Math.min(this._dragOrigin.left || 0, constrainedPoint.left),\n                    top: Math.min(this._dragOrigin.top || 0, constrainedPoint.top),\n                    width: Math.abs(constrainedPoint.left - (this._dragOrigin.left || 0)),\n                    height: Math.abs(constrainedPoint.top - (this._dragOrigin.top || 0)),\n                };\n                this._evaluateSelection(dragRect, rootRect);\n                this.setState({ dragRect: dragRect });\n            }\n        }\n        return false;\n    };\n    MarqueeSelectionBase.prototype._onMouseUp = function (ev) {\n        this._events.off(window);\n        this._events.off(this._scrollableParent, 'scroll');\n        if (this._autoScroll) {\n            this._autoScroll.dispose();\n        }\n        this._autoScroll = this._dragOrigin = this._lastMouseEvent = undefined;\n        this._selectedIndicies = this._itemRectCache = undefined;\n        if (this.state.dragRect) {\n            this.setState({\n                dragRect: undefined,\n            });\n            ev.preventDefault();\n            ev.stopPropagation();\n        }\n    };\n    MarqueeSelectionBase.prototype._isPointInRectangle = function (rectangle, point) {\n        return (!!point.top &&\n            rectangle.top < point.top &&\n            rectangle.bottom > point.top &&\n            !!point.left &&\n            rectangle.left < point.left &&\n            rectangle.right > point.left);\n    };\n    /**\n     * We do not want to start the marquee if we're trying to marquee\n     * from within an existing marquee selection.\n     */\n    MarqueeSelectionBase.prototype._isDragStartInSelection = function (ev) {\n        var selection = this.props.selection;\n        if (!this._root.current || (selection && selection.getSelectedCount() === 0)) {\n            return false;\n        }\n        var allElements = this._root.current.querySelectorAll('[data-selection-index]');\n        for (var i = 0; i < allElements.length; i++) {\n            var element = allElements[i];\n            var index = Number(element.getAttribute('data-selection-index'));\n            if (selection.isIndexSelected(index)) {\n                var itemRect = element.getBoundingClientRect();\n                if (this._isPointInRectangle(itemRect, { left: ev.clientX, top: ev.clientY })) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    MarqueeSelectionBase.prototype._isInSelectionToggle = function (ev) {\n        var element = ev.target;\n        while (element && element !== this._root.current) {\n            if (element.getAttribute('data-selection-toggle') === 'true') {\n                return true;\n            }\n            element = element.parentElement;\n        }\n        return false;\n    };\n    MarqueeSelectionBase.prototype._evaluateSelection = function (dragRect, rootRect) {\n        // Break early if we don't need to evaluate.\n        if (!dragRect || !this._root.current) {\n            return;\n        }\n        var selection = this.props.selection;\n        var allElements = this._root.current.querySelectorAll('[data-selection-index]');\n        if (!this._itemRectCache) {\n            this._itemRectCache = {};\n        }\n        for (var i = 0; i < allElements.length; i++) {\n            var element = allElements[i];\n            var index = element.getAttribute('data-selection-index');\n            // Pull the memoized rectangle for the item, or the get the rect and memoize.\n            var itemRect = this._itemRectCache[index];\n            if (!itemRect) {\n                itemRect = element.getBoundingClientRect();\n                // Normalize the item rect to the dragRect coordinates.\n                itemRect = {\n                    left: itemRect.left - rootRect.left,\n                    top: itemRect.top - rootRect.top,\n                    width: itemRect.width,\n                    height: itemRect.height,\n                    right: itemRect.left - rootRect.left + itemRect.width,\n                    bottom: itemRect.top - rootRect.top + itemRect.height,\n                };\n                if (itemRect.width > 0 && itemRect.height > 0) {\n                    this._itemRectCache[index] = itemRect;\n                }\n            }\n            if (itemRect.top < dragRect.top + dragRect.height &&\n                itemRect.bottom > dragRect.top &&\n                itemRect.left < dragRect.left + dragRect.width &&\n                itemRect.right > dragRect.left) {\n                this._selectedIndicies[index] = true;\n            }\n            else {\n                delete this._selectedIndicies[index];\n            }\n        }\n        // set previousSelectedIndices to be all of the selected indices from last time\n        var previousSelectedIndices = this._allSelectedIndices || {};\n        this._allSelectedIndices = {};\n        // set all indices that are supposed to be selected in _allSelectedIndices\n        for (var index in this._selectedIndicies) {\n            if (this._selectedIndicies.hasOwnProperty(index)) {\n                this._allSelectedIndices[index] = true;\n            }\n        }\n        if (this._preservedIndicies) {\n            for (var _i = 0, _a = this._preservedIndicies; _i < _a.length; _i++) {\n                var index = _a[_i];\n                this._allSelectedIndices[index] = true;\n            }\n        }\n        // check if needs to update selection, only when current _allSelectedIndices\n        // is different than previousSelectedIndices\n        var needToUpdate = false;\n        for (var index in this._allSelectedIndices) {\n            if (this._allSelectedIndices[index] !== previousSelectedIndices[index]) {\n                needToUpdate = true;\n                break;\n            }\n        }\n        if (!needToUpdate) {\n            for (var index in previousSelectedIndices) {\n                if (this._allSelectedIndices[index] !== previousSelectedIndices[index]) {\n                    needToUpdate = true;\n                    break;\n                }\n            }\n        }\n        // only update selection when needed\n        if (needToUpdate) {\n            // Stop change events, clear selection to re-populate.\n            selection.setChangeEvents(false);\n            selection.setAllSelected(false);\n            for (var _b = 0, _c = Object.keys(this._allSelectedIndices); _b < _c.length; _b++) {\n                var index = _c[_b];\n                selection.setIndexSelected(Number(index), true, false);\n            }\n            selection.setChangeEvents(true);\n        }\n    };\n    MarqueeSelectionBase.defaultProps = {\n        rootTagName: 'div',\n        rootProps: {},\n        isEnabled: true,\n    };\n    return MarqueeSelectionBase;\n}(React.Component));\nexport { MarqueeSelectionBase };\n//# sourceMappingURL=MarqueeSelection.base.js.map","import { styled } from '../../Utilities';\nimport { MarqueeSelectionBase } from './MarqueeSelection.base';\nimport { getStyles } from './MarqueeSelection.styles';\nexport var MarqueeSelection = \n// TODO: MarqueeSelectionBase defaultProps are not lining up with IMarqueeSelectionProps, so we have to be explicit\n// with styled here. defaultProps.rootTagName doesn't appear to be used anywhere and defaultProps.rootProps is not\n// in IMarqueeSelectionProps.\nstyled(MarqueeSelectionBase, getStyles, undefined, {\n    scope: 'MarqueeSelection',\n});\n//# sourceMappingURL=MarqueeSelection.js.map","import { HighContrastSelector } from '../../Styling';\nexport var getStyles = function (props) {\n    var _a, _b, _c;\n    var theme = props.theme, className = props.className;\n    var palette = theme.palette;\n    return {\n        root: [\n            className,\n            {\n                position: 'relative',\n                cursor: 'default',\n            },\n        ],\n        dragMask: [\n            {\n                position: 'absolute',\n                background: 'rgba(255, 0, 0, 0)',\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0,\n                selectors: (_a = {},\n                    _a[HighContrastSelector] = {\n                        background: 'none',\n                        backgroundColor: 'transparent',\n                    },\n                    _a),\n            },\n        ],\n        box: [\n            {\n                position: 'absolute',\n                boxSizing: 'border-box',\n                border: \"1px solid \" + palette.themePrimary,\n                pointerEvents: 'none',\n                zIndex: 10,\n                selectors: (_b = {},\n                    _b[HighContrastSelector] = {\n                        borderColor: 'Highlight',\n                    },\n                    _b),\n            },\n        ],\n        boxFill: [\n            {\n                position: 'absolute',\n                boxSizing: 'border-box',\n                backgroundColor: palette.themePrimary,\n                opacity: 0.1,\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0,\n                selectors: (_c = {},\n                    _c[HighContrastSelector] = {\n                        background: 'none',\n                        backgroundColor: 'transparent',\n                    },\n                    _c),\n            },\n        ],\n    };\n};\n//# sourceMappingURL=MarqueeSelection.styles.js.map","import { memoizeFunction } from '../../Utilities';\nimport { mergeStyles } from '../../Styling';\nexport var getClassNames = memoizeFunction(function (className, isDragging) {\n    return {\n        root: mergeStyles(className, isDragging && {\n            touchAction: 'none',\n            selectors: {\n                '& *': {\n                    userSelect: 'none',\n                },\n            },\n        }),\n    };\n});\n//# sourceMappingURL=DraggableZone.styles.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { getClassNames } from './DraggableZone.styles';\nimport { on } from '../../Utilities';\nvar eventMapping = {\n    touch: {\n        start: 'touchstart',\n        move: 'touchmove',\n        stop: 'touchend',\n    },\n    mouse: {\n        start: 'mousedown',\n        move: 'mousemove',\n        stop: 'mouseup',\n    },\n};\nvar DraggableZone = /** @class */ (function (_super) {\n    __extends(DraggableZone, _super);\n    function DraggableZone(props) {\n        var _this = _super.call(this, props) || this;\n        _this._currentEventType = eventMapping.mouse;\n        _this._events = [];\n        _this._onMouseDown = function (event) {\n            var onMouseDown = React.Children.only(_this.props.children).props.onMouseDown;\n            if (onMouseDown) {\n                onMouseDown(event);\n            }\n            _this._currentEventType = eventMapping.mouse;\n            return _this._onDragStart(event);\n        };\n        _this._onMouseUp = function (event) {\n            var onMouseUp = React.Children.only(_this.props.children).props.onMouseUp;\n            if (onMouseUp) {\n                onMouseUp(event);\n            }\n            _this._currentEventType = eventMapping.mouse;\n            return _this._onDragStop(event);\n        };\n        _this._onTouchStart = function (event) {\n            var onTouchStart = React.Children.only(_this.props.children).props.onTouchStart;\n            if (onTouchStart) {\n                onTouchStart(event);\n            }\n            _this._currentEventType = eventMapping.touch;\n            return _this._onDragStart(event);\n        };\n        _this._onTouchEnd = function (event) {\n            var onTouchEnd = React.Children.only(_this.props.children).props.onTouchEnd;\n            if (onTouchEnd) {\n                onTouchEnd(event);\n            }\n            _this._currentEventType = eventMapping.touch;\n            _this._onDragStop(event);\n        };\n        _this._onDragStart = function (event) {\n            // Only handle left click for dragging\n            if (typeof event.button === 'number' && event.button !== 0) {\n                return false;\n            }\n            // If the target doesn't match the handleSelector OR\n            // if the target does match the preventDragSelector, bail out\n            if ((_this.props.handleSelector && !_this._matchesSelector(event.target, _this.props.handleSelector)) ||\n                (_this.props.preventDragSelector &&\n                    _this._matchesSelector(event.target, _this.props.preventDragSelector))) {\n                return;\n            }\n            // Remember the touch identifier if this is a touch event so we can\n            // distinguish between individual touches in multitouch scenarios\n            // by remembering which touch point we were given\n            _this._touchId = _this._getTouchId(event);\n            var position = _this._getControlPosition(event);\n            if (position === undefined) {\n                return;\n            }\n            var dragData = _this._createDragDataFromPosition(position);\n            _this.props.onStart && _this.props.onStart(event, dragData);\n            _this.setState({\n                isDragging: true,\n                lastPosition: position,\n            });\n            // hook up the appropriate mouse/touch events to the body to ensure\n            // smooth dragging\n            _this._events = [\n                on(document.body, _this._currentEventType.move, _this._onDrag, true /* use capture phase */),\n                on(document.body, _this._currentEventType.stop, _this._onDragStop, true /* use capture phase */),\n            ];\n        };\n        _this._onDrag = function (event) {\n            // Prevent scrolling on mobile devices\n            if (event.type === 'touchmove') {\n                event.preventDefault();\n            }\n            var position = _this._getControlPosition(event);\n            if (!position) {\n                return;\n            }\n            // create the updated drag data from the position data\n            var updatedData = _this._createUpdatedDragData(_this._createDragDataFromPosition(position));\n            var updatedPosition = updatedData.position;\n            _this.props.onDragChange && _this.props.onDragChange(event, updatedData);\n            _this.setState({\n                position: updatedPosition,\n                lastPosition: position,\n            });\n        };\n        _this._onDragStop = function (event) {\n            if (!_this.state.isDragging) {\n                return;\n            }\n            var position = _this._getControlPosition(event);\n            if (!position) {\n                return;\n            }\n            var baseDragData = _this._createDragDataFromPosition(position);\n            // Set dragging to false and reset the lastPosition\n            _this.setState({\n                isDragging: false,\n                lastPosition: undefined,\n            });\n            _this.props.onStop && _this.props.onStop(event, baseDragData);\n            if (_this.props.position) {\n                _this.setState({\n                    position: _this.props.position,\n                });\n            }\n            // Remove event handlers\n            _this._events.forEach(function (dispose) { return dispose(); });\n        };\n        _this.state = {\n            isDragging: false,\n            position: _this.props.position || { x: 0, y: 0 },\n            lastPosition: undefined,\n        };\n        return _this;\n    }\n    DraggableZone.prototype.componentDidUpdate = function (prevProps) {\n        if (this.props.position && (!prevProps.position || this.props.position !== prevProps.position)) {\n            this.setState({ position: this.props.position });\n        }\n    };\n    DraggableZone.prototype.componentWillUnmount = function () {\n        this._events.forEach(function (dispose) { return dispose(); });\n    };\n    DraggableZone.prototype.render = function () {\n        var child = React.Children.only(this.props.children);\n        var props = child.props;\n        var position = this.props.position;\n        var _a = this.state, statePosition = _a.position, isDragging = _a.isDragging;\n        var x = statePosition.x;\n        var y = statePosition.y;\n        if (position && !isDragging) {\n            x = position.x;\n            y = position.y;\n        }\n        return React.cloneElement(child, {\n            style: __assign(__assign({}, props.style), { transform: \"translate(\" + x + \"px, \" + y + \"px)\" }),\n            className: getClassNames(props.className, this.state.isDragging).root,\n            onMouseDown: this._onMouseDown,\n            onMouseUp: this._onMouseUp,\n            onTouchStart: this._onTouchStart,\n            onTouchEnd: this._onTouchEnd,\n        });\n    };\n    /**\n     * Get the control position based off the event that fired\n     * @param event - The event to get offsets from\n     */\n    DraggableZone.prototype._getControlPosition = function (event) {\n        var touchObj = this._getActiveTouch(event);\n        // did we get the right touch?\n        if (this._touchId !== undefined && !touchObj) {\n            return undefined;\n        }\n        var eventToGetOffset = touchObj || event;\n        return {\n            x: eventToGetOffset.clientX,\n            y: eventToGetOffset.clientY,\n        };\n    };\n    /**\n     * Get the active touch point that we have saved from the event's TouchList\n     * @param event - The event used to get the TouchList for the active touch point\n     */\n    DraggableZone.prototype._getActiveTouch = function (event) {\n        return ((event.targetTouches && this._findTouchInTouchList(event.targetTouches)) ||\n            (event.changedTouches && this._findTouchInTouchList(event.changedTouches)));\n    };\n    /**\n     * Get the initial touch identifier associated with the given event\n     * @param event - The event that contains the TouchList\n     */\n    DraggableZone.prototype._getTouchId = function (event) {\n        var touch = (event.targetTouches && event.targetTouches[0]) || (event.changedTouches && event.changedTouches[0]);\n        if (touch) {\n            return touch.identifier;\n        }\n    };\n    /**\n     * Returns if an element (or any of the element's parents) match the given selector\n     */\n    DraggableZone.prototype._matchesSelector = function (element, selector) {\n        if (!element || element === document.body) {\n            return false;\n        }\n        var matchesSelectorFn = element.matches || element.webkitMatchesSelector || element.msMatchesSelector; /* for IE */\n        if (!matchesSelectorFn) {\n            return false;\n        }\n        return matchesSelectorFn.call(element, selector) || this._matchesSelector(element.parentElement, selector);\n    };\n    /**\n     * Attempts to find the Touch that matches the identifier  we stored in dragStart\n     * @param touchList The TouchList to look for the stored identifier from dragStart\n     */\n    DraggableZone.prototype._findTouchInTouchList = function (touchList) {\n        if (this._touchId === undefined) {\n            return;\n        }\n        for (var i = 0; i < touchList.length; i++) {\n            if (touchList[i].identifier === this._touchId) {\n                return touchList[i];\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Create DragData based off of the last known position and the new position passed in\n     * @param position The new position as part of the drag\n     */\n    DraggableZone.prototype._createDragDataFromPosition = function (position) {\n        var lastPosition = this.state.lastPosition;\n        // If we have no lastPosition, use the given position\n        // for last position\n        if (lastPosition === undefined) {\n            return {\n                delta: { x: 0, y: 0 },\n                lastPosition: position,\n                position: position,\n            };\n        }\n        return {\n            delta: {\n                x: position.x - lastPosition.x,\n                y: position.y - lastPosition.y,\n            },\n            lastPosition: lastPosition,\n            position: position,\n        };\n    };\n    /**\n     * Creates an updated DragData based off the current position and given baseDragData\n     * @param baseDragData The base DragData (from _createDragDataFromPosition) used to calculate the updated positions\n     */\n    DraggableZone.prototype._createUpdatedDragData = function (baseDragData) {\n        var position = this.state.position;\n        return {\n            position: {\n                x: position.x + baseDragData.delta.x,\n                y: position.y + baseDragData.delta.y,\n            },\n            delta: baseDragData.delta,\n            lastPosition: position,\n        };\n    };\n    return DraggableZone;\n}(React.Component));\nexport { DraggableZone };\n//# sourceMappingURL=DraggableZone.js.map","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, allowScrollOnElement, allowOverscrollOnElement, getPropsWithDefaults, KeyCodes, elementContains, EventGroup, } from '../../Utilities';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { animationDuration } from './Modal.styles';\nimport { Overlay } from '../../Overlay';\nimport { Layer } from '../../Layer';\nimport { Popup } from '../../Popup';\nimport { ResponsiveMode, useResponsiveMode } from '../../ResponsiveMode';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { Icon } from '../../Icon';\nimport { DraggableZone } from '../../utilities/DraggableZone/index';\nimport { useWindow } from '@fluentui/react-window-provider';\nimport { useBoolean, useMergedRefs, useWarnings, useConst, useSetTimeout, useId, useUnmount, } from '@fluentui/react-hooks';\nvar ZERO = { x: 0, y: 0 };\nvar DEFAULT_PROPS = {\n    isOpen: false,\n    isDarkOverlay: true,\n    className: '',\n    containerClassName: '',\n};\nvar getClassNames = classNamesFunction();\nvar getMoveDelta = function (ev) {\n    var delta = 10;\n    if (ev.shiftKey) {\n        if (!ev.ctrlKey) {\n            delta = 50;\n        }\n    }\n    else if (ev.ctrlKey) {\n        delta = 1;\n    }\n    return delta;\n};\nvar useComponentRef = function (props, focusTrapZone) {\n    React.useImperativeHandle(props.componentRef, function () { return ({\n        focus: function () {\n            if (focusTrapZone.current) {\n                focusTrapZone.current.focus();\n            }\n        },\n    }); }, [focusTrapZone]);\n};\nexport var ModalBase = React.forwardRef(function (propsWithoutDefaults, ref) {\n    var props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n    var allowTouchBodyScroll = props.allowTouchBodyScroll, className = props.className, children = props.children, containerClassName = props.containerClassName, scrollableContentClassName = props.scrollableContentClassName, elementToFocusOnDismiss = props.elementToFocusOnDismiss, firstFocusableSelector = props.firstFocusableSelector, forceFocusInsideTrap = props.forceFocusInsideTrap, ignoreExternalFocusing = props.ignoreExternalFocusing, isBlocking = props.isBlocking, isClickableOutsideFocusTrap = props.isClickableOutsideFocusTrap, isDarkOverlay = props.isDarkOverlay, onDismiss = props.onDismiss, layerProps = props.layerProps, overlay = props.overlay, isOpen = props.isOpen, titleAriaId = props.titleAriaId, styles = props.styles, subtitleAriaId = props.subtitleAriaId, theme = props.theme, topOffsetFixed = props.topOffsetFixed, responsiveMode = props.responsiveMode, \n    // eslint-disable-next-line deprecation/deprecation\n    onLayerDidMount = props.onLayerDidMount, isModeless = props.isModeless, dragOptions = props.dragOptions, onDismissed = props.onDismissed, enableAriaHiddenSiblings = props.enableAriaHiddenSiblings;\n    var rootRef = React.useRef(null);\n    var focusTrapZone = React.useRef(null);\n    var focusTrapZoneElm = React.useRef(null);\n    var mergedRef = useMergedRefs(rootRef, ref);\n    var modalResponsiveMode = useResponsiveMode(mergedRef);\n    var focusTrapZoneId = useId('ModalFocusTrapZone');\n    var win = useWindow();\n    var _a = useSetTimeout(), setTimeout = _a.setTimeout, clearTimeout = _a.clearTimeout;\n    var _b = React.useState(isOpen), isModalOpen = _b[0], setIsModalOpen = _b[1];\n    var _c = React.useState(isOpen), isVisible = _c[0], setIsVisible = _c[1];\n    var _d = React.useState(ZERO), coordinates = _d[0], setCoordinates = _d[1];\n    var _e = React.useState(), modalRectangleTop = _e[0], setModalRectangleTop = _e[1];\n    var _f = useBoolean(false), isModalMenuOpen = _f[0], _g = _f[1], toggleModalMenuOpen = _g.toggle, setModalMenuClose = _g.setFalse;\n    var internalState = useConst(function () { return ({\n        onModalCloseTimer: 0,\n        allowTouchBodyScroll: allowTouchBodyScroll,\n        scrollableContent: null,\n        lastSetCoordinates: ZERO,\n        events: new EventGroup({}),\n    }); });\n    var keepInBounds = (dragOptions || {}).keepInBounds;\n    var layerClassName = layerProps === undefined ? '' : layerProps.className;\n    var classNames = getClassNames(styles, {\n        theme: theme,\n        className: className,\n        containerClassName: containerClassName,\n        scrollableContentClassName: scrollableContentClassName,\n        isOpen: isOpen,\n        isVisible: isVisible,\n        hasBeenOpened: internalState.hasBeenOpened,\n        modalRectangleTop: modalRectangleTop,\n        topOffsetFixed: topOffsetFixed,\n        isModeless: isModeless,\n        layerClassName: layerClassName,\n        windowInnerHeight: win === null || win === void 0 ? void 0 : win.innerHeight,\n        isDefaultDragHandle: dragOptions && !dragOptions.dragHandleSelector,\n    });\n    var mergedLayerProps = __assign(__assign({ eventBubblingEnabled: false }, layerProps), { onLayerDidMount: layerProps && layerProps.onLayerDidMount ? layerProps.onLayerDidMount : onLayerDidMount, insertFirst: isModeless, className: classNames.layer });\n    // Allow the user to scroll within the modal but not on the body\n    var allowScrollOnModal = React.useCallback(function (elt) {\n        if (elt) {\n            if (internalState.allowTouchBodyScroll) {\n                allowOverscrollOnElement(elt, internalState.events);\n            }\n            else {\n                allowScrollOnElement(elt, internalState.events);\n            }\n        }\n        else {\n            internalState.events.off(internalState.scrollableContent);\n        }\n        internalState.scrollableContent = elt;\n    }, [internalState]);\n    var registerInitialModalPosition = function () {\n        var dialogMain = focusTrapZoneElm.current;\n        var modalRectangle = dialogMain === null || dialogMain === void 0 ? void 0 : dialogMain.getBoundingClientRect();\n        if (modalRectangle) {\n            if (topOffsetFixed) {\n                setModalRectangleTop(modalRectangle.top);\n            }\n            if (keepInBounds) {\n                // x/y are unavailable in IE, so use the equivalent left/top\n                internalState.minPosition = { x: -modalRectangle.left, y: -modalRectangle.top };\n                internalState.maxPosition = { x: modalRectangle.left, y: modalRectangle.top };\n            }\n        }\n    };\n    /**\n     * Clamps an axis to a specified min and max position.\n     *\n     * @param axis A string that represents the axis (x/y).\n     * @param position The position on the axis.\n     */\n    var getClampedAxis = React.useCallback(function (axis, position) {\n        var minPosition = internalState.minPosition, maxPosition = internalState.maxPosition;\n        if (keepInBounds && minPosition && maxPosition) {\n            position = Math.max(minPosition[axis], position);\n            position = Math.min(maxPosition[axis], position);\n        }\n        return position;\n    }, [keepInBounds, internalState]);\n    var handleModalClose = function () {\n        var _a;\n        internalState.lastSetCoordinates = ZERO;\n        setModalMenuClose();\n        internalState.isInKeyboardMoveMode = false;\n        setIsModalOpen(false);\n        setCoordinates(ZERO);\n        (_a = internalState.disposeOnKeyUp) === null || _a === void 0 ? void 0 : _a.call(internalState);\n        onDismissed === null || onDismissed === void 0 ? void 0 : onDismissed();\n    };\n    var handleDragStart = React.useCallback(function () {\n        setModalMenuClose();\n        internalState.isInKeyboardMoveMode = false;\n    }, [internalState, setModalMenuClose]);\n    var handleDrag = React.useCallback(function (ev, dragData) {\n        setCoordinates(function (prevValue) { return ({\n            x: getClampedAxis('x', prevValue.x + dragData.delta.x),\n            y: getClampedAxis('y', prevValue.y + dragData.delta.y),\n        }); });\n    }, [getClampedAxis]);\n    var handleDragStop = React.useCallback(function () {\n        if (focusTrapZone.current) {\n            focusTrapZone.current.focus();\n        }\n    }, []);\n    var handleEnterKeyboardMoveMode = function () {\n        // We need a global handleKeyDown event when we are in the move mode so that we can\n        // handle the key presses and the components inside the modal do not get the events\n        var handleKeyDown = function (ev) {\n            if (ev.altKey && ev.ctrlKey && ev.keyCode === KeyCodes.space) {\n                // CTRL + ALT + SPACE is handled during keyUp\n                ev.preventDefault();\n                ev.stopPropagation();\n                return;\n            }\n            if (isModalMenuOpen && (ev.altKey || ev.keyCode === KeyCodes.escape)) {\n                setModalMenuClose();\n            }\n            if (internalState.isInKeyboardMoveMode && (ev.keyCode === KeyCodes.escape || ev.keyCode === KeyCodes.enter)) {\n                internalState.isInKeyboardMoveMode = false;\n                ev.preventDefault();\n                ev.stopPropagation();\n            }\n            if (internalState.isInKeyboardMoveMode) {\n                var handledEvent = true;\n                var delta_1 = getMoveDelta(ev);\n                switch (ev.keyCode) {\n                    /* eslint-disable no-fallthrough */\n                    case KeyCodes.escape:\n                        setCoordinates(internalState.lastSetCoordinates);\n                    case KeyCodes.enter: {\n                        // TODO: determine if fallthrough was intentional\n                        /* eslint-enable no-fallthrough */\n                        internalState.lastSetCoordinates = ZERO;\n                        // setIsInKeyboardMoveMode(false);\n                        break;\n                    }\n                    case KeyCodes.up: {\n                        setCoordinates(function (prevValue) { return ({ x: prevValue.x, y: getClampedAxis('y', prevValue.y - delta_1) }); });\n                        break;\n                    }\n                    case KeyCodes.down: {\n                        setCoordinates(function (prevValue) { return ({ x: prevValue.x, y: getClampedAxis('y', prevValue.y + delta_1) }); });\n                        break;\n                    }\n                    case KeyCodes.left: {\n                        setCoordinates(function (prevValue) { return ({ x: getClampedAxis('x', prevValue.x - delta_1), y: prevValue.y }); });\n                        break;\n                    }\n                    case KeyCodes.right: {\n                        setCoordinates(function (prevValue) { return ({ x: getClampedAxis('x', prevValue.x + delta_1), y: prevValue.y }); });\n                        break;\n                    }\n                    default: {\n                        handledEvent = false;\n                    }\n                }\n                if (handledEvent) {\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                }\n            }\n        };\n        internalState.lastSetCoordinates = coordinates;\n        setModalMenuClose();\n        internalState.isInKeyboardMoveMode = true;\n        internalState.events.on(win, 'keydown', handleKeyDown, true /* useCapture */);\n        internalState.disposeOnKeyDown = function () {\n            internalState.events.off(win, 'keydown', handleKeyDown, true /* useCapture */);\n            internalState.disposeOnKeyDown = undefined;\n        };\n    };\n    var handleExitKeyboardMoveMode = function () {\n        var _a;\n        internalState.lastSetCoordinates = ZERO;\n        internalState.isInKeyboardMoveMode = false;\n        (_a = internalState.disposeOnKeyDown) === null || _a === void 0 ? void 0 : _a.call(internalState);\n    };\n    var registerForKeyUp = function () {\n        var handleKeyUp = function (ev) {\n            // Needs to handle the CTRL + ALT + SPACE key during keyup due to FireFox bug:\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n            if (ev.altKey && ev.ctrlKey && ev.keyCode === KeyCodes.space) {\n                if (elementContains(internalState.scrollableContent, ev.target)) {\n                    toggleModalMenuOpen();\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                }\n            }\n        };\n        if (!internalState.disposeOnKeyUp) {\n            internalState.events.on(win, 'keyup', handleKeyUp, true /* useCapture */);\n            internalState.disposeOnKeyUp = function () {\n                internalState.events.off(win, 'keyup', handleKeyUp, true /* useCapture */);\n                internalState.disposeOnKeyUp = undefined;\n            };\n        }\n    };\n    React.useEffect(function () {\n        clearTimeout(internalState.onModalCloseTimer);\n        // Opening the dialog\n        if (isOpen) {\n            // This must be done after the modal content has rendered\n            requestAnimationFrame(function () { return setTimeout(registerInitialModalPosition, 0); });\n            setIsModalOpen(true);\n            // Add a keyUp handler for all key up events once the dialog is open.\n            if (dragOptions) {\n                registerForKeyUp();\n            }\n            internalState.hasBeenOpened = true;\n            setIsVisible(true);\n        }\n        // Closing the dialog\n        if (!isOpen && isModalOpen) {\n            internalState.onModalCloseTimer = setTimeout(handleModalClose, parseFloat(animationDuration) * 1000);\n            setIsVisible(false);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- should only run if isModalOpen or isOpen mutates.\n    }, [isModalOpen, isOpen]);\n    useUnmount(function () {\n        internalState.events.dispose();\n    });\n    useComponentRef(props, focusTrapZone);\n    useDebugWarnings(props);\n    var modalContent = (React.createElement(FocusTrapZone, { id: focusTrapZoneId, ref: focusTrapZoneElm, componentRef: focusTrapZone, className: classNames.main, elementToFocusOnDismiss: elementToFocusOnDismiss, isClickableOutsideFocusTrap: isModeless || isClickableOutsideFocusTrap || !isBlocking, ignoreExternalFocusing: ignoreExternalFocusing, forceFocusInsideTrap: isModeless ? !isModeless : forceFocusInsideTrap, firstFocusableSelector: firstFocusableSelector, focusPreviouslyFocusedInnerElement: true, onBlur: internalState.isInKeyboardMoveMode ? handleExitKeyboardMoveMode : undefined, enableAriaHiddenSiblings: enableAriaHiddenSiblings },\n        dragOptions && internalState.isInKeyboardMoveMode && (React.createElement(\"div\", { className: classNames.keyboardMoveIconContainer }, dragOptions.keyboardMoveIconProps ? (React.createElement(Icon, __assign({}, dragOptions.keyboardMoveIconProps))) : (React.createElement(Icon, { iconName: \"move\", className: classNames.keyboardMoveIcon })))),\n        React.createElement(\"div\", { ref: allowScrollOnModal, className: classNames.scrollableContent, \"data-is-scrollable\": true },\n            dragOptions && isModalMenuOpen && (React.createElement(dragOptions.menu, { items: [\n                    { key: 'move', text: dragOptions.moveMenuItemText, onClick: handleEnterKeyboardMoveMode },\n                    { key: 'close', text: dragOptions.closeMenuItemText, onClick: handleModalClose },\n                ], onDismiss: setModalMenuClose, alignTargetEdge: true, coverTarget: true, directionalHint: DirectionalHint.topLeftEdge, directionalHintFixed: true, shouldFocusOnMount: true, target: internalState.scrollableContent })),\n            children)));\n    return ((isModalOpen && modalResponsiveMode >= (responsiveMode || ResponsiveMode.small) && (React.createElement(Layer, __assign({ ref: mergedRef }, mergedLayerProps),\n        React.createElement(Popup, { role: isModeless || !isBlocking ? 'dialog' : 'alertdialog', \"aria-modal\": !isModeless, ariaLabelledBy: titleAriaId, ariaDescribedBy: subtitleAriaId, onDismiss: onDismiss, shouldRestoreFocus: !ignoreExternalFocusing },\n            React.createElement(\"div\", { className: classNames.root, role: !isModeless ? 'document' : undefined },\n                !isModeless && (React.createElement(Overlay, __assign({ \"aria-hidden\": true, isDarkThemed: isDarkOverlay, onClick: isBlocking ? undefined : onDismiss, allowTouchBodyScroll: allowTouchBodyScroll }, overlay))),\n                dragOptions ? (React.createElement(DraggableZone, { handleSelector: dragOptions.dragHandleSelector || \"#\" + focusTrapZoneId, preventDragSelector: \"button\", onStart: handleDragStart, onDragChange: handleDrag, onStop: handleDragStop, position: coordinates }, modalContent)) : (modalContent)))))) ||\n        null);\n});\nModalBase.displayName = 'Modal';\nfunction useDebugWarnings(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n        useWarnings({\n            name: 'Modal',\n            props: props,\n            deprecations: { onLayerDidMount: 'layerProps.onLayerDidMount' },\n        });\n    }\n}\n//# sourceMappingURL=Modal.base.js.map","import * as React from 'react';\n/**\n * Hook which synchronously executes a callback when the component is about to unmount.\n *\n * @param callback - Function to call during unmount.\n */\nexport var useUnmount = function (callback) {\n    var unmountRef = React.useRef(callback);\n    unmountRef.current = callback;\n    React.useEffect(function () { return function () {\n        var _a;\n        (_a = unmountRef.current) === null || _a === void 0 ? void 0 : _a.call(unmountRef);\n    }; }, []);\n};\n//# sourceMappingURL=useUnmount.js.map","import { styled } from '../../Utilities';\nimport { ModalBase } from './Modal.base';\nimport { getStyles } from './Modal.styles';\nexport var Modal = styled(ModalBase, getStyles, undefined, {\n    scope: 'Modal',\n    fields: ['theme', 'styles', 'enableAriaHiddenSiblings'],\n});\nModal.displayName = 'Modal';\n//# sourceMappingURL=Modal.js.map","import { AnimationVariables, getGlobalClassNames, ZIndexes } from '../../Styling';\nexport var animationDuration = AnimationVariables.durationValue2;\nvar globalClassNames = {\n    root: 'ms-Modal',\n    main: 'ms-Dialog-main',\n    scrollableContent: 'ms-Modal-scrollableContent',\n    isOpen: 'is-open',\n    layer: 'ms-Modal-Layer',\n};\nexport var getStyles = function (props) {\n    var _a;\n    var className = props.className, containerClassName = props.containerClassName, scrollableContentClassName = props.scrollableContentClassName, isOpen = props.isOpen, isVisible = props.isVisible, hasBeenOpened = props.hasBeenOpened, modalRectangleTop = props.modalRectangleTop, theme = props.theme, topOffsetFixed = props.topOffsetFixed, isModeless = props.isModeless, layerClassName = props.layerClassName, isDefaultDragHandle = props.isDefaultDragHandle, windowInnerHeight = props.windowInnerHeight;\n    var palette = theme.palette, effects = theme.effects, fonts = theme.fonts;\n    var classNames = getGlobalClassNames(globalClassNames, theme);\n    return {\n        root: [\n            classNames.root,\n            fonts.medium,\n            {\n                backgroundColor: 'transparent',\n                position: isModeless ? 'absolute' : 'fixed',\n                height: '100%',\n                width: '100%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                opacity: 0,\n                pointerEvents: 'none',\n                transition: \"opacity \" + animationDuration,\n            },\n            topOffsetFixed &&\n                typeof modalRectangleTop === 'number' &&\n                hasBeenOpened && {\n                alignItems: 'flex-start',\n            },\n            isOpen && classNames.isOpen,\n            isVisible && {\n                opacity: 1,\n                pointerEvents: 'auto',\n            },\n            className,\n        ],\n        main: [\n            classNames.main,\n            {\n                boxShadow: effects.elevation64,\n                borderRadius: effects.roundedCorner2,\n                backgroundColor: palette.white,\n                boxSizing: 'border-box',\n                position: 'relative',\n                textAlign: 'left',\n                outline: '3px solid transparent',\n                maxHeight: 'calc(100% - 32px)',\n                maxWidth: 'calc(100% - 32px)',\n                minHeight: '176px',\n                minWidth: '288px',\n                overflowY: 'auto',\n                zIndex: isModeless ? ZIndexes.Layer : undefined,\n            },\n            topOffsetFixed &&\n                typeof modalRectangleTop === 'number' &&\n                hasBeenOpened && {\n                top: modalRectangleTop,\n            },\n            isDefaultDragHandle && {\n                cursor: 'move',\n            },\n            containerClassName,\n        ],\n        scrollableContent: [\n            classNames.scrollableContent,\n            {\n                overflowY: 'auto',\n                flexGrow: 1,\n                maxHeight: '100vh',\n                selectors: (_a = {},\n                    _a['@supports (-webkit-overflow-scrolling: touch)'] = {\n                        maxHeight: windowInnerHeight,\n                    },\n                    _a),\n            },\n            scrollableContentClassName,\n        ],\n        layer: isModeless && [\n            layerClassName,\n            classNames.layer,\n            {\n                position: 'static',\n                width: 'unset',\n                height: 'unset',\n            },\n        ],\n        keyboardMoveIconContainer: {\n            position: 'absolute',\n            display: 'flex',\n            justifyContent: 'center',\n            width: '100%',\n            padding: '3px 0px',\n        },\n        keyboardMoveIcon: {\n            // eslint-disable-next-line deprecation/deprecation\n            fontSize: fonts.xLargePlus.fontSize,\n            width: '24px',\n        },\n    };\n};\n//# sourceMappingURL=Modal.styles.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, getNativeProps, divProperties, enableBodyScroll, disableBodyScroll, initializeComponentRef, } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nvar OverlayBase = /** @class */ (function (_super) {\n    __extends(OverlayBase, _super);\n    function OverlayBase(props) {\n        var _this = _super.call(this, props) || this;\n        initializeComponentRef(_this);\n        var _a = _this.props.allowTouchBodyScroll, allowTouchBodyScroll = _a === void 0 ? false : _a;\n        _this._allowTouchBodyScroll = allowTouchBodyScroll;\n        return _this;\n    }\n    OverlayBase.prototype.componentDidMount = function () {\n        !this._allowTouchBodyScroll && disableBodyScroll();\n    };\n    OverlayBase.prototype.componentWillUnmount = function () {\n        !this._allowTouchBodyScroll && enableBodyScroll();\n    };\n    OverlayBase.prototype.render = function () {\n        var _a = this.props, isDark = _a.isDarkThemed, className = _a.className, theme = _a.theme, styles = _a.styles;\n        var divProps = getNativeProps(this.props, divProperties);\n        var classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n            isDark: isDark,\n        });\n        return React.createElement(\"div\", __assign({}, divProps, { className: classNames.root }));\n    };\n    return OverlayBase;\n}(React.Component));\nexport { OverlayBase };\n//# sourceMappingURL=Overlay.base.js.map","import { HighContrastSelector, getGlobalClassNames } from '../../Styling';\nvar GlobalClassNames = {\n    root: 'ms-Overlay',\n    rootDark: 'ms-Overlay--dark',\n};\nexport var getStyles = function (props) {\n    var _a;\n    var className = props.className, theme = props.theme, isNone = props.isNone, isDark = props.isDark;\n    var palette = theme.palette;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [\n            classNames.root,\n            theme.fonts.medium,\n            {\n                backgroundColor: palette.whiteTranslucent40,\n                top: 0,\n                right: 0,\n                bottom: 0,\n                left: 0,\n                position: 'absolute',\n                selectors: (_a = {},\n                    _a[HighContrastSelector] = {\n                        border: '1px solid WindowText',\n                        opacity: 0,\n                    },\n                    _a),\n            },\n            isNone && {\n                visibility: 'hidden',\n            },\n            isDark && [\n                classNames.rootDark,\n                {\n                    backgroundColor: palette.blackTranslucent40,\n                },\n            ],\n            className,\n        ],\n    };\n};\n//# sourceMappingURL=Overlay.styles.js.map","import { styled } from '../../Utilities';\nimport { OverlayBase } from './Overlay.base';\nimport { getStyles } from './Overlay.styles';\nexport var Overlay = styled(OverlayBase, getStyles, undefined, {\n    scope: 'Overlay',\n});\n//# sourceMappingURL=Overlay.js.map","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { KeyCodes, classNamesFunction, getNativeProps, inputProperties } from '../../Utilities';\nimport { useControllableValue, useId, useMergedRefs, useWarnings } from '@fluentui/react-hooks';\nimport { IconButton } from '../../Button';\nimport { Icon } from '../../Icon';\nvar COMPONENT_NAME = 'SearchBox';\nvar iconButtonStyles = { root: { height: 'auto' }, icon: { fontSize: '12px' } };\nvar iconButtonProps = { iconName: 'Clear' };\nvar defaultClearButtonProps = { ariaLabel: 'Clear text' };\nvar getClassNames = classNamesFunction();\nvar useComponentRef = function (componentRef, inputElementRef, hasFocus) {\n    React.useImperativeHandle(componentRef, function () { return ({\n        focus: function () { var _a; return (_a = inputElementRef.current) === null || _a === void 0 ? void 0 : _a.focus(); },\n        hasFocus: function () { return hasFocus; },\n    }); }, [inputElementRef, hasFocus]);\n};\nexport var SearchBoxBase = React.forwardRef(function (props, forwardedRef) {\n    var _a = props.defaultValue, defaultValue = _a === void 0 ? '' : _a;\n    var _b = React.useState(false), hasFocus = _b[0], setHasFocus = _b[1];\n    var _c = useControllableValue(props.value, defaultValue, props.onChange), uncastValue = _c[0], setValue = _c[1];\n    var value = String(uncastValue);\n    var rootElementRef = React.useRef(null);\n    var inputElementRef = React.useRef(null);\n    var mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n    var id = useId(COMPONENT_NAME, props.id);\n    var ariaLabel = props.ariaLabel, className = props.className, disabled = props.disabled, underlined = props.underlined, styles = props.styles, \n    // eslint-disable-next-line deprecation/deprecation\n    labelText = props.labelText, \n    // eslint-disable-next-line deprecation/deprecation\n    _d = props.placeholder, \n    // eslint-disable-next-line deprecation/deprecation\n    placeholder = _d === void 0 ? labelText : _d, theme = props.theme, _e = props.clearButtonProps, clearButtonProps = _e === void 0 ? defaultClearButtonProps : _e, _f = props.disableAnimation, disableAnimation = _f === void 0 ? false : _f, customOnClear = props.onClear, customOnBlur = props.onBlur, customOnEscape = props.onEscape, customOnSearch = props.onSearch, customOnKeyDown = props.onKeyDown, iconProps = props.iconProps, role = props.role;\n    var customOnClearClick = clearButtonProps.onClick;\n    var classNames = getClassNames(styles, {\n        theme: theme,\n        className: className,\n        underlined: underlined,\n        hasFocus: hasFocus,\n        disabled: disabled,\n        hasInput: value.length > 0,\n        disableAnimation: disableAnimation,\n    });\n    var nativeProps = getNativeProps(props, inputProperties, [\n        'className',\n        'placeholder',\n        'onFocus',\n        'onBlur',\n        'value',\n        'role',\n    ]);\n    var onClear = React.useCallback(function (ev) {\n        var _a;\n        customOnClear === null || customOnClear === void 0 ? void 0 : customOnClear(ev);\n        if (!ev.defaultPrevented) {\n            setValue('');\n            (_a = inputElementRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n            ev.stopPropagation();\n            ev.preventDefault();\n        }\n    }, [customOnClear, setValue]);\n    var onClearClick = React.useCallback(function (ev) {\n        customOnClearClick === null || customOnClearClick === void 0 ? void 0 : customOnClearClick(ev);\n        if (!ev.defaultPrevented) {\n            onClear(ev);\n        }\n    }, [customOnClearClick, onClear]);\n    var onFocusCapture = function (ev) {\n        var _a;\n        setHasFocus(true);\n        (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, ev);\n    };\n    var onClickFocus = function () {\n        if (inputElementRef.current) {\n            inputElementRef.current.focus();\n            inputElementRef.current.selectionStart = inputElementRef.current.selectionEnd = 0;\n        }\n    };\n    var onBlur = React.useCallback(function (ev) {\n        setHasFocus(false);\n        customOnBlur === null || customOnBlur === void 0 ? void 0 : customOnBlur(ev);\n    }, [customOnBlur]);\n    var onInputChange = function (ev) {\n        setValue(ev.target.value, ev);\n    };\n    var onKeyDown = function (ev) {\n        // eslint-disable-next-line deprecation/deprecation\n        switch (ev.which) {\n            case KeyCodes.escape:\n                customOnEscape === null || customOnEscape === void 0 ? void 0 : customOnEscape(ev);\n                // Only call onClear if the search box has a value to clear. Otherwise, allow the Esc key\n                // to propagate from the empty search box to a parent element such as a dialog, etc.\n                if (value && !ev.defaultPrevented) {\n                    onClear(ev);\n                }\n                break;\n            case KeyCodes.enter:\n                if (customOnSearch) {\n                    customOnSearch(value);\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                }\n                break;\n            default:\n                // REVIEW: Why aren't we calling customOnKeyDown for Escape or Enter?\n                customOnKeyDown === null || customOnKeyDown === void 0 ? void 0 : customOnKeyDown(ev);\n                // REVIEW: Why are we calling stopPropagation if customOnKeyDown called preventDefault?\n                // customOnKeyDown should call stopPropagation if it needs it.\n                if (ev.defaultPrevented) {\n                    ev.stopPropagation();\n                }\n                break;\n        }\n    };\n    useDebugWarning(props);\n    useComponentRef(props.componentRef, inputElementRef, hasFocus);\n    return (React.createElement(\"div\", { role: role, ref: mergedRootRef, className: classNames.root, onFocusCapture: onFocusCapture },\n        React.createElement(\"div\", { className: classNames.iconContainer, onClick: onClickFocus, \"aria-hidden\": true },\n            React.createElement(Icon, __assign({ iconName: \"Search\" }, iconProps, { className: classNames.icon }))),\n        React.createElement(\"input\", __assign({}, nativeProps, { id: id, className: classNames.field, placeholder: placeholder, onChange: onInputChange, onInput: onInputChange, onBlur: onBlur, onKeyDown: onKeyDown, value: value, disabled: disabled, role: \"searchbox\", \"aria-label\": ariaLabel, ref: inputElementRef })),\n        value.length > 0 && (React.createElement(\"div\", { className: classNames.clearButton },\n            React.createElement(IconButton, __assign({ onBlur: onBlur, styles: iconButtonStyles, iconProps: iconButtonProps }, clearButtonProps, { onClick: onClearClick }))))));\n});\nSearchBoxBase.displayName = COMPONENT_NAME;\nfunction useDebugWarning(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n        useWarnings({\n            name: COMPONENT_NAME,\n            props: props,\n            deprecations: { labelText: 'placeholder' },\n        });\n    }\n}\n//# sourceMappingURL=SearchBox.base.js.map","import { HighContrastSelector, AnimationVariables, normalize, getPlaceholderStyles, getGlobalClassNames, getInputFocusStyle, } from '../../Styling';\nimport { getRTL } from '../../Utilities';\nvar GlobalClassNames = {\n    root: 'ms-SearchBox',\n    iconContainer: 'ms-SearchBox-iconContainer',\n    icon: 'ms-SearchBox-icon',\n    clearButton: 'ms-SearchBox-clearButton',\n    field: 'ms-SearchBox-field',\n};\nexport function getStyles(props) {\n    var _a, _b, _c, _d;\n    var theme = props.theme, underlined = props.underlined, disabled = props.disabled, hasFocus = props.hasFocus, className = props.className, hasInput = props.hasInput, disableAnimation = props.disableAnimation;\n    var palette = theme.palette, fonts = theme.fonts, semanticColors = theme.semanticColors, effects = theme.effects;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    // placeholder style constants\n    var placeholderStyles = {\n        color: semanticColors.inputPlaceholderText,\n        opacity: 1,\n    };\n    var inputIconAlt = palette.neutralSecondary;\n    var inputIconAltHovered = palette.neutralPrimary;\n    var inputBorderDisabled = palette.neutralLighter;\n    var inputBackgroundHovered = palette.neutralLighter;\n    var inputBackgroundDisabled = palette.neutralLighter;\n    return {\n        root: [\n            classNames.root,\n            fonts.medium,\n            normalize,\n            {\n                color: semanticColors.inputText,\n                backgroundColor: semanticColors.inputBackground,\n                display: 'flex',\n                flexDirection: 'row',\n                flexWrap: 'nowrap',\n                alignItems: 'stretch',\n                // The 1px top and bottom padding ensure the input field does not overlap the border\n                padding: '1px 0 1px 4px',\n                borderRadius: effects.roundedCorner2,\n                border: \"1px solid \" + semanticColors.inputBorder,\n                height: 32,\n                selectors: (_a = {},\n                    _a[HighContrastSelector] = {\n                        borderColor: 'WindowText',\n                    },\n                    _a[':hover'] = {\n                        borderColor: semanticColors.inputBorderHovered,\n                        selectors: (_b = {},\n                            _b[HighContrastSelector] = {\n                                borderColor: 'Highlight',\n                            },\n                            _b),\n                    },\n                    _a[\":hover .\" + classNames.iconContainer] = {\n                        color: semanticColors.inputIconHovered,\n                    },\n                    _a),\n            },\n            !hasFocus &&\n                hasInput && {\n                selectors: (_c = {},\n                    _c[\":hover .\" + classNames.iconContainer] = {\n                        width: 4,\n                    },\n                    _c[\":hover .\" + classNames.icon] = {\n                        opacity: 0,\n                    },\n                    _c),\n            },\n            hasFocus && [\n                'is-active',\n                {\n                    position: 'relative',\n                },\n                getInputFocusStyle(semanticColors.inputFocusBorderAlt, underlined ? 0 : effects.roundedCorner2, underlined ? 'borderBottom' : 'border'),\n            ],\n            disabled && [\n                'is-disabled',\n                {\n                    borderColor: inputBorderDisabled,\n                    backgroundColor: inputBackgroundDisabled,\n                    pointerEvents: 'none',\n                    cursor: 'default',\n                    selectors: (_d = {},\n                        _d[HighContrastSelector] = {\n                            borderColor: 'GrayText',\n                        },\n                        _d),\n                },\n            ],\n            underlined && [\n                'is-underlined',\n                {\n                    borderWidth: '0 0 1px 0',\n                    borderRadius: 0,\n                    // Underlined SearchBox has a larger padding left to vertically align with the waffle in product\n                    padding: '1px 0 1px 8px',\n                },\n            ],\n            underlined &&\n                disabled && {\n                backgroundColor: 'transparent',\n            },\n            hasInput && 'can-clear',\n            className,\n        ],\n        iconContainer: [\n            classNames.iconContainer,\n            {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                flexShrink: 0,\n                fontSize: 16,\n                width: 32,\n                textAlign: 'center',\n                color: semanticColors.inputIcon,\n                cursor: 'text',\n            },\n            hasFocus && {\n                width: 4,\n            },\n            disabled && {\n                color: semanticColors.inputIconDisabled,\n            },\n            !disableAnimation && {\n                transition: \"width \" + AnimationVariables.durationValue1,\n            },\n        ],\n        icon: [\n            classNames.icon,\n            {\n                opacity: 1,\n            },\n            hasFocus && {\n                opacity: 0,\n            },\n            !disableAnimation && {\n                transition: \"opacity \" + AnimationVariables.durationValue1 + \" 0s\",\n            },\n        ],\n        clearButton: [\n            classNames.clearButton,\n            {\n                display: 'flex',\n                flexDirection: 'row',\n                alignItems: 'stretch',\n                cursor: 'pointer',\n                flexBasis: '32px',\n                flexShrink: 0,\n                padding: 0,\n                margin: '-1px 0px',\n                selectors: {\n                    '&:hover .ms-Button': {\n                        backgroundColor: inputBackgroundHovered,\n                    },\n                    '&:hover .ms-Button-icon': {\n                        color: inputIconAltHovered,\n                    },\n                    '.ms-Button': {\n                        borderRadius: getRTL(theme) ? '1px 0 0 1px' : '0 1px 1px 0',\n                    },\n                    '.ms-Button-icon': {\n                        color: inputIconAlt,\n                    },\n                },\n            },\n        ],\n        field: [\n            classNames.field,\n            normalize,\n            getPlaceholderStyles(placeholderStyles),\n            {\n                backgroundColor: 'transparent',\n                border: 'none',\n                outline: 'none',\n                fontWeight: 'inherit',\n                fontFamily: 'inherit',\n                fontSize: 'inherit',\n                color: semanticColors.inputText,\n                flex: '1 1 0px',\n                // The default implicit value of 'auto' prevents the input from shrinking. Setting min-width to\n                // 0px allows the input element to shrink to fit the container.\n                minWidth: '0px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                // This padding forces the text placement to round up.\n                paddingBottom: 0.5,\n                // This removes the IE specific clear button in the input since we implemented our own\n                selectors: {\n                    '::-ms-clear': {\n                        display: 'none',\n                    },\n                },\n            },\n            disabled && {\n                color: semanticColors.disabledText,\n            },\n        ],\n    };\n}\n//# sourceMappingURL=SearchBox.styles.js.map","import { styled } from '../../Utilities';\nimport { SearchBoxBase } from './SearchBox.base';\nimport { getStyles } from './SearchBox.styles';\nexport var SearchBox = styled(SearchBoxBase, getStyles, undefined, { scope: 'SearchBox' });\n//# sourceMappingURL=SearchBox.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { SpinnerType, SpinnerSize } from './Spinner.types';\nimport { classNamesFunction, DelayedRender, getNativeProps, divProperties } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nvar SpinnerBase = /** @class */ (function (_super) {\n    __extends(SpinnerBase, _super);\n    function SpinnerBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SpinnerBase.prototype.render = function () {\n        // eslint-disable-next-line deprecation/deprecation\n        var _a = this.props, type = _a.type, size = _a.size, ariaLabel = _a.ariaLabel, ariaLive = _a.ariaLive, styles = _a.styles, label = _a.label, theme = _a.theme, className = _a.className, labelPosition = _a.labelPosition;\n        var statusMessage = ariaLabel;\n        var nativeProps = getNativeProps(this.props, divProperties, ['size']);\n        // SpinnerType is deprecated. If someone is still using this property, rather than putting the SpinnerType into the\n        // ISpinnerStyleProps, we'll map SpinnerType to its equivalent SpinnerSize and pass that in. Once SpinnerType\n        // finally goes away we should delete this.\n        var styleSize = size;\n        if (styleSize === undefined && type !== undefined) {\n            // eslint-disable-next-line deprecation/deprecation\n            styleSize = type === SpinnerType.large ? SpinnerSize.large : SpinnerSize.medium;\n        }\n        var classNames = getClassNames(styles, {\n            theme: theme,\n            size: styleSize,\n            className: className,\n            labelPosition: labelPosition,\n        });\n        return (React.createElement(\"div\", __assign({}, nativeProps, { className: classNames.root }),\n            React.createElement(\"div\", { className: classNames.circle }),\n            label && React.createElement(\"div\", { className: classNames.label }, label),\n            statusMessage && (React.createElement(\"div\", { role: \"status\", \"aria-live\": ariaLive },\n                React.createElement(DelayedRender, null,\n                    React.createElement(\"div\", { className: classNames.screenReaderText }, statusMessage))))));\n    };\n    SpinnerBase.defaultProps = {\n        size: SpinnerSize.medium,\n        ariaLive: 'polite',\n        labelPosition: 'bottom',\n    };\n    return SpinnerBase;\n}(React.Component));\nexport { SpinnerBase };\n//# sourceMappingURL=Spinner.base.js.map","import { __assign } from \"tslib\";\nimport { SpinnerSize } from './Spinner.types';\nimport { hiddenContentStyle, keyframes, HighContrastSelector, getGlobalClassNames, getHighContrastNoAdjustStyle, } from '../../Styling';\nimport { memoizeFunction } from '../../Utilities';\nvar GlobalClassNames = {\n    root: 'ms-Spinner',\n    circle: 'ms-Spinner-circle',\n    label: 'ms-Spinner-label',\n};\nvar spinAnimation = memoizeFunction(function () {\n    return keyframes({\n        '0%': {\n            transform: 'rotate(0deg)',\n        },\n        '100%': {\n            transform: 'rotate(360deg)',\n        },\n    });\n});\nexport var getStyles = function (props) {\n    var _a;\n    var theme = props.theme, size = props.size, className = props.className, labelPosition = props.labelPosition;\n    var palette = theme.palette;\n    var classNames = getGlobalClassNames(GlobalClassNames, theme);\n    return {\n        root: [\n            classNames.root,\n            {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n            },\n            labelPosition === 'top' && {\n                flexDirection: 'column-reverse',\n            },\n            labelPosition === 'right' && {\n                flexDirection: 'row',\n            },\n            labelPosition === 'left' && {\n                flexDirection: 'row-reverse',\n            },\n            className,\n        ],\n        circle: [\n            classNames.circle,\n            {\n                boxSizing: 'border-box',\n                borderRadius: '50%',\n                border: '1.5px solid ' + palette.themeLight,\n                borderTopColor: palette.themePrimary,\n                animationName: spinAnimation(),\n                animationDuration: '1.3s',\n                animationIterationCount: 'infinite',\n                animationTimingFunction: 'cubic-bezier(.53,.21,.29,.67)',\n                selectors: (_a = {},\n                    _a[HighContrastSelector] = __assign({ borderTopColor: 'Highlight' }, getHighContrastNoAdjustStyle()),\n                    _a),\n            },\n            size === SpinnerSize.xSmall && [\n                'ms-Spinner--xSmall',\n                {\n                    width: 12,\n                    height: 12,\n                },\n            ],\n            size === SpinnerSize.small && [\n                'ms-Spinner--small',\n                {\n                    width: 16,\n                    height: 16,\n                },\n            ],\n            size === SpinnerSize.medium && [\n                'ms-Spinner--medium',\n                {\n                    width: 20,\n                    height: 20,\n                },\n            ],\n            size === SpinnerSize.large && [\n                'ms-Spinner--large',\n                {\n                    width: 28,\n                    height: 28,\n                },\n            ],\n        ],\n        label: [\n            classNames.label,\n            theme.fonts.small,\n            {\n                color: palette.themePrimary,\n                margin: '8px 0 0',\n                textAlign: 'center',\n            },\n            labelPosition === 'top' && {\n                margin: '0 0 8px',\n            },\n            labelPosition === 'right' && {\n                margin: '0 0 0 8px',\n            },\n            labelPosition === 'left' && {\n                margin: '0 8px 0 0',\n            },\n        ],\n        screenReaderText: hiddenContentStyle,\n    };\n};\n//# sourceMappingURL=Spinner.styles.js.map","import { styled } from '../../Utilities';\nimport { SpinnerBase } from './Spinner.base';\nimport { getStyles } from './Spinner.styles';\nexport var Spinner = styled(SpinnerBase, getStyles, undefined, { scope: 'Spinner' });\n//# sourceMappingURL=Spinner.js.map","/**\n * Possible variations of the spinner circle size.\n * {@docCategory Spinner}\n */\nexport var SpinnerSize;\n(function (SpinnerSize) {\n    /**\n     * 12px Spinner diameter\n     */\n    SpinnerSize[SpinnerSize[\"xSmall\"] = 0] = \"xSmall\";\n    /**\n     * 16px Spinner diameter\n     */\n    SpinnerSize[SpinnerSize[\"small\"] = 1] = \"small\";\n    /**\n     * 20px Spinner diameter\n     */\n    SpinnerSize[SpinnerSize[\"medium\"] = 2] = \"medium\";\n    /**\n     * 28px Spinner diameter\n     */\n    SpinnerSize[SpinnerSize[\"large\"] = 3] = \"large\";\n})(SpinnerSize || (SpinnerSize = {}));\n/**\n * @deprecated Use `SpinnerSize` instead. Will be removed at \\>= 2.0.0.\n * {@docCategory Spinner}\n */\nexport var SpinnerType;\n(function (SpinnerType) {\n    /**\n     * @deprecated Use `SpinnerSize.medium` instead. Will be removed at \\>= 2.0.0.\n     */\n    SpinnerType[SpinnerType[\"normal\"] = 0] = \"normal\";\n    /**\n     * @deprecated Use `SpinnerSize.large` instead. Will be removed at \\>= 2.0.0.\n     */\n    SpinnerType[SpinnerType[\"large\"] = 1] = \"large\";\n})(SpinnerType || (SpinnerType = {}));\n//# sourceMappingURL=Spinner.types.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Label } from '../../Label';\nimport { Icon } from '../../Icon';\nimport { Async, classNamesFunction, DelayedRender, getId, getNativeProps, getWindow, initializeComponentRef, inputProperties, isControlled, isIE11, textAreaProperties, warn, warnControlledUsage, warnMutuallyExclusive, } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nvar DEFAULT_STATE_VALUE = '';\nvar COMPONENT_NAME = 'TextField';\nvar REVEAL_ICON_NAME = 'RedEye';\nvar HIDE_ICON_NAME = 'Hide';\nvar TextFieldBase = /** @class */ (function (_super) {\n    __extends(TextFieldBase, _super);\n    function TextFieldBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._textElement = React.createRef();\n        _this._onFocus = function (ev) {\n            if (_this.props.onFocus) {\n                _this.props.onFocus(ev);\n            }\n            _this.setState({ isFocused: true }, function () {\n                if (_this.props.validateOnFocusIn) {\n                    _this._validate(_this.value);\n                }\n            });\n        };\n        _this._onBlur = function (ev) {\n            if (_this.props.onBlur) {\n                _this.props.onBlur(ev);\n            }\n            _this.setState({ isFocused: false }, function () {\n                if (_this.props.validateOnFocusOut) {\n                    _this._validate(_this.value);\n                }\n            });\n        };\n        _this._onRenderLabel = function (props) {\n            var label = props.label, required = props.required;\n            // IProcessedStyleSet definition requires casting for what Label expects as its styles prop\n            var labelStyles = _this._classNames.subComponentStyles\n                ? _this._classNames.subComponentStyles.label\n                : undefined;\n            if (label) {\n                return (React.createElement(Label, { required: required, htmlFor: _this._id, styles: labelStyles, disabled: props.disabled, id: _this._labelId }, props.label));\n            }\n            return null;\n        };\n        _this._onRenderDescription = function (props) {\n            if (props.description) {\n                return React.createElement(\"span\", { className: _this._classNames.description }, props.description);\n            }\n            return null;\n        };\n        _this._onRevealButtonClick = function (event) {\n            _this.setState(function (prevState) { return ({ isRevealingPassword: !prevState.isRevealingPassword }); });\n        };\n        _this._onInputChange = function (event) {\n            // Previously, we needed to call both onInput and onChange due to some weird IE/React issues,\n            // which have *probably* been fixed now:\n            // - https://github.com/microsoft/fluentui/issues/744 (likely fixed)\n            // - https://github.com/microsoft/fluentui/issues/824 (confirmed fixed)\n            var _a, _b;\n            // TODO (Fabric 8?) - Switch to calling only onChange. This switch is pretty disruptive for\n            // tests (ours and maybe consumers' too), so it seemed best to do the switch in a major bump.\n            var element = event.target;\n            var value = element.value;\n            // Ignore this event if any of the following are true:\n            // - the value is undefined (in case one of the IE bugs comes back)\n            // - it's a duplicate event (important since onInputChange is called twice per actual user event)\n            // - it's the same as the previous value\n            var previousValue = _getValue(_this.props, _this.state) || '';\n            if (value === undefined || value === _this._lastChangeValue || value === previousValue) {\n                _this._lastChangeValue = undefined;\n                return;\n            }\n            _this._lastChangeValue = value;\n            (_b = (_a = _this.props).onChange) === null || _b === void 0 ? void 0 : _b.call(_a, event, value);\n            if (!_this._isControlled) {\n                // ONLY if this is an uncontrolled component, update the displayed value.\n                // (Controlled components must update the `value` prop from `onChange`.)\n                _this.setState({ uncontrolledValue: value });\n            }\n        };\n        initializeComponentRef(_this);\n        _this._async = new Async(_this);\n        if (process.env.NODE_ENV !== 'production') {\n            warnMutuallyExclusive(COMPONENT_NAME, props, {\n                errorMessage: 'onGetErrorMessage',\n            });\n        }\n        _this._fallbackId = getId(COMPONENT_NAME);\n        _this._descriptionId = getId(COMPONENT_NAME + 'Description');\n        _this._labelId = getId(COMPONENT_NAME + 'Label');\n        _this._warnControlledUsage();\n        var _a = props.defaultValue, defaultValue = _a === void 0 ? DEFAULT_STATE_VALUE : _a;\n        if (typeof defaultValue === 'number') {\n            // This isn't allowed per the props, but happens anyway.\n            defaultValue = String(defaultValue);\n        }\n        _this.state = {\n            uncontrolledValue: _this._isControlled ? undefined : defaultValue,\n            isFocused: false,\n            errorMessage: '',\n        };\n        _this._delayedValidate = _this._async.debounce(_this._validate, _this.props.deferredValidationTime);\n        _this._lastValidation = 0;\n        return _this;\n    }\n    Object.defineProperty(TextFieldBase.prototype, \"value\", {\n        /**\n         * Gets the current value of the text field.\n         */\n        get: function () {\n            return _getValue(this.props, this.state);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextFieldBase.prototype.componentDidMount = function () {\n        this._adjustInputHeight();\n        if (this.props.validateOnLoad) {\n            this._validate(this.value);\n        }\n    };\n    TextFieldBase.prototype.componentWillUnmount = function () {\n        this._async.dispose();\n    };\n    TextFieldBase.prototype.getSnapshotBeforeUpdate = function (prevProps, prevState) {\n        return {\n            selection: [this.selectionStart, this.selectionEnd],\n        };\n    };\n    TextFieldBase.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\n        var props = this.props;\n        var _a = (snapshot || {}).selection, selection = _a === void 0 ? [null, null] : _a;\n        var start = selection[0], end = selection[1];\n        if (!!prevProps.multiline !== !!props.multiline && prevState.isFocused) {\n            // The text field has just changed between single- and multi-line, so we need to reset focus\n            // and selection/cursor.\n            this.focus();\n            if (start !== null && end !== null && start >= 0 && end >= 0) {\n                this.setSelectionRange(start, end);\n            }\n        }\n        if (prevProps.value !== props.value) {\n            // Only if the value in props changed, reset the record of the last value seen by a\n            // change/input event (don't do this if the value in state changed, since at least in tests\n            // the state update may happen before the second event in a series)\n            this._lastChangeValue = undefined;\n        }\n        var prevValue = _getValue(prevProps, prevState);\n        var value = this.value;\n        if (prevValue !== value) {\n            // Handle controlled/uncontrolled warnings and status\n            this._warnControlledUsage(prevProps);\n            // Clear error message if needed\n            // TODO: is there any way to do this without an extra render?\n            if (this.state.errorMessage && !props.errorMessage) {\n                this.setState({ errorMessage: '' });\n            }\n            // Adjust height if needed based on new value\n            this._adjustInputHeight();\n            // TODO: #5875 added logic to trigger validation in componentWillReceiveProps and other places.\n            // This seems a bit odd and hard to integrate with the new approach.\n            // (Starting to think we should just put the validation logic in a separate wrapper component...?)\n            if (_shouldValidateAllChanges(props)) {\n                this._delayedValidate(value);\n            }\n        }\n    };\n    TextFieldBase.prototype.render = function () {\n        var _a = this.props, borderless = _a.borderless, className = _a.className, disabled = _a.disabled, iconProps = _a.iconProps, inputClassName = _a.inputClassName, label = _a.label, multiline = _a.multiline, required = _a.required, underlined = _a.underlined, prefix = _a.prefix, resizable = _a.resizable, suffix = _a.suffix, theme = _a.theme, styles = _a.styles, autoAdjustHeight = _a.autoAdjustHeight, canRevealPassword = _a.canRevealPassword, revealPasswordAriaLabel = _a.revealPasswordAriaLabel, type = _a.type, _b = _a.onRenderPrefix, onRenderPrefix = _b === void 0 ? this._onRenderPrefix : _b, _c = _a.onRenderSuffix, onRenderSuffix = _c === void 0 ? this._onRenderSuffix : _c, _d = _a.onRenderLabel, onRenderLabel = _d === void 0 ? this._onRenderLabel : _d, _e = _a.onRenderDescription, onRenderDescription = _e === void 0 ? this._onRenderDescription : _e;\n        var _f = this.state, isFocused = _f.isFocused, isRevealingPassword = _f.isRevealingPassword;\n        var errorMessage = this._errorMessage;\n        var hasRevealButton = !!canRevealPassword && type === 'password' && _browserNeedsRevealButton();\n        var classNames = (this._classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n            disabled: disabled,\n            focused: isFocused,\n            required: required,\n            multiline: multiline,\n            hasLabel: !!label,\n            hasErrorMessage: !!errorMessage,\n            borderless: borderless,\n            resizable: resizable,\n            hasIcon: !!iconProps,\n            underlined: underlined,\n            inputClassName: inputClassName,\n            autoAdjustHeight: autoAdjustHeight,\n            hasRevealButton: hasRevealButton,\n        }));\n        return (\n        // eslint-disable-next-line deprecation/deprecation\n        React.createElement(\"div\", { ref: this.props.elementRef, className: classNames.root },\n            React.createElement(\"div\", { className: classNames.wrapper },\n                onRenderLabel(this.props, this._onRenderLabel),\n                React.createElement(\"div\", { className: classNames.fieldGroup },\n                    (prefix !== undefined || this.props.onRenderPrefix) && (React.createElement(\"div\", { className: classNames.prefix }, onRenderPrefix(this.props, this._onRenderPrefix))),\n                    multiline ? this._renderTextArea() : this._renderInput(),\n                    iconProps && React.createElement(Icon, __assign({ className: classNames.icon }, iconProps)),\n                    hasRevealButton && (\n                    // Explicitly set type=\"button\" since the default button type within a form is \"submit\"\n                    React.createElement(\"button\", { \"aria-label\": revealPasswordAriaLabel, className: classNames.revealButton, onClick: this._onRevealButtonClick, \"aria-pressed\": !!isRevealingPassword, type: \"button\" },\n                        React.createElement(\"span\", { className: classNames.revealSpan },\n                            React.createElement(Icon, { className: classNames.revealIcon, iconName: isRevealingPassword ? HIDE_ICON_NAME : REVEAL_ICON_NAME })))),\n                    (suffix !== undefined || this.props.onRenderSuffix) && (React.createElement(\"div\", { className: classNames.suffix }, onRenderSuffix(this.props, this._onRenderSuffix))))),\n            this._isDescriptionAvailable && (React.createElement(\"span\", { id: this._descriptionId },\n                onRenderDescription(this.props, this._onRenderDescription),\n                errorMessage && (React.createElement(\"div\", { role: \"alert\" },\n                    React.createElement(DelayedRender, null, this._renderErrorMessage())))))));\n    };\n    /**\n     * Sets focus on the text field\n     */\n    TextFieldBase.prototype.focus = function () {\n        if (this._textElement.current) {\n            this._textElement.current.focus();\n        }\n    };\n    /**\n     * Blurs the text field.\n     */\n    TextFieldBase.prototype.blur = function () {\n        if (this._textElement.current) {\n            this._textElement.current.blur();\n        }\n    };\n    /**\n     * Selects the text field\n     */\n    TextFieldBase.prototype.select = function () {\n        if (this._textElement.current) {\n            this._textElement.current.select();\n        }\n    };\n    /**\n     * Sets the selection start of the text field to a specified value\n     */\n    TextFieldBase.prototype.setSelectionStart = function (value) {\n        if (this._textElement.current) {\n            this._textElement.current.selectionStart = value;\n        }\n    };\n    /**\n     * Sets the selection end of the text field to a specified value\n     */\n    TextFieldBase.prototype.setSelectionEnd = function (value) {\n        if (this._textElement.current) {\n            this._textElement.current.selectionEnd = value;\n        }\n    };\n    Object.defineProperty(TextFieldBase.prototype, \"selectionStart\", {\n        /**\n         * Gets the selection start of the text field\n         */\n        get: function () {\n            return this._textElement.current ? this._textElement.current.selectionStart : -1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextFieldBase.prototype, \"selectionEnd\", {\n        /**\n         * Gets the selection end of the text field\n         */\n        get: function () {\n            return this._textElement.current ? this._textElement.current.selectionEnd : -1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Sets the start and end positions of a selection in a text field.\n     * @param start - Index of the start of the selection.\n     * @param end - Index of the end of the selection.\n     */\n    TextFieldBase.prototype.setSelectionRange = function (start, end) {\n        if (this._textElement.current) {\n            this._textElement.current.setSelectionRange(start, end);\n        }\n    };\n    TextFieldBase.prototype._warnControlledUsage = function (prevProps) {\n        // Show warnings if props are being used in an invalid way\n        warnControlledUsage({\n            componentId: this._id,\n            componentName: COMPONENT_NAME,\n            props: this.props,\n            oldProps: prevProps,\n            valueProp: 'value',\n            defaultValueProp: 'defaultValue',\n            onChangeProp: 'onChange',\n            readOnlyProp: 'readOnly',\n        });\n        if (this.props.value === null && !this._hasWarnedNullValue) {\n            this._hasWarnedNullValue = true;\n            warn(\"Warning: 'value' prop on '\" + COMPONENT_NAME + \"' should not be null. Consider using an \" +\n                'empty string to clear the component or undefined to indicate an uncontrolled component.');\n        }\n    };\n    Object.defineProperty(TextFieldBase.prototype, \"_id\", {\n        /** Returns `props.id` if available, or a fallback if not. */\n        get: function () {\n            return this.props.id || this._fallbackId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextFieldBase.prototype, \"_isControlled\", {\n        get: function () {\n            return isControlled(this.props, 'value');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextFieldBase.prototype._onRenderPrefix = function (props) {\n        var prefix = props.prefix;\n        return React.createElement(\"span\", { style: { paddingBottom: '1px' } }, prefix);\n    };\n    TextFieldBase.prototype._onRenderSuffix = function (props) {\n        var suffix = props.suffix;\n        return React.createElement(\"span\", { style: { paddingBottom: '1px' } }, suffix);\n    };\n    Object.defineProperty(TextFieldBase.prototype, \"_errorMessage\", {\n        /**\n         * Current error message from either `props.errorMessage` or the result of `props.onGetErrorMessage`.\n         *\n         * - If there is no validation error or we have not validated the input value, errorMessage is an empty string.\n         * - If we have done the validation and there is validation error, errorMessage is the validation error message.\n         */\n        get: function () {\n            var _a = this.props.errorMessage, errorMessage = _a === void 0 ? this.state.errorMessage : _a;\n            return errorMessage || '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Renders error message based on the type of the message.\n     *\n     * - If error message is string, it will render using the built in styles.\n     * - If error message is an element, user has full control over how it's rendered.\n     */\n    TextFieldBase.prototype._renderErrorMessage = function () {\n        var errorMessage = this._errorMessage;\n        return errorMessage ? (typeof errorMessage === 'string' ? (React.createElement(\"p\", { className: this._classNames.errorMessage },\n            React.createElement(\"span\", { \"data-automation-id\": \"error-message\" }, errorMessage))) : (React.createElement(\"div\", { className: this._classNames.errorMessage, \"data-automation-id\": \"error-message\" }, errorMessage))) : null;\n    };\n    Object.defineProperty(TextFieldBase.prototype, \"_isDescriptionAvailable\", {\n        /**\n         * If a custom description render function is supplied then treat description as always available.\n         * Otherwise defer to the presence of description or error message text.\n         */\n        get: function () {\n            var props = this.props;\n            return !!(props.onRenderDescription || props.description || this._errorMessage);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextFieldBase.prototype._renderTextArea = function () {\n        var textAreaProps = getNativeProps(this.props, textAreaProperties, ['defaultValue']);\n        var ariaLabelledBy = this.props['aria-labelledby'] || (this.props.label ? this._labelId : undefined);\n        return (React.createElement(\"textarea\", __assign({ id: this._id }, textAreaProps, { ref: this._textElement, value: this.value || '', onInput: this._onInputChange, onChange: this._onInputChange, className: this._classNames.field, \"aria-labelledby\": ariaLabelledBy, \"aria-describedby\": this._isDescriptionAvailable ? this._descriptionId : this.props['aria-describedby'], \"aria-invalid\": !!this._errorMessage, \"aria-label\": this.props.ariaLabel, readOnly: this.props.readOnly, onFocus: this._onFocus, onBlur: this._onBlur })));\n    };\n    TextFieldBase.prototype._renderInput = function () {\n        var _a;\n        var inputProps = getNativeProps(this.props, inputProperties, [\n            'defaultValue',\n            'type',\n        ]);\n        var ariaLabelledBy = this.props['aria-labelledby'] || (this.props.label ? this._labelId : undefined);\n        var type = this.state.isRevealingPassword ? 'text' : (_a = this.props.type) !== null && _a !== void 0 ? _a : 'text';\n        return (React.createElement(\"input\", __assign({ type: type, id: this._id, \"aria-labelledby\": ariaLabelledBy }, inputProps, { ref: this._textElement, value: this.value || '', onInput: this._onInputChange, onChange: this._onInputChange, className: this._classNames.field, \"aria-label\": this.props.ariaLabel, \"aria-describedby\": this._isDescriptionAvailable ? this._descriptionId : this.props['aria-describedby'], \"aria-invalid\": !!this._errorMessage, readOnly: this.props.readOnly, onFocus: this._onFocus, onBlur: this._onBlur })));\n    };\n    TextFieldBase.prototype._validate = function (value) {\n        var _this = this;\n        // In case _validate is called again while validation promise is executing\n        if (this._latestValidateValue === value && _shouldValidateAllChanges(this.props)) {\n            return;\n        }\n        this._latestValidateValue = value;\n        var onGetErrorMessage = this.props.onGetErrorMessage;\n        var result = onGetErrorMessage && onGetErrorMessage(value || '');\n        if (result !== undefined) {\n            if (typeof result === 'string' || !('then' in result)) {\n                this.setState({ errorMessage: result });\n                this._notifyAfterValidate(value, result);\n            }\n            else {\n                var currentValidation_1 = ++this._lastValidation;\n                result.then(function (errorMessage) {\n                    if (currentValidation_1 === _this._lastValidation) {\n                        _this.setState({ errorMessage: errorMessage });\n                    }\n                    _this._notifyAfterValidate(value, errorMessage);\n                });\n            }\n        }\n        else {\n            this._notifyAfterValidate(value, '');\n        }\n    };\n    TextFieldBase.prototype._notifyAfterValidate = function (value, errorMessage) {\n        if (value === this.value && this.props.onNotifyValidationResult) {\n            this.props.onNotifyValidationResult(errorMessage, value);\n        }\n    };\n    TextFieldBase.prototype._adjustInputHeight = function () {\n        if (this._textElement.current && this.props.autoAdjustHeight && this.props.multiline) {\n            var textField = this._textElement.current;\n            textField.style.height = '';\n            textField.style.height = textField.scrollHeight + 'px';\n        }\n    };\n    TextFieldBase.defaultProps = {\n        resizable: true,\n        deferredValidationTime: 200,\n        validateOnLoad: true,\n    };\n    return TextFieldBase;\n}(React.Component));\nexport { TextFieldBase };\n/** Get the value from the given state and props (converting from number to string if needed) */\nfunction _getValue(props, state) {\n    var _a = props.value, value = _a === void 0 ? state.uncontrolledValue : _a;\n    if (typeof value === 'number') {\n        // not allowed per typings, but happens anyway\n        return String(value);\n    }\n    return value;\n}\n/**\n * If `validateOnFocusIn` or `validateOnFocusOut` is true, validation should run **only** on that event.\n * Otherwise, validation should run on every change.\n */\nfunction _shouldValidateAllChanges(props) {\n    return !(props.validateOnFocusIn || props.validateOnFocusOut);\n}\n// Only calculate this once across all TextFields, since will stay the same\nvar __browserNeedsRevealButton;\nfunction _browserNeedsRevealButton() {\n    if (typeof __browserNeedsRevealButton !== 'boolean') {\n        var win = getWindow();\n        if (win === null || win === void 0 ? void 0 : win.navigator) {\n            // Edge, Chromium Edge\n            var isEdge = /^Edg/.test(win.navigator.userAgent || '');\n            __browserNeedsRevealButton = !(isIE11() || isEdge);\n        }\n        else {\n            __browserNeedsRevealButton = true;\n        }\n    }\n    return __browserNeedsRevealButton;\n}\n//# sourceMappingURL=TextField.base.js.map","import { __assign } from \"tslib\";\nimport { AnimationClassNames, getGlobalClassNames, getInputFocusStyle, HighContrastSelector, normalize, getPlaceholderStyles, IconFontSizes, getHighContrastNoAdjustStyle, } from '../../Styling';\nvar globalClassNames = {\n    root: 'ms-TextField',\n    description: 'ms-TextField-description',\n    errorMessage: 'ms-TextField-errorMessage',\n    field: 'ms-TextField-field',\n    fieldGroup: 'ms-TextField-fieldGroup',\n    prefix: 'ms-TextField-prefix',\n    suffix: 'ms-TextField-suffix',\n    wrapper: 'ms-TextField-wrapper',\n    revealButton: 'ms-TextField-reveal',\n    multiline: 'ms-TextField--multiline',\n    borderless: 'ms-TextField--borderless',\n    underlined: 'ms-TextField--underlined',\n    unresizable: 'ms-TextField--unresizable',\n    required: 'is-required',\n    disabled: 'is-disabled',\n    active: 'is-active',\n};\nfunction getLabelStyles(props) {\n    var underlined = props.underlined, disabled = props.disabled, focused = props.focused, theme = props.theme;\n    var palette = theme.palette, fonts = theme.fonts;\n    return function () {\n        var _a;\n        return ({\n            root: [\n                underlined &&\n                    disabled && {\n                    color: palette.neutralTertiary,\n                },\n                underlined && {\n                    fontSize: fonts.medium.fontSize,\n                    marginRight: 8,\n                    paddingLeft: 12,\n                    paddingRight: 0,\n                    lineHeight: '22px',\n                    height: 32,\n                },\n                underlined &&\n                    focused && {\n                    selectors: (_a = {},\n                        _a[HighContrastSelector] = {\n                            height: 31,\n                        },\n                        _a),\n                },\n            ],\n        });\n    };\n}\nexport function getStyles(props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    var theme = props.theme, className = props.className, disabled = props.disabled, focused = props.focused, required = props.required, multiline = props.multiline, hasLabel = props.hasLabel, borderless = props.borderless, underlined = props.underlined, hasIcon = props.hasIcon, resizable = props.resizable, hasErrorMessage = props.hasErrorMessage, inputClassName = props.inputClassName, autoAdjustHeight = props.autoAdjustHeight, hasRevealButton = props.hasRevealButton;\n    var semanticColors = theme.semanticColors, effects = theme.effects, fonts = theme.fonts;\n    var classNames = getGlobalClassNames(globalClassNames, theme);\n    var fieldPrefixSuffix = {\n        // Suffix/Prefix are not editable so the disabled slot perfectly fits.\n        background: semanticColors.disabledBackground,\n        color: !disabled ? semanticColors.inputPlaceholderText : semanticColors.disabledText,\n        display: 'flex',\n        alignItems: 'center',\n        padding: '0 10px',\n        lineHeight: 1,\n        whiteSpace: 'nowrap',\n        flexShrink: 0,\n        selectors: (_a = {},\n            _a[HighContrastSelector] = {\n                background: 'Window',\n                color: disabled ? 'GrayText' : 'WindowText',\n            },\n            _a),\n    };\n    // placeholder style constants\n    var placeholderStyles = [\n        fonts.medium,\n        {\n            color: semanticColors.inputPlaceholderText,\n            opacity: 1,\n            selectors: (_b = {},\n                _b[HighContrastSelector] = {\n                    color: 'GrayText',\n                },\n                _b),\n        },\n    ];\n    var disabledPlaceholderStyles = {\n        color: semanticColors.disabledText,\n        selectors: (_c = {},\n            _c[HighContrastSelector] = {\n                color: 'GrayText',\n            },\n            _c),\n    };\n    return {\n        root: [\n            classNames.root,\n            fonts.medium,\n            required && classNames.required,\n            disabled && classNames.disabled,\n            focused && classNames.active,\n            multiline && classNames.multiline,\n            borderless && classNames.borderless,\n            underlined && classNames.underlined,\n            normalize,\n            {\n                position: 'relative',\n            },\n            className,\n        ],\n        wrapper: [\n            classNames.wrapper,\n            underlined && [\n                {\n                    display: 'flex',\n                    borderBottom: \"1px solid \" + (!hasErrorMessage ? semanticColors.inputBorder : semanticColors.errorText),\n                    width: '100%',\n                },\n                disabled && {\n                    borderBottomColor: semanticColors.disabledBackground,\n                    selectors: (_d = {},\n                        _d[HighContrastSelector] = __assign({ borderColor: 'GrayText' }, getHighContrastNoAdjustStyle()),\n                        _d),\n                },\n                !disabled && {\n                    selectors: {\n                        ':hover': {\n                            borderBottomColor: !hasErrorMessage ? semanticColors.inputBorderHovered : semanticColors.errorText,\n                            selectors: (_e = {},\n                                _e[HighContrastSelector] = __assign({ borderBottomColor: 'Highlight' }, getHighContrastNoAdjustStyle()),\n                                _e),\n                        },\n                    },\n                },\n                focused && [\n                    {\n                        position: 'relative',\n                    },\n                    getInputFocusStyle(!hasErrorMessage ? semanticColors.inputFocusBorderAlt : semanticColors.errorText, 0, 'borderBottom'),\n                ],\n            ],\n        ],\n        fieldGroup: [\n            classNames.fieldGroup,\n            normalize,\n            {\n                border: \"1px solid \" + semanticColors.inputBorder,\n                borderRadius: effects.roundedCorner2,\n                background: semanticColors.inputBackground,\n                cursor: 'text',\n                height: 32,\n                display: 'flex',\n                flexDirection: 'row',\n                alignItems: 'stretch',\n                position: 'relative',\n            },\n            multiline && {\n                minHeight: '60px',\n                height: 'auto',\n                display: 'flex',\n            },\n            !focused &&\n                !disabled && {\n                selectors: {\n                    ':hover': {\n                        borderColor: semanticColors.inputBorderHovered,\n                        selectors: (_f = {},\n                            _f[HighContrastSelector] = __assign({ borderColor: 'Highlight' }, getHighContrastNoAdjustStyle()),\n                            _f),\n                    },\n                },\n            },\n            focused &&\n                !underlined &&\n                getInputFocusStyle(!hasErrorMessage ? semanticColors.inputFocusBorderAlt : semanticColors.errorText, effects.roundedCorner2),\n            disabled && {\n                borderColor: semanticColors.disabledBackground,\n                selectors: (_g = {},\n                    _g[HighContrastSelector] = __assign({ borderColor: 'GrayText' }, getHighContrastNoAdjustStyle()),\n                    _g),\n                cursor: 'default',\n            },\n            borderless && {\n                border: 'none',\n            },\n            borderless &&\n                focused && {\n                border: 'none',\n                selectors: {\n                    ':after': {\n                        border: 'none',\n                    },\n                },\n            },\n            underlined && {\n                flex: '1 1 0px',\n                border: 'none',\n                textAlign: 'left',\n            },\n            underlined &&\n                disabled && {\n                backgroundColor: 'transparent',\n            },\n            hasErrorMessage &&\n                !underlined && {\n                borderColor: semanticColors.errorText,\n                selectors: {\n                    '&:hover': {\n                        borderColor: semanticColors.errorText,\n                    },\n                },\n            },\n            !hasLabel &&\n                required && {\n                selectors: (_h = {\n                        ':before': {\n                            content: \"'*'\",\n                            color: semanticColors.errorText,\n                            position: 'absolute',\n                            top: -5,\n                            right: -10,\n                        }\n                    },\n                    _h[HighContrastSelector] = {\n                        selectors: {\n                            ':before': {\n                                color: 'WindowText',\n                                right: -14,\n                            },\n                        },\n                    },\n                    _h),\n            },\n        ],\n        field: [\n            fonts.medium,\n            classNames.field,\n            normalize,\n            {\n                borderRadius: 0,\n                border: 'none',\n                background: 'none',\n                backgroundColor: 'transparent',\n                color: semanticColors.inputText,\n                padding: '0 8px',\n                width: '100%',\n                minWidth: 0,\n                textOverflow: 'ellipsis',\n                outline: 0,\n                selectors: (_j = {\n                        '&:active, &:focus, &:hover': { outline: 0 },\n                        '::-ms-clear': {\n                            display: 'none',\n                        }\n                    },\n                    _j[HighContrastSelector] = {\n                        background: 'Window',\n                        color: disabled ? 'GrayText' : 'WindowText',\n                    },\n                    _j),\n            },\n            getPlaceholderStyles(placeholderStyles),\n            multiline &&\n                !resizable && [\n                classNames.unresizable,\n                {\n                    resize: 'none',\n                },\n            ],\n            multiline && {\n                minHeight: 'inherit',\n                lineHeight: 17,\n                flexGrow: 1,\n                paddingTop: 6,\n                paddingBottom: 6,\n                overflow: 'auto',\n                width: '100%',\n            },\n            multiline &&\n                autoAdjustHeight && {\n                overflow: 'hidden',\n            },\n            hasIcon &&\n                !hasRevealButton && {\n                paddingRight: 24,\n            },\n            multiline &&\n                hasIcon && {\n                paddingRight: 40,\n            },\n            disabled && [\n                {\n                    backgroundColor: semanticColors.disabledBackground,\n                    color: semanticColors.disabledText,\n                    borderColor: semanticColors.disabledBackground,\n                },\n                getPlaceholderStyles(disabledPlaceholderStyles),\n            ],\n            underlined && {\n                textAlign: 'left',\n            },\n            focused &&\n                !borderless && {\n                selectors: (_k = {},\n                    _k[HighContrastSelector] = {\n                        paddingLeft: 11,\n                        paddingRight: 11,\n                    },\n                    _k),\n            },\n            focused &&\n                multiline &&\n                !borderless && {\n                selectors: (_l = {},\n                    _l[HighContrastSelector] = {\n                        paddingTop: 4,\n                    },\n                    _l),\n            },\n            inputClassName,\n        ],\n        icon: [\n            multiline && {\n                paddingRight: 24,\n                alignItems: 'flex-end',\n            },\n            {\n                pointerEvents: 'none',\n                position: 'absolute',\n                bottom: 6,\n                right: 8,\n                top: 'auto',\n                fontSize: IconFontSizes.medium,\n                lineHeight: 18,\n            },\n            disabled && {\n                color: semanticColors.disabledText,\n            },\n        ],\n        description: [\n            classNames.description,\n            {\n                color: semanticColors.bodySubtext,\n                fontSize: fonts.xSmall.fontSize,\n            },\n        ],\n        errorMessage: [\n            classNames.errorMessage,\n            AnimationClassNames.slideDownIn20,\n            fonts.small,\n            {\n                color: semanticColors.errorText,\n                margin: 0,\n                paddingTop: 5,\n                display: 'flex',\n                alignItems: 'center',\n            },\n        ],\n        prefix: [classNames.prefix, fieldPrefixSuffix],\n        suffix: [classNames.suffix, fieldPrefixSuffix],\n        revealButton: [\n            classNames.revealButton,\n            'ms-Button',\n            'ms-Button--icon',\n            {\n                height: 30,\n                width: 32,\n                border: 'none',\n                padding: '0px 4px',\n                backgroundColor: 'transparent',\n                color: semanticColors.link,\n                selectors: {\n                    ':hover': {\n                        outline: 0,\n                        color: semanticColors.primaryButtonBackgroundHovered,\n                        backgroundColor: semanticColors.buttonBackgroundHovered,\n                        selectors: (_m = {},\n                            _m[HighContrastSelector] = {\n                                borderColor: 'Highlight',\n                                color: 'Highlight',\n                            },\n                            _m),\n                    },\n                    ':focus': { outline: 0 },\n                },\n            },\n            hasIcon && {\n                marginRight: 28,\n            },\n        ],\n        revealSpan: {\n            display: 'flex',\n            height: '100%',\n            alignItems: 'center',\n        },\n        revealIcon: {\n            margin: '0px 4px',\n            pointerEvents: 'none',\n            bottom: 6,\n            right: 8,\n            top: 'auto',\n            fontSize: IconFontSizes.medium,\n            lineHeight: 18,\n        },\n        subComponentStyles: {\n            label: getLabelStyles(props),\n        },\n    };\n}\n//# sourceMappingURL=TextField.styles.js.map","import { styled } from '../../Utilities';\nimport { TextFieldBase } from './TextField.base';\nimport { getStyles } from './TextField.styles';\nexport var TextField = styled(TextFieldBase, getStyles, undefined, {\n    scope: 'TextField',\n});\n//# sourceMappingURL=TextField.js.map","import { EventGroup, getDocument } from '../../Utilities';\nvar MOUSEDOWN_PRIMARY_BUTTON = 0; // for mouse down event we are using ev.button property, 0 means left button\nvar MOUSEMOVE_PRIMARY_BUTTON = 1; // for mouse move event we are using ev.buttons property, 1 means left button\nvar DragDropHelper = /** @class */ (function () {\n    function DragDropHelper(params) {\n        this._selection = params.selection;\n        this._dragEnterCounts = {};\n        this._activeTargets = {};\n        this._lastId = 0;\n        // To make this class cheap to create, which allows simplifying some logic elsewhere,\n        // only initialize the event group and global event handlers as needed.\n        this._initialized = false;\n    }\n    DragDropHelper.prototype.dispose = function () {\n        if (this._events) {\n            this._events.dispose();\n        }\n    };\n    DragDropHelper.prototype.subscribe = function (root, events, dragDropOptions) {\n        var _this = this;\n        if (!this._initialized) {\n            this._events = new EventGroup(this);\n            var doc = getDocument();\n            // clear drag data when mouse up, use capture event to ensure it will be run\n            if (doc) {\n                this._events.on(doc.body, 'mouseup', this._onMouseUp.bind(this), true);\n                this._events.on(doc, 'mouseup', this._onDocumentMouseUp.bind(this), true);\n            }\n            this._initialized = true;\n        }\n        var _a = dragDropOptions.key, key = _a === void 0 ? \"\" + ++this._lastId : _a;\n        var handlers = [];\n        var onDragStart;\n        var onDragLeave;\n        var onDragEnter;\n        var onDragEnd;\n        var onDrop;\n        var onDragOver;\n        var onMouseDown;\n        var isDraggable;\n        var isDroppable;\n        var activeTarget;\n        if (dragDropOptions && root) {\n            var eventMap = dragDropOptions.eventMap, context = dragDropOptions.context, updateDropState_1 = dragDropOptions.updateDropState;\n            var dragDropTarget = {\n                root: root,\n                options: dragDropOptions,\n                key: key,\n            };\n            isDraggable = this._isDraggable(dragDropTarget);\n            isDroppable = this._isDroppable(dragDropTarget);\n            if (isDraggable || isDroppable) {\n                if (eventMap) {\n                    for (var _i = 0, eventMap_1 = eventMap; _i < eventMap_1.length; _i++) {\n                        var event_1 = eventMap_1[_i];\n                        var handler = {\n                            callback: event_1.callback.bind(null, context),\n                            eventName: event_1.eventName,\n                        };\n                        handlers.push(handler);\n                        this._events.on(root, handler.eventName, handler.callback);\n                    }\n                }\n            }\n            if (isDroppable) {\n                // If the target is droppable, wire up global event listeners to track drop-related events.\n                onDragLeave = function (event) {\n                    if (!event.isHandled) {\n                        event.isHandled = true;\n                        _this._dragEnterCounts[key]--;\n                        if (_this._dragEnterCounts[key] === 0) {\n                            updateDropState_1(false /* isDropping */, event);\n                        }\n                    }\n                };\n                onDragEnter = function (event) {\n                    event.preventDefault(); // needed for IE\n                    if (!event.isHandled) {\n                        event.isHandled = true;\n                        _this._dragEnterCounts[key]++;\n                        if (_this._dragEnterCounts[key] === 1) {\n                            updateDropState_1(true /* isDropping */, event);\n                        }\n                    }\n                };\n                onDragEnd = function (event) {\n                    _this._dragEnterCounts[key] = 0;\n                    updateDropState_1(false /* isDropping */, event);\n                };\n                onDrop = function (event) {\n                    _this._dragEnterCounts[key] = 0;\n                    updateDropState_1(false /* isDropping */, event);\n                    if (dragDropOptions.onDrop) {\n                        dragDropOptions.onDrop(dragDropOptions.context.data, event);\n                    }\n                };\n                onDragOver = function (event) {\n                    event.preventDefault();\n                    if (dragDropOptions.onDragOver) {\n                        dragDropOptions.onDragOver(dragDropOptions.context.data, event);\n                    }\n                };\n                this._dragEnterCounts[key] = 0;\n                // dragenter and dragleave will be fired when hover to the child element\n                // but we only want to change state when enter or leave the current element\n                // use the count to ensure it.\n                events.on(root, 'dragenter', onDragEnter);\n                events.on(root, 'dragleave', onDragLeave);\n                events.on(root, 'dragend', onDragEnd);\n                events.on(root, 'drop', onDrop);\n                events.on(root, 'dragover', onDragOver);\n            }\n            if (isDraggable) {\n                // If the target is draggable, wire up local event listeners for mouse events.\n                onMouseDown = this._onMouseDown.bind(this, dragDropTarget);\n                onDragEnd = this._onDragEnd.bind(this, dragDropTarget);\n                // We need to add in data so that on Firefox we show the ghost element when dragging\n                onDragStart = function (event) {\n                    var options = dragDropOptions;\n                    if (options && options.onDragStart) {\n                        options.onDragStart(options.context.data, options.context.index, _this._selection.getSelection(), event);\n                    }\n                    _this._isDragging = true;\n                    if (event.dataTransfer) {\n                        event.dataTransfer.setData('id', root.id);\n                    }\n                };\n                events.on(root, 'dragstart', onDragStart);\n                events.on(root, 'mousedown', onMouseDown);\n                events.on(root, 'dragend', onDragEnd);\n            }\n            activeTarget = {\n                target: dragDropTarget,\n                dispose: function () {\n                    if (_this._activeTargets[key] === activeTarget) {\n                        delete _this._activeTargets[key];\n                    }\n                    if (root) {\n                        for (var _i = 0, handlers_1 = handlers; _i < handlers_1.length; _i++) {\n                            var handler = handlers_1[_i];\n                            _this._events.off(root, handler.eventName, handler.callback);\n                        }\n                        if (isDroppable) {\n                            events.off(root, 'dragenter', onDragEnter);\n                            events.off(root, 'dragleave', onDragLeave);\n                            events.off(root, 'dragend', onDragEnd);\n                            events.off(root, 'dragover', onDragOver);\n                            events.off(root, 'drop', onDrop);\n                        }\n                        if (isDraggable) {\n                            events.off(root, 'dragstart', onDragStart);\n                            events.off(root, 'mousedown', onMouseDown);\n                            events.off(root, 'dragend', onDragEnd);\n                        }\n                    }\n                },\n            };\n            this._activeTargets[key] = activeTarget;\n        }\n        return {\n            key: key,\n            dispose: function () {\n                if (activeTarget) {\n                    activeTarget.dispose();\n                }\n            },\n        };\n    };\n    DragDropHelper.prototype.unsubscribe = function (root, key) {\n        var activeTarget = this._activeTargets[key];\n        if (activeTarget) {\n            activeTarget.dispose();\n        }\n    };\n    DragDropHelper.prototype._onDragEnd = function (target, event) {\n        var options = target.options;\n        if (options.onDragEnd) {\n            options.onDragEnd(options.context.data, event);\n        }\n    };\n    /**\n     * clear drag data when mouse up on body\n     */\n    DragDropHelper.prototype._onMouseUp = function (event) {\n        this._isDragging = false;\n        if (this._dragData) {\n            for (var _i = 0, _a = Object.keys(this._activeTargets); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var activeTarget = this._activeTargets[key];\n                if (activeTarget.target.root) {\n                    this._events.off(activeTarget.target.root, 'mousemove');\n                    this._events.off(activeTarget.target.root, 'mouseleave');\n                }\n            }\n            if (this._dragData.dropTarget) {\n                // raise dragleave event to let dropTarget know it need to remove dropping style\n                EventGroup.raise(this._dragData.dropTarget.root, 'dragleave');\n                EventGroup.raise(this._dragData.dropTarget.root, 'drop');\n            }\n        }\n        this._dragData = null;\n    };\n    /**\n     * clear drag data when mouse up outside of the document\n     */\n    DragDropHelper.prototype._onDocumentMouseUp = function (event) {\n        var doc = getDocument();\n        if (doc && event.target === doc.documentElement) {\n            this._onMouseUp(event);\n        }\n    };\n    /**\n     * when mouse move over a new drop target while dragging some items,\n     * fire dragleave on the old target and fire dragenter to the new target\n     * The target will handle style change on dragenter and dragleave events.\n     */\n    DragDropHelper.prototype._onMouseMove = function (target, event) {\n        var \n        // use buttons property here since ev.button in some edge case is not updating well during the move.\n        // but firefox doesn't support it, so we set the default value when it is not defined.\n        _a = event.buttons, \n        // use buttons property here since ev.button in some edge case is not updating well during the move.\n        // but firefox doesn't support it, so we set the default value when it is not defined.\n        buttons = _a === void 0 ? MOUSEMOVE_PRIMARY_BUTTON : _a;\n        if (this._dragData && buttons !== MOUSEMOVE_PRIMARY_BUTTON) {\n            // cancel mouse down event and return early when the primary button is not pressed\n            this._onMouseUp(event);\n            return;\n        }\n        var root = target.root, key = target.key;\n        if (this._isDragging) {\n            if (this._isDroppable(target)) {\n                // we can have nested drop targets in the DOM, like a folder inside a group. In that case, when we drag into\n                // the inner target (folder), we first set dropTarget to the inner element. But the same event is bubbled to the\n                // outer target too, and we need to prevent the outer one from taking over.\n                // So, check if the last dropTarget is not a child of the current.\n                if (this._dragData) {\n                    if (this._dragData.dropTarget &&\n                        this._dragData.dropTarget.key !== key &&\n                        !this._isChild(root, this._dragData.dropTarget.root)) {\n                        if (this._dragEnterCounts[this._dragData.dropTarget.key] > 0) {\n                            EventGroup.raise(this._dragData.dropTarget.root, 'dragleave');\n                            EventGroup.raise(root, 'dragenter');\n                            this._dragData.dropTarget = target;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * when mouse leave a target while dragging some items, fire dragleave to the target\n     */\n    DragDropHelper.prototype._onMouseLeave = function (target, event) {\n        if (this._isDragging) {\n            if (this._dragData && this._dragData.dropTarget && this._dragData.dropTarget.key === target.key) {\n                EventGroup.raise(target.root, 'dragleave');\n                this._dragData.dropTarget = undefined;\n            }\n        }\n    };\n    /**\n     * when mouse down on a draggable item, we start to track dragdata.\n     */\n    DragDropHelper.prototype._onMouseDown = function (target, event) {\n        if (event.button !== MOUSEDOWN_PRIMARY_BUTTON) {\n            // Ignore anything except the primary button.\n            return;\n        }\n        if (this._isDraggable(target)) {\n            this._dragData = {\n                clientX: event.clientX,\n                clientY: event.clientY,\n                eventTarget: event.target,\n                dragTarget: target,\n            };\n            for (var _i = 0, _a = Object.keys(this._activeTargets); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var activeTarget = this._activeTargets[key];\n                if (activeTarget.target.root) {\n                    this._events.on(activeTarget.target.root, 'mousemove', this._onMouseMove.bind(this, activeTarget.target));\n                    this._events.on(activeTarget.target.root, 'mouseleave', this._onMouseLeave.bind(this, activeTarget.target));\n                }\n            }\n        }\n        else {\n            this._dragData = null;\n        }\n    };\n    /**\n     * determine whether the child target is a descendant of the parent\n     */\n    DragDropHelper.prototype._isChild = function (parentElement, childElement) {\n        while (childElement && childElement.parentElement) {\n            if (childElement.parentElement === parentElement) {\n                return true;\n            }\n            childElement = childElement.parentElement;\n        }\n        return false;\n    };\n    DragDropHelper.prototype._isDraggable = function (target) {\n        var options = target.options;\n        return !!(options.canDrag && options.canDrag(options.context.data));\n    };\n    DragDropHelper.prototype._isDroppable = function (target) {\n        // TODO: take the drag item into consideration to prevent dragging an item into the same group\n        var options = target.options;\n        var dragContext = this._dragData && this._dragData.dragTarget ? this._dragData.dragTarget.options.context : undefined;\n        return !!(options.canDrop && options.canDrop(options.context, dragContext));\n    };\n    return DragDropHelper;\n}());\nexport { DragDropHelper };\n//# sourceMappingURL=DragDropHelper.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Async, EventGroup, KeyCodes, elementContains, findScrollableParent, getParent, getDocument, getWindow, isElementTabbable, css, initializeComponentRef, FocusRects, } from '../../Utilities';\nimport { SelectionMode } from './interfaces';\n// Selection definitions:\n//\n// Anchor index: the point from which a range selection starts.\n// Focus index: the point from which layout movement originates from.\n//\n// These two can differ. Tests:\n//\n// If you start at index 5\n// Shift click to index 10\n//    The focus is 10, the anchor is 5.\n// If you shift click at index 0\n//    The anchor remains at 5, the items between 0 and 5 are selected and everything else is cleared.\n// If you click index 8\n//    The anchor and focus are set to 8.\nvar SELECTION_DISABLED_ATTRIBUTE_NAME = 'data-selection-disabled';\nvar SELECTION_INDEX_ATTRIBUTE_NAME = 'data-selection-index';\nvar SELECTION_TOGGLE_ATTRIBUTE_NAME = 'data-selection-toggle';\nvar SELECTION_INVOKE_ATTRIBUTE_NAME = 'data-selection-invoke';\nvar SELECTION_INVOKE_TOUCH_ATTRIBUTE_NAME = 'data-selection-touch-invoke';\nvar SELECTALL_TOGGLE_ALL_ATTRIBUTE_NAME = 'data-selection-all-toggle';\nvar SELECTION_SELECT_ATTRIBUTE_NAME = 'data-selection-select';\n/**\n * {@docCategory Selection}\n */\nvar SelectionZone = /** @class */ (function (_super) {\n    __extends(SelectionZone, _super);\n    function SelectionZone(props) {\n        var _this = _super.call(this, props) || this;\n        _this._root = React.createRef();\n        /**\n         * In some cases, the consuming scenario requires to set focus on a row without having SelectionZone\n         * react to the event. Note that focus events in IE \\<= 11 will occur asynchronously after .focus() has\n         * been called on an element, so we need a flag to store the idea that we will bypass the \"next\"\n         * focus event that occurs. This method does that.\n         */\n        _this.ignoreNextFocus = function () {\n            _this._handleNextFocus(false);\n        };\n        _this._onSelectionChange = function () {\n            var selection = _this.props.selection;\n            var isModal = selection.isModal && selection.isModal();\n            _this.setState({\n                isModal: isModal,\n            });\n        };\n        _this._onMouseDownCapture = function (ev) {\n            var target = ev.target;\n            if (document.activeElement !== target && !elementContains(document.activeElement, target)) {\n                _this.ignoreNextFocus();\n                return;\n            }\n            if (!elementContains(target, _this._root.current)) {\n                return;\n            }\n            while (target !== _this._root.current) {\n                if (_this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)) {\n                    _this.ignoreNextFocus();\n                    break;\n                }\n                target = getParent(target);\n            }\n        };\n        /**\n         * When we focus an item, for single/multi select scenarios, we should try to select it immediately\n         * as long as the focus did not originate from a mouse down/touch event. For those cases, we handle them\n         * specially.\n         */\n        _this._onFocus = function (ev) {\n            var target = ev.target;\n            var selection = _this.props.selection;\n            var isToggleModifierPressed = _this._isCtrlPressed || _this._isMetaPressed;\n            var selectionMode = _this._getSelectionMode();\n            if (_this._shouldHandleFocus && selectionMode !== SelectionMode.none) {\n                var isToggle = _this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME);\n                var itemRoot = _this._findItemRoot(target);\n                if (!isToggle && itemRoot) {\n                    var index = _this._getItemIndex(itemRoot);\n                    if (isToggleModifierPressed) {\n                        // set anchor only.\n                        selection.setIndexSelected(index, selection.isIndexSelected(index), true);\n                        if (_this.props.enterModalOnTouch && _this._isTouch && selection.setModal) {\n                            selection.setModal(true);\n                            _this._setIsTouch(false);\n                        }\n                    }\n                    else {\n                        if (_this.props.isSelectedOnFocus) {\n                            _this._onItemSurfaceClick(ev, index);\n                        }\n                    }\n                }\n            }\n            _this._handleNextFocus(false);\n        };\n        _this._onMouseDown = function (ev) {\n            _this._updateModifiers(ev);\n            var target = ev.target;\n            var itemRoot = _this._findItemRoot(target);\n            // No-op if selection is disabled\n            if (_this._isSelectionDisabled(target)) {\n                return;\n            }\n            while (target !== _this._root.current) {\n                if (_this._hasAttribute(target, SELECTALL_TOGGLE_ALL_ATTRIBUTE_NAME)) {\n                    break;\n                }\n                else if (itemRoot) {\n                    if (_this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME)) {\n                        break;\n                    }\n                    else if (_this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)) {\n                        break;\n                    }\n                    else if ((target === itemRoot || _this._shouldAutoSelect(target)) &&\n                        !_this._isShiftPressed &&\n                        !_this._isCtrlPressed &&\n                        !_this._isMetaPressed) {\n                        _this._onInvokeMouseDown(ev, _this._getItemIndex(itemRoot));\n                        break;\n                    }\n                    else if (_this.props.disableAutoSelectOnInputElements &&\n                        (target.tagName === 'A' || target.tagName === 'BUTTON' || target.tagName === 'INPUT')) {\n                        return;\n                    }\n                }\n                target = getParent(target);\n            }\n        };\n        _this._onTouchStartCapture = function (ev) {\n            _this._setIsTouch(true);\n        };\n        _this._onClick = function (ev) {\n            var _a = _this.props.enableTouchInvocationTarget, enableTouchInvocationTarget = _a === void 0 ? false : _a;\n            _this._updateModifiers(ev);\n            var target = ev.target;\n            var itemRoot = _this._findItemRoot(target);\n            var isSelectionDisabled = _this._isSelectionDisabled(target);\n            while (target !== _this._root.current) {\n                if (_this._hasAttribute(target, SELECTALL_TOGGLE_ALL_ATTRIBUTE_NAME)) {\n                    if (!isSelectionDisabled) {\n                        _this._onToggleAllClick(ev);\n                    }\n                    break;\n                }\n                else if (itemRoot) {\n                    var index = _this._getItemIndex(itemRoot);\n                    if (_this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME)) {\n                        if (!isSelectionDisabled) {\n                            if (_this._isShiftPressed) {\n                                _this._onItemSurfaceClick(ev, index);\n                            }\n                            else {\n                                _this._onToggleClick(ev, index);\n                            }\n                        }\n                        break;\n                    }\n                    else if ((_this._isTouch &&\n                        enableTouchInvocationTarget &&\n                        _this._hasAttribute(target, SELECTION_INVOKE_TOUCH_ATTRIBUTE_NAME)) ||\n                        _this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)) {\n                        // Items should be invokable even if selection is disabled.\n                        _this._onInvokeClick(ev, index);\n                        break;\n                    }\n                    else if (target === itemRoot) {\n                        if (!isSelectionDisabled) {\n                            _this._onItemSurfaceClick(ev, index);\n                        }\n                        break;\n                    }\n                    else if (target.tagName === 'A' || target.tagName === 'BUTTON' || target.tagName === 'INPUT') {\n                        return;\n                    }\n                }\n                target = getParent(target);\n            }\n        };\n        _this._onContextMenu = function (ev) {\n            var target = ev.target;\n            var _a = _this.props, onItemContextMenu = _a.onItemContextMenu, selection = _a.selection;\n            if (onItemContextMenu) {\n                var itemRoot = _this._findItemRoot(target);\n                if (itemRoot) {\n                    var index = _this._getItemIndex(itemRoot);\n                    _this._onInvokeMouseDown(ev, index);\n                    var skipPreventDefault = onItemContextMenu(selection.getItems()[index], index, ev.nativeEvent);\n                    // In order to keep back compat, if the value here is undefined, then we should still\n                    // call preventDefault(). Only in the case where true is explicitly returned should\n                    // the call be skipped.\n                    if (!skipPreventDefault) {\n                        ev.preventDefault();\n                    }\n                }\n            }\n        };\n        /**\n         * In multi selection, if you double click within an item's root (but not within the invoke element or\n         * input elements), we should execute the invoke handler.\n         */\n        _this._onDoubleClick = function (ev) {\n            var target = ev.target;\n            var onItemInvoked = _this.props.onItemInvoked;\n            var itemRoot = _this._findItemRoot(target);\n            if (itemRoot && onItemInvoked && !_this._isInputElement(target)) {\n                var index = _this._getItemIndex(itemRoot);\n                while (target !== _this._root.current) {\n                    if (_this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME) ||\n                        _this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)) {\n                        break;\n                    }\n                    else if (target === itemRoot) {\n                        _this._onInvokeClick(ev, index);\n                        break;\n                    }\n                    target = getParent(target);\n                }\n                target = getParent(target);\n            }\n        };\n        _this._onKeyDownCapture = function (ev) {\n            _this._updateModifiers(ev);\n            _this._handleNextFocus(true);\n        };\n        _this._onKeyDown = function (ev) {\n            _this._updateModifiers(ev);\n            var target = ev.target;\n            var isSelectionDisabled = _this._isSelectionDisabled(target);\n            var selection = _this.props.selection;\n            // eslint-disable-next-line deprecation/deprecation\n            var isSelectAllKey = ev.which === KeyCodes.a && (_this._isCtrlPressed || _this._isMetaPressed);\n            // eslint-disable-next-line deprecation/deprecation\n            var isClearSelectionKey = ev.which === KeyCodes.escape;\n            // Ignore key downs from input elements.\n            if (_this._isInputElement(target)) {\n                // A key was pressed while an item in this zone was focused.\n                return;\n            }\n            var selectionMode = _this._getSelectionMode();\n            // If ctrl-a is pressed, select all (if all are not already selected.)\n            if (isSelectAllKey && selectionMode === SelectionMode.multiple && !selection.isAllSelected()) {\n                if (!isSelectionDisabled) {\n                    selection.setAllSelected(true);\n                }\n                ev.stopPropagation();\n                ev.preventDefault();\n                return;\n            }\n            // If escape is pressed, clear selection (if any are selected.)\n            if (isClearSelectionKey && selection.getSelectedCount() > 0) {\n                if (!isSelectionDisabled) {\n                    selection.setAllSelected(false);\n                }\n                ev.stopPropagation();\n                ev.preventDefault();\n                return;\n            }\n            var itemRoot = _this._findItemRoot(target);\n            // If a key was pressed within an item, we should treat \"enters\" as invokes and \"space\" as toggle\n            if (itemRoot) {\n                var index = _this._getItemIndex(itemRoot);\n                while (target !== _this._root.current) {\n                    if (_this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME)) {\n                        // For toggle elements, assuming they are rendered as buttons, they will generate a click event,\n                        // so we can no-op for any keydowns in this case.\n                        break;\n                    }\n                    else if (_this._shouldAutoSelect(target)) {\n                        if (!isSelectionDisabled) {\n                            // If the event went to an element which should trigger auto-select, select it and then let\n                            // the default behavior kick in.\n                            _this._onInvokeMouseDown(ev, index);\n                        }\n                        break;\n                    }\n                    else if (\n                    // eslint-disable-next-line deprecation/deprecation\n                    (ev.which === KeyCodes.enter || ev.which === KeyCodes.space) &&\n                        (target.tagName === 'BUTTON' || target.tagName === 'A' || target.tagName === 'INPUT')) {\n                        return false;\n                    }\n                    else if (target === itemRoot) {\n                        // eslint-disable-next-line deprecation/deprecation\n                        if (ev.which === KeyCodes.enter) {\n                            // Items should be invokable even if selection is disabled.\n                            _this._onInvokeClick(ev, index);\n                            ev.preventDefault();\n                            return;\n                            // eslint-disable-next-line deprecation/deprecation\n                        }\n                        else if (ev.which === KeyCodes.space) {\n                            if (!isSelectionDisabled) {\n                                _this._onToggleClick(ev, index);\n                            }\n                            ev.preventDefault();\n                            return;\n                        }\n                        break;\n                    }\n                    target = getParent(target);\n                }\n            }\n        };\n        _this._events = new EventGroup(_this);\n        _this._async = new Async(_this);\n        initializeComponentRef(_this);\n        var selection = _this.props.selection;\n        // Reflect the initial modal state of selection into the state.\n        var isModal = selection.isModal && selection.isModal();\n        _this.state = {\n            isModal: isModal,\n        };\n        return _this;\n    }\n    SelectionZone.getDerivedStateFromProps = function (nextProps, prevState) {\n        var isModal = nextProps.selection.isModal && nextProps.selection.isModal();\n        return __assign(__assign({}, prevState), { isModal: isModal });\n    };\n    SelectionZone.prototype.componentDidMount = function () {\n        var win = getWindow(this._root.current);\n        // Track the latest modifier keys globally.\n        this._events.on(win, 'keydown, keyup', this._updateModifiers, true);\n        this._events.on(document, 'click', this._findScrollParentAndTryClearOnEmptyClick);\n        this._events.on(document.body, 'touchstart', this._onTouchStartCapture, true);\n        this._events.on(document.body, 'touchend', this._onTouchStartCapture, true);\n        // Subscribe to the selection to keep modal state updated.\n        this._events.on(this.props.selection, 'change', this._onSelectionChange);\n    };\n    SelectionZone.prototype.render = function () {\n        var isModal = this.state.isModal;\n        return (React.createElement(\"div\", { className: css('ms-SelectionZone', this.props.className, {\n                'ms-SelectionZone--modal': !!isModal,\n            }), ref: this._root, onKeyDown: this._onKeyDown, onMouseDown: this._onMouseDown, onKeyDownCapture: this._onKeyDownCapture, onClick: this._onClick, role: \"presentation\", onDoubleClick: this._onDoubleClick, onContextMenu: this._onContextMenu, onMouseDownCapture: this._onMouseDownCapture, onFocusCapture: this._onFocus, \"data-selection-is-modal\": isModal ? true : undefined },\n            this.props.children,\n            React.createElement(FocusRects, null)));\n    };\n    SelectionZone.prototype.componentDidUpdate = function (previousProps) {\n        var selection = this.props.selection;\n        if (selection !== previousProps.selection) {\n            // Whenever selection changes, update the subscripton to keep modal state updated.\n            this._events.off(previousProps.selection);\n            this._events.on(selection, 'change', this._onSelectionChange);\n        }\n    };\n    SelectionZone.prototype.componentWillUnmount = function () {\n        this._events.dispose();\n        this._async.dispose();\n    };\n    SelectionZone.prototype._isSelectionDisabled = function (target) {\n        if (this._getSelectionMode() === SelectionMode.none) {\n            return true;\n        }\n        while (target !== this._root.current) {\n            if (this._hasAttribute(target, SELECTION_DISABLED_ATTRIBUTE_NAME)) {\n                return true;\n            }\n            target = getParent(target);\n        }\n        return false;\n    };\n    SelectionZone.prototype._onToggleAllClick = function (ev) {\n        var selection = this.props.selection;\n        var selectionMode = this._getSelectionMode();\n        if (selectionMode === SelectionMode.multiple) {\n            selection.toggleAllSelected();\n            ev.stopPropagation();\n            ev.preventDefault();\n        }\n    };\n    SelectionZone.prototype._onToggleClick = function (ev, index) {\n        var selection = this.props.selection;\n        var selectionMode = this._getSelectionMode();\n        selection.setChangeEvents(false);\n        if (this.props.enterModalOnTouch && this._isTouch && !selection.isIndexSelected(index) && selection.setModal) {\n            selection.setModal(true);\n            this._setIsTouch(false);\n        }\n        if (selectionMode === SelectionMode.multiple) {\n            selection.toggleIndexSelected(index);\n        }\n        else if (selectionMode === SelectionMode.single) {\n            var isSelected = selection.isIndexSelected(index);\n            var isModal = selection.isModal && selection.isModal();\n            selection.setAllSelected(false);\n            selection.setIndexSelected(index, !isSelected, true);\n            if (isModal && selection.setModal) {\n                // Since the above call to setAllSelected(false) clears modal state,\n                // restore it. This occurs because the SelectionMode of the Selection\n                // may differ from the SelectionZone.\n                selection.setModal(true);\n            }\n        }\n        else {\n            selection.setChangeEvents(true);\n            return;\n        }\n        selection.setChangeEvents(true);\n        ev.stopPropagation();\n        // NOTE: ev.preventDefault is not called for toggle clicks, because this will kill the browser behavior\n        // for checkboxes if you use a checkbox for the toggle.\n    };\n    SelectionZone.prototype._onInvokeClick = function (ev, index) {\n        var _a = this.props, selection = _a.selection, onItemInvoked = _a.onItemInvoked;\n        if (onItemInvoked) {\n            onItemInvoked(selection.getItems()[index], index, ev.nativeEvent);\n            ev.preventDefault();\n            ev.stopPropagation();\n        }\n    };\n    SelectionZone.prototype._onItemSurfaceClick = function (ev, index) {\n        var selection = this.props.selection;\n        var isToggleModifierPressed = this._isCtrlPressed || this._isMetaPressed;\n        var selectionMode = this._getSelectionMode();\n        if (selectionMode === SelectionMode.multiple) {\n            if (this._isShiftPressed && !this._isTabPressed) {\n                selection.selectToIndex(index, !isToggleModifierPressed);\n            }\n            else if (isToggleModifierPressed) {\n                selection.toggleIndexSelected(index);\n            }\n            else {\n                this._clearAndSelectIndex(index);\n            }\n        }\n        else if (selectionMode === SelectionMode.single) {\n            this._clearAndSelectIndex(index);\n        }\n    };\n    SelectionZone.prototype._onInvokeMouseDown = function (ev, index) {\n        var selection = this.props.selection;\n        // Only do work if item is not selected.\n        if (selection.isIndexSelected(index)) {\n            return;\n        }\n        this._clearAndSelectIndex(index);\n    };\n    /**\n     * To avoid high startup cost of traversing the DOM on component mount,\n     * defer finding the scrollable parent until a click interaction.\n     *\n     * The styles will probably already calculated since we're running in a click handler,\n     * so this is less likely to cause layout thrashing then doing it in mount.\n     */\n    SelectionZone.prototype._findScrollParentAndTryClearOnEmptyClick = function (ev) {\n        var scrollParent = findScrollableParent(this._root.current);\n        // unbind this handler and replace binding with a binding on the actual scrollable parent\n        this._events.off(document, 'click', this._findScrollParentAndTryClearOnEmptyClick);\n        this._events.on(scrollParent, 'click', this._tryClearOnEmptyClick);\n        // If we clicked inside the scrollable parent, call through to the handler on this click.\n        if ((scrollParent && ev.target instanceof Node && scrollParent.contains(ev.target)) || scrollParent === ev.target) {\n            this._tryClearOnEmptyClick(ev);\n        }\n    };\n    SelectionZone.prototype._tryClearOnEmptyClick = function (ev) {\n        if (!this.props.selectionPreservedOnEmptyClick && this._isNonHandledClick(ev.target)) {\n            this.props.selection.setAllSelected(false);\n        }\n    };\n    SelectionZone.prototype._clearAndSelectIndex = function (index) {\n        var selection = this.props.selection;\n        var isAlreadySingleSelected = selection.getSelectedCount() === 1 && selection.isIndexSelected(index);\n        if (!isAlreadySingleSelected) {\n            var isModal = selection.isModal && selection.isModal();\n            selection.setChangeEvents(false);\n            selection.setAllSelected(false);\n            selection.setIndexSelected(index, true, true);\n            if (isModal || (this.props.enterModalOnTouch && this._isTouch)) {\n                if (selection.setModal) {\n                    selection.setModal(true);\n                }\n                if (this._isTouch) {\n                    this._setIsTouch(false);\n                }\n            }\n            selection.setChangeEvents(true);\n        }\n    };\n    /**\n     * We need to track the modifier key states so that when focus events occur, which do not contain\n     * modifier states in the Event object, we know how to behave.\n     */\n    SelectionZone.prototype._updateModifiers = function (ev) {\n        this._isShiftPressed = ev.shiftKey;\n        this._isCtrlPressed = ev.ctrlKey;\n        this._isMetaPressed = ev.metaKey;\n        var keyCode = ev.keyCode;\n        this._isTabPressed = keyCode ? keyCode === KeyCodes.tab : false;\n    };\n    SelectionZone.prototype._findItemRoot = function (target) {\n        var selection = this.props.selection;\n        while (target !== this._root.current) {\n            var indexValue = target.getAttribute(SELECTION_INDEX_ATTRIBUTE_NAME);\n            var index = Number(indexValue);\n            if (indexValue !== null && index >= 0 && index < selection.getItems().length) {\n                break;\n            }\n            target = getParent(target);\n        }\n        if (target === this._root.current) {\n            return undefined;\n        }\n        return target;\n    };\n    SelectionZone.prototype._getItemIndex = function (itemRoot) {\n        return Number(itemRoot.getAttribute(SELECTION_INDEX_ATTRIBUTE_NAME));\n    };\n    SelectionZone.prototype._shouldAutoSelect = function (element) {\n        return this._hasAttribute(element, SELECTION_SELECT_ATTRIBUTE_NAME);\n    };\n    SelectionZone.prototype._hasAttribute = function (element, attributeName) {\n        var isToggle = false;\n        while (!isToggle && element !== this._root.current) {\n            isToggle = element.getAttribute(attributeName) === 'true';\n            element = getParent(element);\n        }\n        return isToggle;\n    };\n    SelectionZone.prototype._isInputElement = function (element) {\n        return element.tagName === 'INPUT' || element.tagName === 'TEXTAREA';\n    };\n    SelectionZone.prototype._isNonHandledClick = function (element) {\n        var doc = getDocument();\n        if (doc && element) {\n            while (element && element !== doc.documentElement) {\n                if (isElementTabbable(element)) {\n                    return false;\n                }\n                element = getParent(element);\n            }\n        }\n        return true;\n    };\n    SelectionZone.prototype._handleNextFocus = function (handleFocus) {\n        var _this = this;\n        if (this._shouldHandleFocusTimeoutId) {\n            this._async.clearTimeout(this._shouldHandleFocusTimeoutId);\n            this._shouldHandleFocusTimeoutId = undefined;\n        }\n        this._shouldHandleFocus = handleFocus;\n        if (handleFocus) {\n            this._async.setTimeout(function () {\n                _this._shouldHandleFocus = false;\n            }, 100);\n        }\n    };\n    SelectionZone.prototype._setIsTouch = function (isTouch) {\n        var _this = this;\n        if (this._isTouchTimeoutId) {\n            this._async.clearTimeout(this._isTouchTimeoutId);\n            this._isTouchTimeoutId = undefined;\n        }\n        this._isTouch = true;\n        if (isTouch) {\n            this._async.setTimeout(function () {\n                _this._isTouch = false;\n            }, 300);\n        }\n    };\n    SelectionZone.prototype._getSelectionMode = function () {\n        var selection = this.props.selection;\n        var _a = this.props.selectionMode, selectionMode = _a === void 0 ? selection ? selection.mode : SelectionMode.none : _a;\n        return selectionMode;\n    };\n    SelectionZone.defaultProps = {\n        isSelectedOnFocus: true,\n        selectionMode: SelectionMode.multiple,\n    };\n    return SelectionZone;\n}(React.Component));\nexport { SelectionZone };\n//# sourceMappingURL=SelectionZone.js.map","import { EventGroup } from './EventGroup';\nimport { findScrollableParent } from './scroll';\nimport { getRect } from './dom/getRect';\nvar SCROLL_ITERATION_DELAY = 16;\nvar SCROLL_GUTTER = 100;\nvar MAX_SCROLL_VELOCITY = 15;\n/**\n * AutoScroll simply hooks up mouse events given a parent element, and scrolls the container\n * up/down depending on how close the mouse is to the top/bottom of the container.\n *\n * Once you don't want autoscroll any more, just dispose the helper and it will unhook events.\n *\n * @public\n * {@docCategory AutoScroll}\n */\nvar AutoScroll = /** @class */ (function () {\n    function AutoScroll(element) {\n        this._events = new EventGroup(this);\n        this._scrollableParent = findScrollableParent(element);\n        this._incrementScroll = this._incrementScroll.bind(this);\n        this._scrollRect = getRect(this._scrollableParent);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this._scrollableParent === window) {\n            this._scrollableParent = document.body;\n        }\n        if (this._scrollableParent) {\n            this._events.on(window, 'mousemove', this._onMouseMove, true);\n            this._events.on(window, 'touchmove', this._onTouchMove, true);\n        }\n    }\n    AutoScroll.prototype.dispose = function () {\n        this._events.dispose();\n        this._stopScroll();\n    };\n    AutoScroll.prototype._onMouseMove = function (ev) {\n        this._computeScrollVelocity(ev);\n    };\n    AutoScroll.prototype._onTouchMove = function (ev) {\n        if (ev.touches.length > 0) {\n            this._computeScrollVelocity(ev);\n        }\n    };\n    AutoScroll.prototype._computeScrollVelocity = function (ev) {\n        if (!this._scrollRect) {\n            return;\n        }\n        var clientX;\n        var clientY;\n        if ('clientX' in ev) {\n            clientX = ev.clientX;\n            clientY = ev.clientY;\n        }\n        else {\n            clientX = ev.touches[0].clientX;\n            clientY = ev.touches[0].clientY;\n        }\n        var scrollRectTop = this._scrollRect.top;\n        var scrollRectLeft = this._scrollRect.left;\n        var scrollClientBottom = scrollRectTop + this._scrollRect.height - SCROLL_GUTTER;\n        var scrollClientRight = scrollRectLeft + this._scrollRect.width - SCROLL_GUTTER;\n        // variables to use for alternating scroll direction\n        var scrollRect;\n        var clientDirection;\n        var scrollClient;\n        // if either of these conditions are met we are scrolling vertically else horizontally\n        if (clientY < scrollRectTop + SCROLL_GUTTER || clientY > scrollClientBottom) {\n            clientDirection = clientY;\n            scrollRect = scrollRectTop;\n            scrollClient = scrollClientBottom;\n            this._isVerticalScroll = true;\n        }\n        else {\n            clientDirection = clientX;\n            scrollRect = scrollRectLeft;\n            scrollClient = scrollClientRight;\n            this._isVerticalScroll = false;\n        }\n        // calculate scroll velocity and direction\n        if (clientDirection < scrollRect + SCROLL_GUTTER) {\n            this._scrollVelocity = Math.max(-MAX_SCROLL_VELOCITY, -MAX_SCROLL_VELOCITY * ((SCROLL_GUTTER - (clientDirection - scrollRect)) / SCROLL_GUTTER));\n        }\n        else if (clientDirection > scrollClient) {\n            this._scrollVelocity = Math.min(MAX_SCROLL_VELOCITY, MAX_SCROLL_VELOCITY * ((clientDirection - scrollClient) / SCROLL_GUTTER));\n        }\n        else {\n            this._scrollVelocity = 0;\n        }\n        if (this._scrollVelocity) {\n            this._startScroll();\n        }\n        else {\n            this._stopScroll();\n        }\n    };\n    AutoScroll.prototype._startScroll = function () {\n        if (!this._timeoutId) {\n            this._incrementScroll();\n        }\n    };\n    AutoScroll.prototype._incrementScroll = function () {\n        if (this._scrollableParent) {\n            if (this._isVerticalScroll) {\n                this._scrollableParent.scrollTop += Math.round(this._scrollVelocity);\n            }\n            else {\n                this._scrollableParent.scrollLeft += Math.round(this._scrollVelocity);\n            }\n        }\n        this._timeoutId = setTimeout(this._incrementScroll, SCROLL_ITERATION_DELAY);\n    };\n    AutoScroll.prototype._stopScroll = function () {\n        if (this._timeoutId) {\n            clearTimeout(this._timeoutId);\n            delete this._timeoutId;\n        }\n    };\n    return AutoScroll;\n}());\nexport { AutoScroll };\n//# sourceMappingURL=AutoScroll.js.map","import { __extends } from \"tslib\";\nimport * as React from 'react';\n/**\n * Utility component for delaying the render of a child component after a given delay. This component\n * requires a single child component; don't pass in many components. Wrap multiple components in a DIV\n * if necessary.\n *\n * @public\n * {@docCategory DelayedRender}\n */\nvar DelayedRender = /** @class */ (function (_super) {\n    __extends(DelayedRender, _super);\n    function DelayedRender(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isRendered: false,\n        };\n        return _this;\n    }\n    DelayedRender.prototype.componentDidMount = function () {\n        var _this = this;\n        var delay = this.props.delay;\n        this._timeoutId = window.setTimeout(function () {\n            _this.setState({\n                isRendered: true,\n            });\n        }, delay);\n    };\n    DelayedRender.prototype.componentWillUnmount = function () {\n        if (this._timeoutId) {\n            clearTimeout(this._timeoutId);\n        }\n    };\n    DelayedRender.prototype.render = function () {\n        return this.state.isRendered ? React.Children.only(this.props.children) : null;\n    };\n    DelayedRender.defaultProps = {\n        delay: 0,\n    };\n    return DelayedRender;\n}(React.Component));\nexport { DelayedRender };\n//# sourceMappingURL=DelayedRender.js.map","/**\n * Determines whether a component is controlled.\n * @param props - Component props\n * @param valueProp - Prop containing the controlled value\n * @returns true if controlled, false if uncontrolled\n */\nexport function isControlled(props, valueProp) {\n    // React's built-in <input> considers a prop to be provided if its value is non-null/undefined.\n    // Mirror that behavior here (rather than checking for just undefined).\n    return props[valueProp] !== undefined && props[valueProp] !== null;\n}\n//# sourceMappingURL=controlled.js.map","/**\n * Helper to get bounding client rect. Passing in window will get the window size.\n *\n * @public\n */\nexport function getRect(element) {\n    var rect;\n    if (element) {\n        if (element === window) {\n            rect = {\n                left: 0,\n                top: 0,\n                width: window.innerWidth,\n                height: window.innerHeight,\n                right: window.innerWidth,\n                bottom: window.innerHeight,\n            };\n        }\n        else if (element.getBoundingClientRect) {\n            rect = element.getBoundingClientRect();\n        }\n    }\n    return rect;\n}\n//# sourceMappingURL=getRect.js.map","import { getWindow } from './dom/getWindow';\nexport var isIE11 = function () {\n    var _a;\n    var win = getWindow();\n    if (!((_a = win === null || win === void 0 ? void 0 : win.navigator) === null || _a === void 0 ? void 0 : _a.userAgent)) {\n        return false;\n    }\n    return win.navigator.userAgent.indexOf('rv:11.0') > -1;\n};\n//# sourceMappingURL=ie11Detector.js.map","/**\n * Determines the distance between two points.\n *\n * @public\n */\n/* eslint-disable deprecation/deprecation */\nexport function getDistanceBetweenPoints(point1, point2) {\n    var left1 = point1.left || point1.x || 0;\n    var top1 = point1.top || point1.y || 0;\n    var left2 = point2.left || point2.x || 0;\n    var top2 = point2.top || point2.y || 0;\n    /* eslint-enable deprecation/deprecation */\n    var distance = Math.sqrt(Math.pow(left1 - left2, 2) + Math.pow(top1 - top2, 2));\n    return distance;\n}\n/**\n * Produces a proportionally-scaled version of an input content size when fit to a bounding size.\n * Given a `contentSize` and a `boundsSize`, this function scales `contentSize` proportionally\n * using either `contain` or `cover` fit behaviors.\n * Use this function to pre-calculate the layout for the CSS `object-fit` and `background-fit` behaviors.\n * With `contain`, the output size must be the largest it can be while completely within the `boundsSize`.\n * With `cover`, the output size must be the smallest it can be while completely around the `boundsSize`.\n * By default, there is a `maxScale` value of 1, which prevents the `contentSize` from being scaled larger.\n *\n * @param options - the options for the bounds fit operation\n */\nexport function fitContentToBounds(options) {\n    var contentSize = options.contentSize, boundsSize = options.boundsSize, _a = options.mode, mode = _a === void 0 ? 'contain' : _a, _b = options.maxScale, maxScale = _b === void 0 ? 1 : _b;\n    var contentAspectRatio = contentSize.width / contentSize.height;\n    var boundsAspectRatio = boundsSize.width / boundsSize.height;\n    var scale;\n    if (mode === 'contain' ? contentAspectRatio > boundsAspectRatio : contentAspectRatio < boundsAspectRatio) {\n        scale = boundsSize.width / contentSize.width;\n    }\n    else {\n        scale = boundsSize.height / contentSize.height;\n    }\n    var finalScale = Math.min(maxScale, scale);\n    return {\n        width: contentSize.width * finalScale,\n        height: contentSize.height * finalScale,\n    };\n}\n/**\n * Calculates a number's precision based on the number of trailing\n * zeros if the number does not have a decimal indicated by a negative\n * precision. Otherwise, it calculates the number of digits after\n * the decimal point indicated by a positive precision.\n * @param value - the value to determine the precision of\n */\nexport function calculatePrecision(value) {\n    /**\n     * Group 1:\n     * [1-9]([0]+$) matches trailing zeros\n     * Group 2:\n     * \\.([0-9]*) matches all digits after a decimal point.\n     */\n    var groups = /[1-9]([0]+$)|\\.([0-9]*)/.exec(String(value));\n    if (!groups) {\n        return 0;\n    }\n    if (groups[1]) {\n        return -groups[1].length;\n    }\n    if (groups[2]) {\n        return groups[2].length;\n    }\n    return 0;\n}\n/**\n * Rounds a number to a certain level of precision. Accepts negative precision.\n * @param value - The value that is being rounded.\n * @param precision - The number of decimal places to round the number to\n */\nexport function precisionRound(value, precision, base) {\n    if (base === void 0) { base = 10; }\n    var exp = Math.pow(base, precision);\n    return Math.round(value * exp) / exp;\n}\n//# sourceMappingURL=math.js.map","/**\n * The helper functions here will make the target element as modal to screen readers, by placing aria-hidden on elements\n * that are siblings to the target element and the target element's ancestors (because aria-hidden gets inherited).\n * That way, all other elements on the page are hidden to the screen reader.\n */\nimport { getDocument } from './dom/getDocument';\n/**\n * Call this on a target element to make it modal to screen readers.\n * Returns a function that undoes the changes it made.\n */\nexport function modalize(target) {\n    var _a;\n    var affectedNodes = [];\n    var targetDocument = getDocument(target) || document;\n    // start at target, then recurse and do the same for parent, until we reach <body>\n    while (target !== targetDocument.body) {\n        // grab all siblings of current element\n        for (var _i = 0, _b = target.parentElement.children; _i < _b.length; _i++) {\n            var sibling = _b[_i];\n            // but ignore elements that are already aria-hidden\n            if (sibling !== target && ((_a = sibling.getAttribute('aria-hidden')) === null || _a === void 0 ? void 0 : _a.toLowerCase()) !== 'true') {\n                affectedNodes.push(sibling);\n            }\n        }\n        if (!target.parentElement) {\n            break;\n        }\n        target = target.parentElement;\n    }\n    // take all those elements and set aria-hidden=true on them\n    affectedNodes.forEach(function (node) {\n        node.setAttribute('aria-hidden', 'true');\n    });\n    return function () {\n        unmodalize(affectedNodes);\n        affectedNodes = []; // dispose\n    };\n}\n/**\n * Undoes the changes that modalize() did.\n */\nfunction unmodalize(affectedNodes) {\n    affectedNodes.forEach(function (node) {\n        // set instead of removing in case other components explicitly set aria-hidden and do ==\"true\" or ==\"false\"\n        node.setAttribute('aria-hidden', 'false');\n    });\n}\n//# sourceMappingURL=modalize.js.map","import { createMemoizer } from '../memoize';\nfunction createComposedRenderFunction(outer) {\n    var outerMemoizer = createMemoizer(function (inner) {\n        var innerMemoizer = createMemoizer(function (defaultRender) {\n            return function (innerProps) {\n                return inner(innerProps, defaultRender);\n            };\n        });\n        return function (outerProps, defaultRender) {\n            return outer(outerProps, defaultRender ? innerMemoizer(defaultRender) : inner);\n        };\n    });\n    return outerMemoizer;\n}\nvar memoizer = createMemoizer(createComposedRenderFunction);\n/**\n * Composes two 'render functions' to produce a final render function that renders\n * the outer function, passing the inner function as 'default render'. The inner function\n * is then passed the original 'default render' prop.\n * @public\n */\nexport function composeRenderFunction(outer, inner) {\n    return memoizer(outer)(inner);\n}\n//# sourceMappingURL=composeRenderFunction.js.map","import { SELECTION_CHANGE, SelectionMode } from './Selection.types';\nimport { EventGroup } from '../EventGroup';\n/**\n * {@docCategory Selection}\n */\nvar Selection = /** @class */ (function () {\n    /**\n     * Create a new Selection. If `TItem` does not have a `key` property, you must provide an options\n     * object with a `getKey` implementation. Providing options is optional otherwise.\n     * (At most one `options` object is accepted.)\n     */\n    function Selection() {\n        var options = []; // Otherwise, arguments require options with `getKey`.\n        for (var _i = 0 // Otherwise, arguments require options with `getKey`.\n        ; _i < arguments.length // Otherwise, arguments require options with `getKey`.\n        ; _i++ // Otherwise, arguments require options with `getKey`.\n        ) {\n            options[_i] = arguments[_i]; // Otherwise, arguments require options with `getKey`.\n        }\n        var _a = options[0] || {}, onSelectionChanged = _a.onSelectionChanged, getKey = _a.getKey, _b = _a.canSelectItem, canSelectItem = _b === void 0 ? function () { return true; } : _b, items = _a.items, _c = _a.selectionMode, selectionMode = _c === void 0 ? SelectionMode.multiple : _c;\n        this.mode = selectionMode;\n        this._getKey = getKey || defaultGetKey;\n        this._changeEventSuppressionCount = 0;\n        this._exemptedCount = 0;\n        this._anchoredIndex = 0;\n        this._unselectableCount = 0;\n        this._onSelectionChanged = onSelectionChanged;\n        this._canSelectItem = canSelectItem;\n        this._isModal = false;\n        this.setItems(items || [], true);\n        this.count = this.getSelectedCount();\n    }\n    Selection.prototype.canSelectItem = function (item, index) {\n        if (typeof index === 'number' && index < 0) {\n            return false;\n        }\n        return this._canSelectItem(item, index);\n    };\n    Selection.prototype.getKey = function (item, index) {\n        var key = this._getKey(item, index);\n        return typeof key === 'number' || key ? \"\" + key : '';\n    };\n    Selection.prototype.setChangeEvents = function (isEnabled, suppressChange) {\n        this._changeEventSuppressionCount += isEnabled ? -1 : 1;\n        if (this._changeEventSuppressionCount === 0 && this._hasChanged) {\n            this._hasChanged = false;\n            if (!suppressChange) {\n                this._change();\n            }\n        }\n    };\n    Selection.prototype.isModal = function () {\n        return this._isModal;\n    };\n    Selection.prototype.setModal = function (isModal) {\n        if (this._isModal !== isModal) {\n            this.setChangeEvents(false);\n            this._isModal = isModal;\n            if (!isModal) {\n                this.setAllSelected(false);\n            }\n            this._change();\n            this.setChangeEvents(true);\n        }\n    };\n    /**\n     * Selection needs the items, call this method to set them. If the set\n     * of items is the same, this will re-evaluate selection and index maps.\n     * Otherwise, shouldClear should be set to true, so that selection is\n     * cleared.\n     */\n    Selection.prototype.setItems = function (items, shouldClear) {\n        if (shouldClear === void 0) { shouldClear = true; }\n        var newKeyToIndexMap = {};\n        var newUnselectableIndices = {};\n        var hasSelectionChanged = false;\n        this.setChangeEvents(false);\n        // Reset the unselectable count.\n        this._unselectableCount = 0;\n        // Build lookup table for quick selection evaluation.\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item) {\n                var key = this.getKey(item, i);\n                if (key) {\n                    newKeyToIndexMap[key] = i;\n                }\n            }\n            newUnselectableIndices[i] = item && !this.canSelectItem(item);\n            if (newUnselectableIndices[i]) {\n                this._unselectableCount++;\n            }\n        }\n        if (shouldClear || items.length === 0) {\n            this._setAllSelected(false, true);\n        }\n        // Check the exemption list for discrepencies.\n        var newExemptedIndicies = {};\n        var newExemptedCount = 0;\n        for (var indexProperty in this._exemptedIndices) {\n            if (this._exemptedIndices.hasOwnProperty(indexProperty)) {\n                var index = Number(indexProperty);\n                var item = this._items[index];\n                var exemptKey = item ? this.getKey(item, Number(index)) : undefined;\n                var newIndex = exemptKey ? newKeyToIndexMap[exemptKey] : index;\n                if (newIndex === undefined) {\n                    // The item has likely been replaced or removed.\n                    hasSelectionChanged = true;\n                }\n                else {\n                    // We know the new index of the item. update the existing exemption table.\n                    newExemptedIndicies[newIndex] = true;\n                    newExemptedCount++;\n                    hasSelectionChanged = hasSelectionChanged || newIndex !== index;\n                }\n            }\n        }\n        if (this._items && this._exemptedCount === 0 && items.length !== this._items.length && this._isAllSelected) {\n            // If everything was selected but the number of items has changed, selection has changed.\n            hasSelectionChanged = true;\n        }\n        this._exemptedIndices = newExemptedIndicies;\n        this._exemptedCount = newExemptedCount;\n        this._keyToIndexMap = newKeyToIndexMap;\n        this._unselectableIndices = newUnselectableIndices;\n        this._items = items;\n        this._selectedItems = null;\n        if (hasSelectionChanged) {\n            this._updateCount();\n            this._change();\n        }\n        this.setChangeEvents(true);\n    };\n    Selection.prototype.getItems = function () {\n        return this._items;\n    };\n    Selection.prototype.getSelection = function () {\n        if (!this._selectedItems) {\n            this._selectedItems = [];\n            var items = this._items;\n            if (items) {\n                for (var i = 0; i < items.length; i++) {\n                    if (this.isIndexSelected(i)) {\n                        this._selectedItems.push(items[i]);\n                    }\n                }\n            }\n        }\n        return this._selectedItems;\n    };\n    Selection.prototype.getSelectedCount = function () {\n        return this._isAllSelected\n            ? this._items.length - this._exemptedCount - this._unselectableCount\n            : this._exemptedCount;\n    };\n    Selection.prototype.getSelectedIndices = function () {\n        if (!this._selectedIndices) {\n            this._selectedIndices = [];\n            var items = this._items;\n            if (items) {\n                for (var i = 0; i < items.length; i++) {\n                    if (this.isIndexSelected(i)) {\n                        this._selectedIndices.push(i);\n                    }\n                }\n            }\n        }\n        return this._selectedIndices;\n    };\n    Selection.prototype.isRangeSelected = function (fromIndex, count) {\n        if (count === 0) {\n            return false;\n        }\n        var endIndex = fromIndex + count;\n        for (var i = fromIndex; i < endIndex; i++) {\n            if (!this.isIndexSelected(i)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Selection.prototype.isAllSelected = function () {\n        var selectableCount = this._items.length - this._unselectableCount;\n        // In single mode, we can only have a max of 1 item.\n        if (this.mode === SelectionMode.single) {\n            selectableCount = Math.min(selectableCount, 1);\n        }\n        return ((this.count > 0 && this._isAllSelected && this._exemptedCount === 0) ||\n            (!this._isAllSelected && this._exemptedCount === selectableCount && selectableCount > 0));\n    };\n    Selection.prototype.isKeySelected = function (key) {\n        var index = this._keyToIndexMap[key];\n        return this.isIndexSelected(index);\n    };\n    Selection.prototype.isIndexSelected = function (index) {\n        return !!((this.count > 0 && this._isAllSelected && !this._exemptedIndices[index] && !this._unselectableIndices[index]) ||\n            (!this._isAllSelected && this._exemptedIndices[index]));\n    };\n    Selection.prototype.setAllSelected = function (isAllSelected) {\n        if (isAllSelected && this.mode !== SelectionMode.multiple) {\n            return;\n        }\n        var selectableCount = this._items ? this._items.length - this._unselectableCount : 0;\n        this.setChangeEvents(false);\n        if (selectableCount > 0 && (this._exemptedCount > 0 || isAllSelected !== this._isAllSelected)) {\n            this._exemptedIndices = {};\n            if (isAllSelected !== this._isAllSelected || this._exemptedCount > 0) {\n                this._exemptedCount = 0;\n                this._isAllSelected = isAllSelected;\n                this._change();\n            }\n            this._updateCount();\n        }\n        this.setChangeEvents(true);\n    };\n    Selection.prototype.setKeySelected = function (key, isSelected, shouldAnchor) {\n        var index = this._keyToIndexMap[key];\n        if (index >= 0) {\n            this.setIndexSelected(index, isSelected, shouldAnchor);\n        }\n    };\n    Selection.prototype.setIndexSelected = function (index, isSelected, shouldAnchor) {\n        if (this.mode === SelectionMode.none) {\n            return;\n        }\n        // Clamp the index.\n        index = Math.min(Math.max(0, index), this._items.length - 1);\n        // No-op on out of bounds selections.\n        if (index < 0 || index >= this._items.length) {\n            return;\n        }\n        this.setChangeEvents(false);\n        var isExempt = this._exemptedIndices[index];\n        var canSelect = !this._unselectableIndices[index];\n        if (canSelect) {\n            if (isSelected && this.mode === SelectionMode.single) {\n                // If this is single-select, the previous selection should be removed.\n                this._setAllSelected(false, true);\n            }\n            // Determine if we need to remove the exemption.\n            if (isExempt && ((isSelected && this._isAllSelected) || (!isSelected && !this._isAllSelected))) {\n                delete this._exemptedIndices[index];\n                this._exemptedCount--;\n            }\n            // Determine if we need to add the exemption.\n            if (!isExempt && ((isSelected && !this._isAllSelected) || (!isSelected && this._isAllSelected))) {\n                this._exemptedIndices[index] = true;\n                this._exemptedCount++;\n            }\n            if (shouldAnchor) {\n                this._anchoredIndex = index;\n            }\n        }\n        this._updateCount();\n        this.setChangeEvents(true);\n    };\n    Selection.prototype.selectToKey = function (key, clearSelection) {\n        this.selectToIndex(this._keyToIndexMap[key], clearSelection);\n    };\n    Selection.prototype.selectToIndex = function (index, clearSelection) {\n        if (this.mode === SelectionMode.none) {\n            return;\n        }\n        if (this.mode === SelectionMode.single) {\n            this.setIndexSelected(index, true, true);\n            return;\n        }\n        var anchorIndex = this._anchoredIndex || 0;\n        var startIndex = Math.min(index, anchorIndex);\n        var endIndex = Math.max(index, anchorIndex);\n        this.setChangeEvents(false);\n        if (clearSelection) {\n            this._setAllSelected(false, true);\n        }\n        for (; startIndex <= endIndex; startIndex++) {\n            this.setIndexSelected(startIndex, true, false);\n        }\n        this.setChangeEvents(true);\n    };\n    Selection.prototype.toggleAllSelected = function () {\n        this.setAllSelected(!this.isAllSelected());\n    };\n    Selection.prototype.toggleKeySelected = function (key) {\n        this.setKeySelected(key, !this.isKeySelected(key), true);\n    };\n    Selection.prototype.toggleIndexSelected = function (index) {\n        this.setIndexSelected(index, !this.isIndexSelected(index), true);\n    };\n    Selection.prototype.toggleRangeSelected = function (fromIndex, count) {\n        if (this.mode === SelectionMode.none) {\n            return;\n        }\n        var isRangeSelected = this.isRangeSelected(fromIndex, count);\n        var endIndex = fromIndex + count;\n        if (this.mode === SelectionMode.single && count > 1) {\n            return;\n        }\n        this.setChangeEvents(false);\n        for (var i = fromIndex; i < endIndex; i++) {\n            this.setIndexSelected(i, !isRangeSelected, false);\n        }\n        this.setChangeEvents(true);\n    };\n    Selection.prototype._updateCount = function (preserveModalState) {\n        if (preserveModalState === void 0) { preserveModalState = false; }\n        var count = this.getSelectedCount();\n        if (count !== this.count) {\n            this.count = count;\n            this._change();\n        }\n        if (!this.count && !preserveModalState) {\n            this.setModal(false);\n        }\n    };\n    Selection.prototype._setAllSelected = function (isAllSelected, preserveModalState) {\n        if (preserveModalState === void 0) { preserveModalState = false; }\n        if (isAllSelected && this.mode !== SelectionMode.multiple) {\n            return;\n        }\n        var selectableCount = this._items ? this._items.length - this._unselectableCount : 0;\n        this.setChangeEvents(false);\n        if (selectableCount > 0 && (this._exemptedCount > 0 || isAllSelected !== this._isAllSelected)) {\n            this._exemptedIndices = {};\n            if (isAllSelected !== this._isAllSelected || this._exemptedCount > 0) {\n                this._exemptedCount = 0;\n                this._isAllSelected = isAllSelected;\n                this._change();\n            }\n            this._updateCount(preserveModalState);\n        }\n        this.setChangeEvents(true);\n    };\n    Selection.prototype._change = function () {\n        if (this._changeEventSuppressionCount === 0) {\n            this._selectedItems = null;\n            this._selectedIndices = undefined;\n            EventGroup.raise(this, SELECTION_CHANGE);\n            if (this._onSelectionChanged) {\n                this._onSelectionChanged();\n            }\n        }\n        else {\n            this._hasChanged = true;\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\nfunction defaultGetKey(item, index) {\n    // 0 may be used as a key\n    var _a = (item || {}).key, key = _a === void 0 ? \"\" + index : _a;\n    return key;\n}\n//# sourceMappingURL=Selection.js.map","export var SELECTION_CHANGE = 'change';\n/**\n * {@docCategory Selection}\n */\nexport var SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[SelectionMode[\"none\"] = 0] = \"none\";\n    SelectionMode[SelectionMode[\"single\"] = 1] = \"single\";\n    SelectionMode[SelectionMode[\"multiple\"] = 2] = \"multiple\";\n})(SelectionMode || (SelectionMode = {}));\n/**\n * {@docCategory Selection}\n */\nexport var SelectionDirection;\n(function (SelectionDirection) {\n    SelectionDirection[SelectionDirection[\"horizontal\"] = 0] = \"horizontal\";\n    SelectionDirection[SelectionDirection[\"vertical\"] = 1] = \"vertical\";\n})(SelectionDirection || (SelectionDirection = {}));\n//# sourceMappingURL=Selection.types.js.map","import { warn } from './warn';\nimport { isControlled as checkIsControlled } from '../controlled';\nvar warningsMap;\nif (process.env.NODE_ENV !== 'production') {\n    warningsMap = {\n        valueOnChange: {},\n        valueDefaultValue: {},\n        controlledToUncontrolled: {},\n        uncontrolledToControlled: {},\n    };\n}\n/** Reset controlled usage warnings for testing purposes. */\nexport function resetControlledWarnings() {\n    if (process.env.NODE_ENV !== 'production') {\n        warningsMap.valueOnChange = {};\n        warningsMap.valueDefaultValue = {};\n        warningsMap.controlledToUncontrolled = {};\n        warningsMap.uncontrolledToControlled = {};\n    }\n}\n/**\n * Check for and warn on the following error conditions with a form component:\n * - A value prop is provided (indicated it's being used as controlled) without a change handler,\n *    and the component is not read-only\n * - Both the value and defaultValue props are provided\n * - The component is attempting to switch between controlled and uncontrolled\n *\n * The messages mimic the warnings React gives for these error conditions on input elements.\n * The warning will only be displayed once per component ID.\n */\nexport function warnControlledUsage(params) {\n    if (process.env.NODE_ENV !== 'production') {\n        var componentId = params.componentId, componentName = params.componentName, defaultValueProp = params.defaultValueProp, props = params.props, oldProps = params.oldProps, onChangeProp = params.onChangeProp, readOnlyProp = params.readOnlyProp, valueProp = params.valueProp;\n        // This warning logic closely follows what React does for native <input> elements.\n        var oldIsControlled = oldProps ? checkIsControlled(oldProps, valueProp) : undefined;\n        var newIsControlled = checkIsControlled(props, valueProp);\n        if (newIsControlled) {\n            // onChange (or readOnly) must be provided if value is provided\n            var hasOnChange = !!props[onChangeProp];\n            var isReadOnly = !!(readOnlyProp && props[readOnlyProp]);\n            if (!(hasOnChange || isReadOnly) && !warningsMap.valueOnChange[componentId]) {\n                warningsMap.valueOnChange[componentId] = true;\n                warn(\"Warning: You provided a '\" + valueProp + \"' prop to a \" + componentName + \" without an '\" + onChangeProp + \"' handler. \" +\n                    (\"This will render a read-only field. If the field should be mutable use '\" + defaultValueProp + \"'. \") +\n                    (\"Otherwise, set '\" + onChangeProp + \"'\" + (readOnlyProp ? \" or '\" + readOnlyProp + \"'\" : '') + \".\"));\n            }\n            // value and defaultValue are mutually exclusive\n            var defaultValue = props[defaultValueProp];\n            if (defaultValue !== undefined && defaultValue !== null && !warningsMap.valueDefaultValue[componentId]) {\n                warningsMap.valueDefaultValue[componentId] = true;\n                warn(\"Warning: You provided both '\" + valueProp + \"' and '\" + defaultValueProp + \"' to a \" + componentName + \". \" +\n                    (\"Form fields must be either controlled or uncontrolled (specify either the '\" + valueProp + \"' prop, \") +\n                    (\"or the '\" + defaultValueProp + \"' prop, but not both). Decide between using a controlled or uncontrolled \") +\n                    (componentName + \" and remove one of these props. More info: https://fb.me/react-controlled-components\"));\n            }\n        }\n        // Warn if switching between uncontrolled and controlled. (One difference between this implementation\n        // and React's <input> is that if oldIsControlled is indeterminate and newIsControlled true, we don't warn.)\n        if (oldProps && newIsControlled !== oldIsControlled) {\n            var oldType = oldIsControlled ? 'a controlled' : 'an uncontrolled';\n            var newType = oldIsControlled ? 'uncontrolled' : 'controlled';\n            var warnMap = oldIsControlled ? warningsMap.controlledToUncontrolled : warningsMap.uncontrolledToControlled;\n            if (!warnMap[componentId]) {\n                warnMap[componentId] = true;\n                warn(\"Warning: A component is changing \" + oldType + \" \" + componentName + \" to be \" + newType + \". \" +\n                    (componentName + \"s should not switch from controlled to uncontrolled (or vice versa). \") +\n                    \"Decide between using controlled or uncontrolled for the lifetime of the component. \" +\n                    \"More info: https://fb.me/react-controlled-components\");\n            }\n        }\n    }\n}\n//# sourceMappingURL=warnControlledUsage.js.map"],"sourceRoot":""}